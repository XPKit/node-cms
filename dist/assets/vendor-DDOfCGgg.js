import{s as Qb,u as bn,b as Zb,n as Cc,d as ls,r as Ox,i as Tl,e as ur,h as Ol,p as Ph,a as hr,f as Vo,j as Mx,k as Fx,l as at,q as xt,t as Nx,m as xc,v as Sr,x as Rx,y as fg,z as co,A as Vn,B as wf,C as tr,F as sp,D as ap,E as ns,G as Ul,H as Lx,I as e1,J as lp,K as Mn,L as Bx,M as Ix,g as Px,o as zx,N as cg,O as t1,P as _x}from"./@vue-D4RBOkYN.js";import{c as di,g as ir,a as n1}from"./@json-editor-CIIna9Sp.js";import{r as $x}from"./vue-B7lT5jtM.js";const Ml=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{};/*!
  * vue-router v4.3.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Vs=typeof document<"u";function Hx(n){return n.__esModule||n[Symbol.toStringTag]==="Module"}const wt=Object.assign;function zh(n,e){const t={};for(const r in e){const o=e[r];t[r]=zr(o)?o.map(n):n(o)}return t}const ul=()=>{},zr=Array.isArray,r1=/#/g,Wx=/&/g,jx=/\//g,Ux=/=/g,Vx=/\?/g,i1=/\+/g,qx=/%5B/g,Kx=/%5D/g,o1=/%5E/g,Gx=/%60/g,s1=/%7B/g,Jx=/%7C/g,a1=/%7D/g,Yx=/%20/g;function hg(n){return encodeURI(""+n).replace(Jx,"|").replace(qx,"[").replace(Kx,"]")}function Xx(n){return hg(n).replace(s1,"{").replace(a1,"}").replace(o1,"^")}function up(n){return hg(n).replace(i1,"%2B").replace(Yx,"+").replace(r1,"%23").replace(Wx,"%26").replace(Gx,"`").replace(s1,"{").replace(a1,"}").replace(o1,"^")}function Qx(n){return up(n).replace(Ux,"%3D")}function Zx(n){return hg(n).replace(r1,"%23").replace(Vx,"%3F")}function eE(n){return n==null?"":Zx(n).replace(jx,"%2F")}function Fl(n){try{return decodeURIComponent(""+n)}catch{}return""+n}const tE=/\/$/,nE=n=>n.replace(tE,"");function _h(n,e,t="/"){let r,o={},s="",l="";const u=e.indexOf("#");let f=e.indexOf("?");return u<f&&u>=0&&(f=-1),f>-1&&(r=e.slice(0,f),s=e.slice(f+1,u>-1?u:e.length),o=n(s)),u>-1&&(r=r||e.slice(0,u),l=e.slice(u,e.length)),r=sE(r??e,t),{fullPath:r+(s&&"?")+s+l,path:r,query:o,hash:Fl(l)}}function rE(n,e){const t=e.query?n(e.query):"";return e.path+(t&&"?")+t+(e.hash||"")}function e0(n,e){return!e||!n.toLowerCase().startsWith(e.toLowerCase())?n:n.slice(e.length)||"/"}function iE(n,e,t){const r=e.matched.length-1,o=t.matched.length-1;return r>-1&&r===o&&ia(e.matched[r],t.matched[o])&&l1(e.params,t.params)&&n(e.query)===n(t.query)&&e.hash===t.hash}function ia(n,e){return(n.aliasOf||n)===(e.aliasOf||e)}function l1(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(!oE(n[t],e[t]))return!1;return!0}function oE(n,e){return zr(n)?t0(n,e):zr(e)?t0(e,n):n===e}function t0(n,e){return zr(e)?n.length===e.length&&n.every((t,r)=>t===e[r]):n.length===1&&n[0]===e}function sE(n,e){if(n.startsWith("/"))return n;if(!n)return e;const t=e.split("/"),r=n.split("/"),o=r[r.length-1];(o===".."||o===".")&&r.push("");let s=t.length-1,l,u;for(l=0;l<r.length;l++)if(u=r[l],u!==".")if(u==="..")s>1&&s--;else break;return t.slice(0,s).join("/")+"/"+r.slice(l).join("/")}var Nl;(function(n){n.pop="pop",n.push="push"})(Nl||(Nl={}));var fl;(function(n){n.back="back",n.forward="forward",n.unknown=""})(fl||(fl={}));function aE(n){if(!n)if(Vs){const e=document.querySelector("base");n=e&&e.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),nE(n)}const lE=/^[^#]+#/;function uE(n,e){return n.replace(lE,"#")+e}function fE(n,e){const t=document.documentElement.getBoundingClientRect(),r=n.getBoundingClientRect();return{behavior:e.behavior,left:r.left-t.left-(e.left||0),top:r.top-t.top-(e.top||0)}}const Ec=()=>({left:window.scrollX,top:window.scrollY});function cE(n){let e;if("el"in n){const t=n.el,r=typeof t=="string"&&t.startsWith("#"),o=typeof t=="string"?r?document.getElementById(t.slice(1)):document.querySelector(t):t;if(!o)return;e=fE(o,n)}else e=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function n0(n,e){return(history.state?history.state.position-e:-1)+n}const fp=new Map;function hE(n,e){fp.set(n,e)}function dE(n){const e=fp.get(n);return fp.delete(n),e}let pE=()=>location.protocol+"//"+location.host;function u1(n,e){const{pathname:t,search:r,hash:o}=e,s=n.indexOf("#");if(s>-1){let u=o.includes(n.slice(s))?n.slice(s).length:1,f=o.slice(u);return f[0]!=="/"&&(f="/"+f),e0(f,"")}return e0(t,n)+r+o}function gE(n,e,t,r){let o=[],s=[],l=null;const u=({state:v})=>{const D=u1(n,location),w=t.value,k=e.value;let M=0;if(v){if(t.value=D,e.value=v,l&&l===w){l=null;return}M=k?v.position-k.position:0}else r(D);o.forEach(R=>{R(t.value,w,{delta:M,type:Nl.pop,direction:M?M>0?fl.forward:fl.back:fl.unknown})})};function f(){l=t.value}function d(v){o.push(v);const D=()=>{const w=o.indexOf(v);w>-1&&o.splice(w,1)};return s.push(D),D}function p(){const{history:v}=window;v.state&&v.replaceState(wt({},v.state,{scroll:Ec()}),"")}function m(){for(const v of s)v();s=[],window.removeEventListener("popstate",u),window.removeEventListener("beforeunload",p)}return window.addEventListener("popstate",u),window.addEventListener("beforeunload",p,{passive:!0}),{pauseListeners:f,listen:d,destroy:m}}function r0(n,e,t,r=!1,o=!1){return{back:n,current:e,forward:t,replaced:r,position:window.history.length,scroll:o?Ec():null}}function mE(n){const{history:e,location:t}=window,r={value:u1(n,t)},o={value:e.state};o.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(f,d,p){const m=n.indexOf("#"),v=m>-1?(t.host&&document.querySelector("base")?n:n.slice(m))+f:pE()+n+f;try{e[p?"replaceState":"pushState"](d,"",v),o.value=d}catch(D){console.error(D),t[p?"replace":"assign"](v)}}function l(f,d){const p=wt({},e.state,r0(o.value.back,f,o.value.forward,!0),d,{position:o.value.position});s(f,p,!0),r.value=f}function u(f,d){const p=wt({},o.value,e.state,{forward:f,scroll:Ec()});s(p.current,p,!0);const m=wt({},r0(r.value,f,null),{position:p.position+1},d);s(f,m,!1),r.value=f}return{location:r,state:o,push:u,replace:l}}function vE(n){n=aE(n);const e=mE(n),t=gE(n,e.state,e.location,e.replace);function r(s,l=!0){l||t.pauseListeners(),history.go(s)}const o=wt({location:"",base:n,go:r,createHref:uE.bind(null,n)},e,t);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>e.state.value}),o}function SL(n){return n=location.host?n||location.pathname+location.search:"",n.includes("#")||(n+="#"),vE(n)}function yE(n){return typeof n=="string"||n&&typeof n=="object"}function f1(n){return typeof n=="string"||typeof n=="symbol"}const Xi={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},c1=Symbol("");var i0;(function(n){n[n.aborted=4]="aborted",n[n.cancelled=8]="cancelled",n[n.duplicated=16]="duplicated"})(i0||(i0={}));function oa(n,e){return wt(new Error,{type:n,[c1]:!0},e)}function Di(n,e){return n instanceof Error&&c1 in n&&(e==null||!!(n.type&e))}const o0="[^/]+?",bE={sensitive:!1,strict:!1,start:!0,end:!0},wE=/[.+*?^${}()[\]/\\]/g;function DE(n,e){const t=wt({},bE,e),r=[];let o=t.start?"^":"";const s=[];for(const d of n){const p=d.length?[]:[90];t.strict&&!d.length&&(o+="/");for(let m=0;m<d.length;m++){const v=d[m];let D=40+(t.sensitive?.25:0);if(v.type===0)m||(o+="/"),o+=v.value.replace(wE,"\\$&"),D+=40;else if(v.type===1){const{value:w,repeatable:k,optional:M,regexp:R}=v;s.push({name:w,repeatable:k,optional:M});const I=R||o0;if(I!==o0){D+=10;try{new RegExp(`(${I})`)}catch(b){throw new Error(`Invalid custom RegExp for param "${w}" (${I}): `+b.message)}}let z=k?`((?:${I})(?:/(?:${I}))*)`:`(${I})`;m||(z=M&&d.length<2?`(?:/${z})`:"/"+z),M&&(z+="?"),o+=z,D+=20,M&&(D+=-8),k&&(D+=-20),I===".*"&&(D+=-50)}p.push(D)}r.push(p)}if(t.strict&&t.end){const d=r.length-1;r[d][r[d].length-1]+=.7000000000000001}t.strict||(o+="/?"),t.end?o+="$":t.strict&&(o+="(?:/|$)");const l=new RegExp(o,t.sensitive?"":"i");function u(d){const p=d.match(l),m={};if(!p)return null;for(let v=1;v<p.length;v++){const D=p[v]||"",w=s[v-1];m[w.name]=D&&w.repeatable?D.split("/"):D}return m}function f(d){let p="",m=!1;for(const v of n){(!m||!p.endsWith("/"))&&(p+="/"),m=!1;for(const D of v)if(D.type===0)p+=D.value;else if(D.type===1){const{value:w,repeatable:k,optional:M}=D,R=w in d?d[w]:"";if(zr(R)&&!k)throw new Error(`Provided param "${w}" is an array but it is not repeatable (* or + modifiers)`);const I=zr(R)?R.join("/"):R;if(!I)if(M)v.length<2&&(p.endsWith("/")?p=p.slice(0,-1):m=!0);else throw new Error(`Missing required param "${w}"`);p+=I}}return p||"/"}return{re:l,score:r,keys:s,parse:u,stringify:f}}function SE(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=e[t]-n[t];if(r)return r;t++}return n.length<e.length?n.length===1&&n[0]===80?-1:1:n.length>e.length?e.length===1&&e[0]===80?1:-1:0}function CE(n,e){let t=0;const r=n.score,o=e.score;for(;t<r.length&&t<o.length;){const s=SE(r[t],o[t]);if(s)return s;t++}if(Math.abs(o.length-r.length)===1){if(s0(r))return 1;if(s0(o))return-1}return o.length-r.length}function s0(n){const e=n[n.length-1];return n.length>0&&e[e.length-1]<0}const xE={type:0,value:""},EE=/[a-zA-Z0-9_]/;function kE(n){if(!n)return[[]];if(n==="/")return[[xE]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function e(D){throw new Error(`ERR (${t})/"${d}": ${D}`)}let t=0,r=t;const o=[];let s;function l(){s&&o.push(s),s=[]}let u=0,f,d="",p="";function m(){d&&(t===0?s.push({type:0,value:d}):t===1||t===2||t===3?(s.length>1&&(f==="*"||f==="+")&&e(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:d,regexp:p,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):e("Invalid state to consume buffer"),d="")}function v(){d+=f}for(;u<n.length;){if(f=n[u++],f==="\\"&&t!==2){r=t,t=4;continue}switch(t){case 0:f==="/"?(d&&m(),l()):f===":"?(m(),t=1):v();break;case 4:v(),t=r;break;case 1:f==="("?t=2:EE.test(f)?v():(m(),t=0,f!=="*"&&f!=="?"&&f!=="+"&&u--);break;case 2:f===")"?p[p.length-1]=="\\"?p=p.slice(0,-1)+f:t=3:p+=f;break;case 3:m(),t=0,f!=="*"&&f!=="?"&&f!=="+"&&u--,p="";break;default:e("Unknown state");break}}return t===2&&e(`Unfinished custom RegExp for param "${d}"`),m(),l(),o}function AE(n,e,t){const r=DE(kE(n.path),t),o=wt(r,{record:n,parent:e,children:[],alias:[]});return e&&!o.record.aliasOf==!e.record.aliasOf&&e.children.push(o),o}function TE(n,e){const t=[],r=new Map;e=u0({strict:!1,end:!0,sensitive:!1},e);function o(p){return r.get(p)}function s(p,m,v){const D=!v,w=OE(p);w.aliasOf=v&&v.record;const k=u0(e,p),M=[w];if("alias"in p){const z=typeof p.alias=="string"?[p.alias]:p.alias;for(const b of z)M.push(wt({},w,{components:v?v.record.components:w.components,path:b,aliasOf:v?v.record:w}))}let R,I;for(const z of M){const{path:b}=z;if(m&&b[0]!=="/"){const x=m.record.path,T=x[x.length-1]==="/"?"":"/";z.path=m.record.path+(b&&T+b)}if(R=AE(z,m,k),v?v.alias.push(R):(I=I||R,I!==R&&I.alias.push(R),D&&p.name&&!l0(R)&&l(p.name)),w.children){const x=w.children;for(let T=0;T<x.length;T++)s(x[T],R,v&&v.children[T])}v=v||R,(R.record.components&&Object.keys(R.record.components).length||R.record.name||R.record.redirect)&&f(R)}return I?()=>{l(I)}:ul}function l(p){if(f1(p)){const m=r.get(p);m&&(r.delete(p),t.splice(t.indexOf(m),1),m.children.forEach(l),m.alias.forEach(l))}else{const m=t.indexOf(p);m>-1&&(t.splice(m,1),p.record.name&&r.delete(p.record.name),p.children.forEach(l),p.alias.forEach(l))}}function u(){return t}function f(p){let m=0;for(;m<t.length&&CE(p,t[m])>=0&&(p.record.path!==t[m].record.path||!h1(p,t[m]));)m++;t.splice(m,0,p),p.record.name&&!l0(p)&&r.set(p.record.name,p)}function d(p,m){let v,D={},w,k;if("name"in p&&p.name){if(v=r.get(p.name),!v)throw oa(1,{location:p});k=v.record.name,D=wt(a0(m.params,v.keys.filter(I=>!I.optional).concat(v.parent?v.parent.keys.filter(I=>I.optional):[]).map(I=>I.name)),p.params&&a0(p.params,v.keys.map(I=>I.name))),w=v.stringify(D)}else if(p.path!=null)w=p.path,v=t.find(I=>I.re.test(w)),v&&(D=v.parse(w),k=v.record.name);else{if(v=m.name?r.get(m.name):t.find(I=>I.re.test(m.path)),!v)throw oa(1,{location:p,currentLocation:m});k=v.record.name,D=wt({},m.params,p.params),w=v.stringify(D)}const M=[];let R=v;for(;R;)M.unshift(R.record),R=R.parent;return{name:k,path:w,params:D,matched:M,meta:FE(M)}}return n.forEach(p=>s(p)),{addRoute:s,resolve:d,removeRoute:l,getRoutes:u,getRecordMatcher:o}}function a0(n,e){const t={};for(const r of e)r in n&&(t[r]=n[r]);return t}function OE(n){return{path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:void 0,beforeEnter:n.beforeEnter,props:ME(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||null:n.component&&{default:n.component}}}function ME(n){const e={},t=n.props||!1;if("component"in n)e.default=t;else for(const r in n.components)e[r]=typeof t=="object"?t[r]:t;return e}function l0(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function FE(n){return n.reduce((e,t)=>wt(e,t.meta),{})}function u0(n,e){const t={};for(const r in n)t[r]=r in e?e[r]:n[r];return t}function h1(n,e){return e.children.some(t=>t===n||h1(n,t))}function NE(n){const e={};if(n===""||n==="?")return e;const r=(n[0]==="?"?n.slice(1):n).split("&");for(let o=0;o<r.length;++o){const s=r[o].replace(i1," "),l=s.indexOf("="),u=Fl(l<0?s:s.slice(0,l)),f=l<0?null:Fl(s.slice(l+1));if(u in e){let d=e[u];zr(d)||(d=e[u]=[d]),d.push(f)}else e[u]=f}return e}function f0(n){let e="";for(let t in n){const r=n[t];if(t=Qx(t),r==null){r!==void 0&&(e+=(e.length?"&":"")+t);continue}(zr(r)?r.map(s=>s&&up(s)):[r&&up(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+t,s!=null&&(e+="="+s))})}return e}function RE(n){const e={};for(const t in n){const r=n[t];r!==void 0&&(e[t]=zr(r)?r.map(o=>o==null?null:""+o):r==null?r:""+r)}return e}const LE=Symbol(""),c0=Symbol(""),dg=Symbol(""),d1=Symbol(""),cp=Symbol("");function Qa(){let n=[];function e(r){return n.push(r),()=>{const o=n.indexOf(r);o>-1&&n.splice(o,1)}}function t(){n=[]}return{add:e,list:()=>n.slice(),reset:t}}function to(n,e,t,r,o,s=l=>l()){const l=r&&(r.enterCallbacks[o]=r.enterCallbacks[o]||[]);return()=>new Promise((u,f)=>{const d=v=>{v===!1?f(oa(4,{from:t,to:e})):v instanceof Error?f(v):yE(v)?f(oa(2,{from:e,to:v})):(l&&r.enterCallbacks[o]===l&&typeof v=="function"&&l.push(v),u())},p=s(()=>n.call(r&&r.instances[o],e,t,d));let m=Promise.resolve(p);n.length<3&&(m=m.then(d)),m.catch(v=>f(v))})}function $h(n,e,t,r,o=s=>s()){const s=[];for(const l of n)for(const u in l.components){let f=l.components[u];if(!(e!=="beforeRouteEnter"&&!l.instances[u]))if(BE(f)){const p=(f.__vccOpts||f)[e];p&&s.push(to(p,t,r,l,u,o))}else{let d=f();s.push(()=>d.then(p=>{if(!p)return Promise.reject(new Error(`Couldn't resolve component "${u}" at "${l.path}"`));const m=Hx(p)?p.default:p;l.components[u]=m;const D=(m.__vccOpts||m)[e];return D&&to(D,t,r,l,u,o)()}))}}return s}function BE(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function h0(n){const e=Tl(dg),t=Tl(d1),r=ur(()=>e.resolve(bn(n.to))),o=ur(()=>{const{matched:f}=r.value,{length:d}=f,p=f[d-1],m=t.matched;if(!p||!m.length)return-1;const v=m.findIndex(ia.bind(null,p));if(v>-1)return v;const D=d0(f[d-2]);return d>1&&d0(p)===D&&m[m.length-1].path!==D?m.findIndex(ia.bind(null,f[d-2])):v}),s=ur(()=>o.value>-1&&_E(t.params,r.value.params)),l=ur(()=>o.value>-1&&o.value===t.matched.length-1&&l1(t.params,r.value.params));function u(f={}){return zE(f)?e[bn(n.replace)?"replace":"push"](bn(n.to)).catch(ul):Promise.resolve()}return{route:r,href:ur(()=>r.value.href),isActive:s,isExactActive:l,navigate:u}}const IE=ls({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:h0,setup(n,{slots:e}){const t=Ox(h0(n)),{options:r}=Tl(dg),o=ur(()=>({[p0(n.activeClass,r.linkActiveClass,"router-link-active")]:t.isActive,[p0(n.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:t.isExactActive}));return()=>{const s=e.default&&e.default(t);return n.custom?s:Ol("a",{"aria-current":t.isExactActive?n.ariaCurrentValue:null,href:t.href,onClick:t.navigate,class:o.value},s)}}}),PE=IE;function zE(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const e=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return n.preventDefault&&n.preventDefault(),!0}}function _E(n,e){for(const t in e){const r=e[t],o=n[t];if(typeof r=="string"){if(r!==o)return!1}else if(!zr(o)||o.length!==r.length||r.some((s,l)=>s!==o[l]))return!1}return!0}function d0(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const p0=(n,e,t)=>n??e??t,$E=ls({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(n,{attrs:e,slots:t}){const r=Tl(cp),o=ur(()=>n.route||r.value),s=Tl(c0,0),l=ur(()=>{let d=bn(s);const{matched:p}=o.value;let m;for(;(m=p[d])&&!m.components;)d++;return d}),u=ur(()=>o.value.matched[l.value]);Ph(c0,ur(()=>l.value+1)),Ph(LE,u),Ph(cp,o);const f=hr();return Vo(()=>[f.value,u.value,n.name],([d,p,m],[v,D,w])=>{p&&(p.instances[m]=d,D&&D!==p&&d&&d===v&&(p.leaveGuards.size||(p.leaveGuards=D.leaveGuards),p.updateGuards.size||(p.updateGuards=D.updateGuards))),d&&p&&(!D||!ia(p,D)||!v)&&(p.enterCallbacks[m]||[]).forEach(k=>k(d))},{flush:"post"}),()=>{const d=o.value,p=n.name,m=u.value,v=m&&m.components[p];if(!v)return g0(t.default,{Component:v,route:d});const D=m.props[p],w=D?D===!0?d.params:typeof D=="function"?D(d):D:null,M=Ol(v,wt({},w,e,{onVnodeUnmounted:R=>{R.component.isUnmounted&&(m.instances[p]=null)},ref:f}));return g0(t.default,{Component:M,route:d})||M}}});function g0(n,e){if(!n)return null;const t=n(e);return t.length===1?t[0]:t}const HE=$E;function CL(n){const e=TE(n.routes,n),t=n.parseQuery||NE,r=n.stringifyQuery||f0,o=n.history,s=Qa(),l=Qa(),u=Qa(),f=Qb(Xi);let d=Xi;Vs&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const p=zh.bind(null,ee=>""+ee),m=zh.bind(null,eE),v=zh.bind(null,Fl);function D(ee,ue){let he,ve;return f1(ee)?(he=e.getRecordMatcher(ee),ve=ue):ve=ee,e.addRoute(ve,he)}function w(ee){const ue=e.getRecordMatcher(ee);ue&&e.removeRoute(ue)}function k(){return e.getRoutes().map(ee=>ee.record)}function M(ee){return!!e.getRecordMatcher(ee)}function R(ee,ue){if(ue=wt({},ue||f.value),typeof ee=="string"){const Ie=_h(t,ee,ue.path),$e=e.resolve({path:Ie.path},ue),Ge=o.createHref(Ie.fullPath);return wt(Ie,$e,{params:v($e.params),hash:Fl(Ie.hash),redirectedFrom:void 0,href:Ge})}let he;if(ee.path!=null)he=wt({},ee,{path:_h(t,ee.path,ue.path).path});else{const Ie=wt({},ee.params);for(const $e in Ie)Ie[$e]==null&&delete Ie[$e];he=wt({},ee,{params:m(Ie)}),ue.params=m(ue.params)}const ve=e.resolve(he,ue),we=ee.hash||"";ve.params=p(v(ve.params));const Pe=rE(r,wt({},ee,{hash:Xx(we),path:ve.path})),Be=o.createHref(Pe);return wt({fullPath:Pe,hash:we,query:r===f0?RE(ee.query):ee.query||{}},ve,{redirectedFrom:void 0,href:Be})}function I(ee){return typeof ee=="string"?_h(t,ee,f.value.path):wt({},ee)}function z(ee,ue){if(d!==ee)return oa(8,{from:ue,to:ee})}function b(ee){return B(ee)}function x(ee){return b(wt(I(ee),{replace:!0}))}function T(ee){const ue=ee.matched[ee.matched.length-1];if(ue&&ue.redirect){const{redirect:he}=ue;let ve=typeof he=="function"?he(ee):he;return typeof ve=="string"&&(ve=ve.includes("?")||ve.includes("#")?ve=I(ve):{path:ve},ve.params={}),wt({query:ee.query,hash:ee.hash,params:ve.path!=null?{}:ee.params},ve)}}function B(ee,ue){const he=d=R(ee),ve=f.value,we=ee.state,Pe=ee.force,Be=ee.replace===!0,Ie=T(he);if(Ie)return B(wt(I(Ie),{state:typeof Ie=="object"?wt({},we,Ie.state):we,force:Pe,replace:Be}),ue||he);const $e=he;$e.redirectedFrom=ue;let Ge;return!Pe&&iE(r,ve,he)&&(Ge=oa(16,{to:$e,from:ve}),pe(ve,ve,!0,!1)),(Ge?Promise.resolve(Ge):J($e,ve)).catch(Ke=>Di(Ke)?Di(Ke,2)?Ke:se(Ke):G(Ke,$e,ve)).then(Ke=>{if(Ke){if(Di(Ke,2))return B(wt({replace:Be},I(Ke.to),{state:typeof Ke.to=="object"?wt({},we,Ke.to.state):we,force:Pe}),ue||$e)}else Ke=H($e,ve,!0,Be,we);return U($e,ve,Ke),Ke})}function $(ee,ue){const he=z(ee,ue);return he?Promise.reject(he):Promise.resolve()}function V(ee){const ue=ae.values().next().value;return ue&&typeof ue.runWithContext=="function"?ue.runWithContext(ee):ee()}function J(ee,ue){let he;const[ve,we,Pe]=WE(ee,ue);he=$h(ve.reverse(),"beforeRouteLeave",ee,ue);for(const Ie of ve)Ie.leaveGuards.forEach($e=>{he.push(to($e,ee,ue))});const Be=$.bind(null,ee,ue);return he.push(Be),ce(he).then(()=>{he=[];for(const Ie of s.list())he.push(to(Ie,ee,ue));return he.push(Be),ce(he)}).then(()=>{he=$h(we,"beforeRouteUpdate",ee,ue);for(const Ie of we)Ie.updateGuards.forEach($e=>{he.push(to($e,ee,ue))});return he.push(Be),ce(he)}).then(()=>{he=[];for(const Ie of Pe)if(Ie.beforeEnter)if(zr(Ie.beforeEnter))for(const $e of Ie.beforeEnter)he.push(to($e,ee,ue));else he.push(to(Ie.beforeEnter,ee,ue));return he.push(Be),ce(he)}).then(()=>(ee.matched.forEach(Ie=>Ie.enterCallbacks={}),he=$h(Pe,"beforeRouteEnter",ee,ue,V),he.push(Be),ce(he))).then(()=>{he=[];for(const Ie of l.list())he.push(to(Ie,ee,ue));return he.push(Be),ce(he)}).catch(Ie=>Di(Ie,8)?Ie:Promise.reject(Ie))}function U(ee,ue,he){u.list().forEach(ve=>V(()=>ve(ee,ue,he)))}function H(ee,ue,he,ve,we){const Pe=z(ee,ue);if(Pe)return Pe;const Be=ue===Xi,Ie=Vs?history.state:{};he&&(ve||Be?o.replace(ee.fullPath,wt({scroll:Be&&Ie&&Ie.scroll},we)):o.push(ee.fullPath,we)),f.value=ee,pe(ee,ue,he,Be),se()}let j;function _(){j||(j=o.listen((ee,ue,he)=>{if(!fe.listening)return;const ve=R(ee),we=T(ve);if(we){B(wt(we,{replace:!0}),ve).catch(ul);return}d=ve;const Pe=f.value;Vs&&hE(n0(Pe.fullPath,he.delta),Ec()),J(ve,Pe).catch(Be=>Di(Be,12)?Be:Di(Be,2)?(B(Be.to,ve).then(Ie=>{Di(Ie,20)&&!he.delta&&he.type===Nl.pop&&o.go(-1,!1)}).catch(ul),Promise.reject()):(he.delta&&o.go(-he.delta,!1),G(Be,ve,Pe))).then(Be=>{Be=Be||H(ve,Pe,!1),Be&&(he.delta&&!Di(Be,8)?o.go(-he.delta,!1):he.type===Nl.pop&&Di(Be,20)&&o.go(-1,!1)),U(ve,Pe,Be)}).catch(ul)}))}let C=Qa(),N=Qa(),W;function G(ee,ue,he){se(ee);const ve=N.list();return ve.length?ve.forEach(we=>we(ee,ue,he)):console.error(ee),Promise.reject(ee)}function te(){return W&&f.value!==Xi?Promise.resolve():new Promise((ee,ue)=>{C.add([ee,ue])})}function se(ee){return W||(W=!ee,_(),C.list().forEach(([ue,he])=>ee?he(ee):ue()),C.reset()),ee}function pe(ee,ue,he,ve){const{scrollBehavior:we}=n;if(!Vs||!we)return Promise.resolve();const Pe=!he&&dE(n0(ee.fullPath,0))||(ve||!he)&&history.state&&history.state.scroll||null;return Cc().then(()=>we(ee,ue,Pe)).then(Be=>Be&&cE(Be)).catch(Be=>G(Be,ee,ue))}const oe=ee=>o.go(ee);let le;const ae=new Set,fe={currentRoute:f,listening:!0,addRoute:D,removeRoute:w,hasRoute:M,getRoutes:k,resolve:R,options:n,push:b,replace:x,go:oe,back:()=>oe(-1),forward:()=>oe(1),beforeEach:s.add,beforeResolve:l.add,afterEach:u.add,onError:N.add,isReady:te,install(ee){const ue=this;ee.component("RouterLink",PE),ee.component("RouterView",HE),ee.config.globalProperties.$router=ue,Object.defineProperty(ee.config.globalProperties,"$route",{enumerable:!0,get:()=>bn(f)}),Vs&&!le&&f.value===Xi&&(le=!0,b(o.location).catch(we=>{}));const he={};for(const we in Xi)Object.defineProperty(he,we,{get:()=>f.value[we],enumerable:!0});ee.provide(dg,ue),ee.provide(d1,Zb(he)),ee.provide(cp,f);const ve=ee.unmount;ae.add(ee),ee.unmount=function(){ae.delete(ee),ae.size<1&&(d=Xi,j&&j(),j=null,f.value=Xi,le=!1,W=!1),ve()}}};function ce(ee){return ee.reduce((ue,he)=>ue.then(()=>V(he)),Promise.resolve())}return fe}function WE(n,e){const t=[],r=[],o=[],s=Math.max(e.matched.length,n.matched.length);for(let l=0;l<s;l++){const u=e.matched[l];u&&(n.matched.find(d=>ia(d,u))?r.push(u):t.push(u));const f=n.matched[l];f&&(e.matched.find(d=>ia(d,f))||o.push(f))}return[t,r,o]}var p1={exports:{}},Hh={exports:{}};/*!
 * clipboard.js v2.0.11
 * https://clipboardjs.com/
 *
 * Licensed MIT Â© Zeno Rocha
 */var m0;function jE(){return m0||(m0=1,function(n,e){(function(r,o){n.exports=o()})(di,function(){return function(){var t={686:function(s,l,u){u.d(l,{default:function(){return pe}});var f=u(279),d=u.n(f),p=u(370),m=u.n(p),v=u(817),D=u.n(v);function w(oe){try{return document.execCommand(oe)}catch{return!1}}var k=function(le){var ae=D()(le);return w("cut"),ae},M=k;function R(oe){var le=document.documentElement.getAttribute("dir")==="rtl",ae=document.createElement("textarea");ae.style.fontSize="12pt",ae.style.border="0",ae.style.padding="0",ae.style.margin="0",ae.style.position="absolute",ae.style[le?"right":"left"]="-9999px";var fe=window.pageYOffset||document.documentElement.scrollTop;return ae.style.top="".concat(fe,"px"),ae.setAttribute("readonly",""),ae.value=oe,ae}var I=function(le,ae){var fe=R(le);ae.container.appendChild(fe);var ce=D()(fe);return w("copy"),fe.remove(),ce},z=function(le){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body},fe="";return typeof le=="string"?fe=I(le,ae):le instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(le==null?void 0:le.type)?fe=I(le.value,ae):(fe=D()(le),w("copy")),fe},b=z;function x(oe){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?x=function(ae){return typeof ae}:x=function(ae){return ae&&typeof Symbol=="function"&&ae.constructor===Symbol&&ae!==Symbol.prototype?"symbol":typeof ae},x(oe)}var T=function(){var le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ae=le.action,fe=ae===void 0?"copy":ae,ce=le.container,ee=le.target,ue=le.text;if(fe!=="copy"&&fe!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"');if(ee!==void 0)if(ee&&x(ee)==="object"&&ee.nodeType===1){if(fe==="copy"&&ee.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(fe==="cut"&&(ee.hasAttribute("readonly")||ee.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`)}else throw new Error('Invalid "target" value, use a valid Element');if(ue)return b(ue,{container:ce});if(ee)return fe==="cut"?M(ee):b(ee,{container:ce})},B=T;function $(oe){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$=function(ae){return typeof ae}:$=function(ae){return ae&&typeof Symbol=="function"&&ae.constructor===Symbol&&ae!==Symbol.prototype?"symbol":typeof ae},$(oe)}function V(oe,le){if(!(oe instanceof le))throw new TypeError("Cannot call a class as a function")}function J(oe,le){for(var ae=0;ae<le.length;ae++){var fe=le[ae];fe.enumerable=fe.enumerable||!1,fe.configurable=!0,"value"in fe&&(fe.writable=!0),Object.defineProperty(oe,fe.key,fe)}}function U(oe,le,ae){return le&&J(oe.prototype,le),ae&&J(oe,ae),oe}function H(oe,le){if(typeof le!="function"&&le!==null)throw new TypeError("Super expression must either be null or a function");oe.prototype=Object.create(le&&le.prototype,{constructor:{value:oe,writable:!0,configurable:!0}}),le&&j(oe,le)}function j(oe,le){return j=Object.setPrototypeOf||function(fe,ce){return fe.__proto__=ce,fe},j(oe,le)}function _(oe){var le=W();return function(){var fe=G(oe),ce;if(le){var ee=G(this).constructor;ce=Reflect.construct(fe,arguments,ee)}else ce=fe.apply(this,arguments);return C(this,ce)}}function C(oe,le){return le&&($(le)==="object"||typeof le=="function")?le:N(oe)}function N(oe){if(oe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return oe}function W(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function G(oe){return G=Object.setPrototypeOf?Object.getPrototypeOf:function(ae){return ae.__proto__||Object.getPrototypeOf(ae)},G(oe)}function te(oe,le){var ae="data-clipboard-".concat(oe);if(le.hasAttribute(ae))return le.getAttribute(ae)}var se=function(oe){H(ae,oe);var le=_(ae);function ae(fe,ce){var ee;return V(this,ae),ee=le.call(this),ee.resolveOptions(ce),ee.listenClick(fe),ee}return U(ae,[{key:"resolveOptions",value:function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=typeof ce.action=="function"?ce.action:this.defaultAction,this.target=typeof ce.target=="function"?ce.target:this.defaultTarget,this.text=typeof ce.text=="function"?ce.text:this.defaultText,this.container=$(ce.container)==="object"?ce.container:document.body}},{key:"listenClick",value:function(ce){var ee=this;this.listener=m()(ce,"click",function(ue){return ee.onClick(ue)})}},{key:"onClick",value:function(ce){var ee=ce.delegateTarget||ce.currentTarget,ue=this.action(ee)||"copy",he=B({action:ue,container:this.container,target:this.target(ee),text:this.text(ee)});this.emit(he?"success":"error",{action:ue,text:he,trigger:ee,clearSelection:function(){ee&&ee.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(ce){return te("action",ce)}},{key:"defaultTarget",value:function(ce){var ee=te("target",ce);if(ee)return document.querySelector(ee)}},{key:"defaultText",value:function(ce){return te("text",ce)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function(ce){var ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body};return b(ce,ee)}},{key:"cut",value:function(ce){return M(ce)}},{key:"isSupported",value:function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["copy","cut"],ee=typeof ce=="string"?[ce]:ce,ue=!!document.queryCommandSupported;return ee.forEach(function(he){ue=ue&&!!document.queryCommandSupported(he)}),ue}}]),ae}(d()),pe=se},828:function(s){var l=9;if(typeof Element<"u"&&!Element.prototype.matches){var u=Element.prototype;u.matches=u.matchesSelector||u.mozMatchesSelector||u.msMatchesSelector||u.oMatchesSelector||u.webkitMatchesSelector}function f(d,p){for(;d&&d.nodeType!==l;){if(typeof d.matches=="function"&&d.matches(p))return d;d=d.parentNode}}s.exports=f},438:function(s,l,u){var f=u(828);function d(v,D,w,k,M){var R=m.apply(this,arguments);return v.addEventListener(w,R,M),{destroy:function(){v.removeEventListener(w,R,M)}}}function p(v,D,w,k,M){return typeof v.addEventListener=="function"?d.apply(null,arguments):typeof w=="function"?d.bind(null,document).apply(null,arguments):(typeof v=="string"&&(v=document.querySelectorAll(v)),Array.prototype.map.call(v,function(R){return d(R,D,w,k,M)}))}function m(v,D,w,k){return function(M){M.delegateTarget=f(M.target,D),M.delegateTarget&&k.call(v,M)}}s.exports=p},879:function(s,l){l.node=function(u){return u!==void 0&&u instanceof HTMLElement&&u.nodeType===1},l.nodeList=function(u){var f=Object.prototype.toString.call(u);return u!==void 0&&(f==="[object NodeList]"||f==="[object HTMLCollection]")&&"length"in u&&(u.length===0||l.node(u[0]))},l.string=function(u){return typeof u=="string"||u instanceof String},l.fn=function(u){var f=Object.prototype.toString.call(u);return f==="[object Function]"}},370:function(s,l,u){var f=u(879),d=u(438);function p(w,k,M){if(!w&&!k&&!M)throw new Error("Missing required arguments");if(!f.string(k))throw new TypeError("Second argument must be a String");if(!f.fn(M))throw new TypeError("Third argument must be a Function");if(f.node(w))return m(w,k,M);if(f.nodeList(w))return v(w,k,M);if(f.string(w))return D(w,k,M);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function m(w,k,M){return w.addEventListener(k,M),{destroy:function(){w.removeEventListener(k,M)}}}function v(w,k,M){return Array.prototype.forEach.call(w,function(R){R.addEventListener(k,M)}),{destroy:function(){Array.prototype.forEach.call(w,function(R){R.removeEventListener(k,M)})}}}function D(w,k,M){return d(document.body,w,k,M)}s.exports=p},817:function(s){function l(u){var f;if(u.nodeName==="SELECT")u.focus(),f=u.value;else if(u.nodeName==="INPUT"||u.nodeName==="TEXTAREA"){var d=u.hasAttribute("readonly");d||u.setAttribute("readonly",""),u.select(),u.setSelectionRange(0,u.value.length),d||u.removeAttribute("readonly"),f=u.value}else{u.hasAttribute("contenteditable")&&u.focus();var p=window.getSelection(),m=document.createRange();m.selectNodeContents(u),p.removeAllRanges(),p.addRange(m),f=p.toString()}return f}s.exports=l},279:function(s){function l(){}l.prototype={on:function(u,f,d){var p=this.e||(this.e={});return(p[u]||(p[u]=[])).push({fn:f,ctx:d}),this},once:function(u,f,d){var p=this;function m(){p.off(u,m),f.apply(d,arguments)}return m._=f,this.on(u,m,d)},emit:function(u){var f=[].slice.call(arguments,1),d=((this.e||(this.e={}))[u]||[]).slice(),p=0,m=d.length;for(p;p<m;p++)d[p].fn.apply(d[p].ctx,f);return this},off:function(u,f){var d=this.e||(this.e={}),p=d[u],m=[];if(p&&f)for(var v=0,D=p.length;v<D;v++)p[v].fn!==f&&p[v].fn._!==f&&m.push(p[v]);return m.length?d[u]=m:delete d[u],this}},s.exports=l,s.exports.TinyEmitter=l}},r={};function o(s){if(r[s])return r[s].exports;var l=r[s]={exports:{}};return t[s](l,l.exports,o),l.exports}return function(){o.n=function(s){var l=s&&s.__esModule?function(){return s.default}:function(){return s};return o.d(l,{a:l}),l}}(),function(){o.d=function(s,l){for(var u in l)o.o(l,u)&&!o.o(s,u)&&Object.defineProperty(s,u,{enumerable:!0,get:l[u]})}}(),function(){o.o=function(s,l){return Object.prototype.hasOwnProperty.call(s,l)}}(),o(686)}().default})}(Hh)),Hh.exports}(function(n,e){(function(t,r){n.exports=r($x,jE())})(di,function(t,r){return l={},o.m=s=[function(u,f,d){Object.defineProperty(f,"__esModule",{value:!0}),f.default=(p,m)=>{const v=p.__vccOpts||p;for(var[D,w]of m)v[D]=w;return v}},function(u,f){u.exports=t},function(u,f,d){Object.defineProperty(f,"__esModule",{value:!0}),D(d(1));var p=D(d(22)),m=D(d(42)),v=d(43);function D(w){return w&&w.__esModule?w:{default:w}}f.default={name:"JsonViewer",components:{JsonBox:p.default},props:{value:{type:[Object,Array,String,Number,Boolean,Function],required:!0},expanded:{type:Boolean,default:!1},expandDepth:{type:Number,default:1},copyable:{type:[Boolean,Object],default:!1},sort:{type:Boolean,default:!1},boxed:{type:Boolean,default:!1},theme:{type:String,default:"jv-light"},timeformat:{type:Function,default:function(w){return w.toLocaleString()}},previewMode:{type:Boolean,default:!1},showArrayIndex:{type:Boolean,default:!0},showDoubleQuotes:{type:Boolean,default:!1}},provide:function(){return{expandDepth:this.expandDepth,timeformat:this.timeformat,onKeyclick:this.onKeyclick}},data:function(){return{copied:!1,expandableCode:!1,expandCode:this.expanded}},computed:{jvClass:function(){return"jv-container "+this.theme+(this.boxed?" boxed":"")},copyText:function(){var w=this.copyable;return{copyText:w.copyText||"copy",copiedText:w.copiedText||"copied!",timeout:w.timeout||2e3,align:w.align}}},watch:{value:function(){this.onResized()}},mounted:function(){var w=this;this.debounceResized=(0,v.debounce)(this.debResized.bind(this),200),this.boxed&&this.$refs.jsonBox&&(this.onResized(),this.$refs.jsonBox.$el.addEventListener("resized",this.onResized,!0)),this.copyable&&new m.default(this.$refs.clip,{container:this.$refs.viewer,text:function(){return JSON.stringify(w.value,null,2)}}).on("success",function(k){w.onCopied(k)})},methods:{onResized:function(){this.debounceResized()},debResized:function(){var w=this;this.$nextTick(function(){w.$refs.jsonBox&&(250<=w.$refs.jsonBox.$el.clientHeight?w.expandableCode=!0:w.expandableCode=!1)})},onCopied:function(w){var k=this;this.copied||(this.copied=!0,setTimeout(function(){k.copied=!1},this.copyText.timeout),this.$emit("copied",w))},toggleExpandCode:function(){this.expandCode=!this.expandCode},onKeyclick:function(w){this.$emit("keyclick",w)}}}},function(u,f,d){Object.defineProperty(f,"__esModule",{value:!0});var p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},m=d(1),v=b(d(31)),D=b(d(32)),w=b(d(33)),k=b(d(34)),M=b(d(35)),R=b(d(36)),I=b(d(37)),z=b(d(38));function b(x){return x&&x.__esModule?x:{default:x}}f.default={name:"JsonBox",inject:["expandDepth","onKeyclick"],props:{value:{type:[Object,Array,String,Number,Boolean,Function,Date],default:null},keyName:{type:String,default:""},sort:Boolean,depth:{type:Number,default:0},previewMode:Boolean,forceExpand:Boolean,showArrayIndex:Boolean,showDoubleQuotes:Boolean,path:{type:String,default:"$"}},data:function(){return{expand:!0,forceExpandMe:this.forceExpand}},mounted:function(){this.expand=this.previewMode||!(this.depth>=this.expandDepth)||this.forceExpandMe},methods:{toggle:function(){this.expand=!this.expand,this.dispatchEvent()},toggleAll:function(){this.expand=!this.expand,this.forceExpandMe=this.expand,this.dispatchEvent()},dispatchEvent:function(){try{this.$el.dispatchEvent(new Event("resized"))}catch{var x=document.createEvent("Event");x.initEvent("resized",!0,!1),this.$el.dispatchEvent(x)}},getPath:function(){for(var x=[this.keyName],T=this.$parent;T.depth;)T.$el.classList.contains("jv-node")&&x.push(T.keyName),T=T.$parent;return x.reverse()}},render:function(){var x=this,T=[],B=void 0;this.value===null||this.value===void 0?B=D.default:Array.isArray(this.value)?B=R.default:Object.prototype.toString.call(this.value)==="[object Date]"?B=z.default:p(this.value)==="object"?B=M.default:typeof this.value=="number"?B=w.default:typeof this.value=="string"?B=v.default:typeof this.value=="boolean"?B=k.default:typeof this.value=="function"&&(B=I.default);var $=this.keyName&&this.value&&(Array.isArray(this.value)||p(this.value)==="object"&&Object.prototype.toString.call(this.value)!=="[object Date]");return!this.previewMode&&$&&T.push((0,m.h)("span",{class:{"jv-toggle":!0,open:!!this.expand},onClick:function(V){V.altKey?x.toggleAll():x.toggle()}})),this.keyName&&T.push((0,m.h)("span",{class:{"jv-key":!0},innerText:this.showDoubleQuotes?'"'+this.keyName+'":':this.keyName+":",onClick:function(){x.onKeyclick(x.path)}})),T.push((0,m.h)(B,{class:{"jv-push":!0},jsonValue:this.value,keyName:this.keyName,sort:this.sort,depth:this.depth,expand:this.expand,previewMode:this.previewMode,forceExpand:this.forceExpandMe,showArrayIndex:this.showArrayIndex,showDoubleQuotes:this.showDoubleQuotes,path:this.path,"onUpdate:expand":function(V){x.expand=V},"onUpdate:expandAll":function(V){x.expand=V,x.forceExpandMe=x.expand}})),(0,m.h)("div",{class:{"jv-node":!0,"jv-key-node":!!this.keyName&&!$,toggle:!this.previewMode&&$}},T)}}},function(u,f,d){Object.defineProperty(f,"__esModule",{value:!0});var p=d(1),m=/^\w+:\/\//;f.default={name:"JsonString",props:{jsonValue:{type:String,required:!0}},data:function(){return{expand:!0,canExtend:!1}},mounted:function(){this.$refs.itemRef.offsetHeight>this.$refs.holderRef.offsetHeight&&(this.canExtend=!0)},methods:{toggle:function(){this.expand=!this.expand}},render:function(){var v=this.jsonValue,D=m.test(v),w=void 0;return this.expand?(w={class:{"jv-item":!0,"jv-string":!0},ref:"itemRef"},D?w.innerHTML='"'+(v='<a href="'+v+'" target="_blank" class="jv-link">'+v+"</a>").toString()+'"':w.innerText='"'+v.toString()+'"'):w={class:{"jv-ellipsis":!0},onClick:this.toggle,innerText:"..."},(0,p.h)("span",{},[this.canExtend&&(0,p.h)("span",{class:{"jv-toggle":!0,open:this.expand},onClick:this.toggle}),(0,p.h)("span",{class:{"jv-holder-node":!0},ref:"holderRef"}),(0,p.h)("span",w)])}}},function(u,f,d){Object.defineProperty(f,"__esModule",{value:!0});var p=d(1);f.default={name:"JsonUndefined",functional:!0,props:{jsonValue:{type:Object,default:null}},render:function(){return(0,p.h)("span",{class:{"jv-item":!0,"jv-undefined":!0},innerText:this.jsonValue===null?"null":"undefined"})}}},function(u,f,d){Object.defineProperty(f,"__esModule",{value:!0});var p=d(1);f.default={name:"JsonNumber",functional:!0,props:{jsonValue:{type:Number,required:!0}},render:function(){var m=Number.isInteger(this.jsonValue);return(0,p.h)("span",{class:{"jv-item":!0,"jv-number":!0,"jv-number-integer":m,"jv-number-float":!m},innerText:this.jsonValue.toString()})}}},function(u,f,d){Object.defineProperty(f,"__esModule",{value:!0});var p=d(1);f.default={name:"JsonBoolean",functional:!0,props:{jsonValue:Boolean},render:function(){return(0,p.h)("span",{class:{"jv-item":!0,"jv-boolean":!0},innerText:this.jsonValue.toString()})}}},function(u,f,m){Object.defineProperty(f,"__esModule",{value:!0});var p=m(1),m=m(22),v=(m=m)&&m.__esModule?m:{default:m};f.default={name:"JsonObject",props:{jsonValue:{type:Object,required:!0},keyName:{type:String,default:""},depth:{type:Number,default:0},expand:Boolean,forceExpand:Boolean,sort:Boolean,previewMode:Boolean,showArrayIndex:Boolean,showDoubleQuotes:Boolean,path:String},data:function(){return{value:{}}},computed:{ordered:function(){var D=this;if(!this.sort)return this.value;var w={};return Object.keys(this.value).sort().forEach(function(k){w[k]=D.value[k]}),w}},watch:{jsonValue:function(D){this.setValue(D)}},mounted:function(){this.setValue(this.jsonValue)},methods:{setValue:function(D){var w=this;setTimeout(function(){w.value=D},0)},toggle:function(){this.$emit("update:expand",!this.expand),this.dispatchEvent()},toggleAll:function(){this.$emit("update:expandAll",!this.expand),this.dispatchEvent()},dispatchEvent:function(){try{this.$el.dispatchEvent(new Event("resized"))}catch{var D=document.createEvent("Event");D.initEvent("resized",!0,!1),this.$el.dispatchEvent(D)}}},render:function(){var D,w=this,k=[];if(this.previewMode||this.keyName||k.push((0,p.h)("span",{class:{"jv-toggle":!0,open:!!this.expand},onClick:function(R){R.altKey?w.toggleAll():w.toggle()}})),k.push((0,p.h)("span",{class:{"jv-item":!0,"jv-object":!0},innerText:"{"})),this.expand)for(var M in this.ordered)this.ordered.hasOwnProperty(M)&&(D=this.ordered[M],k.push((0,p.h)(v.default,{key:M,style:{display:this.expand?void 0:"none"},sort:this.sort,keyName:M,depth:this.depth+1,value:D,previewMode:this.previewMode,forceExpand:this.forceExpand,showArrayIndex:this.showArrayIndex,showDoubleQuotes:this.showDoubleQuotes,path:this.path+"."+M})));return!this.expand&&Object.keys(this.value).length&&k.push((0,p.h)("span",{class:{"jv-ellipsis":!0},onClick:function(R){R.altKey?w.toggleAll():w.toggle()},title:"click to reveal object content (keys: "+Object.keys(this.ordered).join(", ")+")",innerText:"..."})),k.push((0,p.h)("span",{class:{"jv-item":!0,"jv-object":!0},innerText:"}"})),(0,p.h)("span",k)}}},function(u,f,m){Object.defineProperty(f,"__esModule",{value:!0});var p=m(1),m=m(22),v=(m=m)&&m.__esModule?m:{default:m};f.default={name:"JsonArray",props:{jsonValue:{type:Array,required:!0},keyName:{type:String,default:""},depth:{type:Number,default:0},sort:Boolean,expand:Boolean,forceExpand:Boolean,previewMode:Boolean,showArrayIndex:Boolean,showDoubleQuotes:Boolean,path:String},data:function(){return{value:[]}},watch:{jsonValue:function(D){this.setValue(D)}},mounted:function(){this.setValue(this.jsonValue)},methods:{setValue:function(D){var w=this,k=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0;k===0&&(this.value=[]),setTimeout(function(){D.length>k&&(w.value.push(D[k]),w.setValue(D,k+1))},0)},toggle:function(){this.$emit("update:expand",!this.expand),this.dispatchEvent()},toggleAll:function(){this.$emit("update:expandAll",!this.expand),this.dispatchEvent()},dispatchEvent:function(){try{this.$el.dispatchEvent(new Event("resized"))}catch{var D=document.createEvent("Event");D.initEvent("resized",!0,!1),this.$el.dispatchEvent(D)}}},render:function(){var D=this,w=[];return this.previewMode||this.keyName||w.push((0,p.h)("span",{class:{"jv-toggle":!0,open:!!this.expand},onClick:function(k){k.altKey?D.toggleAll():D.toggle()}})),w.push((0,p.h)("span",{class:{"jv-item":!0,"jv-array":!0},innerText:"["})),this.expand&&this.value.forEach(function(k,M){w.push((0,p.h)(v.default,{key:M,style:{display:D.expand?void 0:"none"},sort:D.sort,keyName:D.showArrayIndex?""+M:"",depth:D.depth+1,value:k,previewMode:D.previewMode,forceExpand:D.forceExpand,showArrayIndex:D.showArrayIndex,showDoubleQuotes:D.showDoubleQuotes,path:D.path+"."+M}))}),!this.expand&&this.value.length&&w.push((0,p.h)("span",{class:{"jv-ellipsis":!0},onClick:function(k){k.altKey?D.toggleAll():D.toggle()},title:"click to reveal "+this.value.length+" hidden items",innerText:"..."})),w.push((0,p.h)("span",{class:{"jv-item":!0,"jv-array":!0},innerText:"]"})),(0,p.h)("span",w)}}},function(u,f,d){Object.defineProperty(f,"__esModule",{value:!0});var p=d(1);f.default={name:"JsonFunction",functional:!0,props:{jsonValue:{type:Function,required:!0}},render:function(){return(0,p.h)("span",{class:{"jv-item":!0,"jv-function":!0},attrs:{title:this.jsonValue.toString()},innerHTML:"&lt;function&gt;"})}}},function(u,f,d){Object.defineProperty(f,"__esModule",{value:!0});var p=d(1);f.default={name:"JsonDate",inject:["timeformat"],functional:!0,props:{jsonValue:{type:Date,required:!0}},render:function(){var m=this.jsonValue,v=this.timeformat;return(0,p.h)("span",{class:{"jv-item":!0,"jv-string":!0},innerText:'"'+v(m)+'"'})}}},function(u,f,d){d.r(f);var p,m=d(2),v=d.n(m);for(p in d.d(f,"default",function(){return v.a}),m)["default","default"].indexOf(p)<0&&function(D){d.d(f,D,function(){return m[D]})}(p)},function(u,f,d){d.r(f);var p,m=d(3),v=d.n(m);for(p in d.d(f,"default",function(){return v.a}),m)["default","default"].indexOf(p)<0&&function(D){d.d(f,D,function(){return m[D]})}(p)},function(u,f,d){d.r(f);var p,m=d(4),v=d.n(m);for(p in d.d(f,"default",function(){return v.a}),m)["default","default"].indexOf(p)<0&&function(D){d.d(f,D,function(){return m[D]})}(p)},function(u,f,d){d.r(f);var p,m=d(5),v=d.n(m);for(p in d.d(f,"default",function(){return v.a}),m)["default","default"].indexOf(p)<0&&function(D){d.d(f,D,function(){return m[D]})}(p)},function(u,f,d){d.r(f);var p,m=d(6),v=d.n(m);for(p in d.d(f,"default",function(){return v.a}),m)["default","default"].indexOf(p)<0&&function(D){d.d(f,D,function(){return m[D]})}(p)},function(u,f,d){d.r(f);var p,m=d(7),v=d.n(m);for(p in d.d(f,"default",function(){return v.a}),m)["default","default"].indexOf(p)<0&&function(D){d.d(f,D,function(){return m[D]})}(p)},function(u,f,d){d.r(f);var p,m=d(8),v=d.n(m);for(p in d.d(f,"default",function(){return v.a}),m)["default","default"].indexOf(p)<0&&function(D){d.d(f,D,function(){return m[D]})}(p)},function(u,f,d){d.r(f);var p,m=d(9),v=d.n(m);for(p in d.d(f,"default",function(){return v.a}),m)["default","default"].indexOf(p)<0&&function(D){d.d(f,D,function(){return m[D]})}(p)},function(u,f,d){d.r(f);var p,m=d(10),v=d.n(m);for(p in d.d(f,"default",function(){return v.a}),m)["default","default"].indexOf(p)<0&&function(D){d.d(f,D,function(){return m[D]})}(p)},function(u,f,d){d.r(f);var p,m=d(11),v=d.n(m);for(p in d.d(f,"default",function(){return v.a}),m)["default","default"].indexOf(p)<0&&function(D){d.d(f,D,function(){return m[D]})}(p)},function(u,f,d){d.r(f);var p,m=d(13);for(p in m)p!=="default"&&function(D){d.d(f,D,function(){return m[D]})}(p);d(39);var v=d(0),v=d.n(v)()(m.default,[["__file","lib/json-box.vue"]]);f.default=v},function(u,f,d){Object.defineProperty(f,"__esModule",{value:!0}),f.render=function(m,v,D,w,k,M){var R=(0,p.resolveComponent)("json-box");return(0,p.openBlock)(),(0,p.createElementBlock)("div",{ref:"viewer",class:(0,p.normalizeClass)(M.jvClass)},[D.copyable?((0,p.openBlock)(),(0,p.createElementBlock)("div",{key:0,class:(0,p.normalizeClass)("jv-tooltip "+(M.copyText.align||"right"))},[(0,p.createElementVNode)("span",{ref:"clip",class:(0,p.normalizeClass)(["jv-button",{copied:k.copied}])},[(0,p.renderSlot)(m.$slots,"copy",{copied:k.copied},function(){return[(0,p.createTextVNode)((0,p.toDisplayString)(k.copied?M.copyText.copiedText:M.copyText.copyText),1)]})],2)],2)):(0,p.createCommentVNode)("v-if",!0),(0,p.createElementVNode)("div",{class:(0,p.normalizeClass)(["jv-code",{open:k.expandCode,boxed:D.boxed}])},[(0,p.createVNode)(R,{ref:"jsonBox",value:D.value,sort:D.sort,"preview-mode":D.previewMode,"show-array-index":D.showArrayIndex,"show-double-quotes":D.showDoubleQuotes,onKeyclick:M.onKeyclick},null,8,["value","sort","preview-mode","show-array-index","show-double-quotes","onKeyclick"])],2),k.expandableCode&&D.boxed?((0,p.openBlock)(),(0,p.createElementBlock)("div",{key:1,class:"jv-more",onClick:v[0]||(v[0]=function(){return M.toggleExpandCode&&M.toggleExpandCode.apply(M,arguments)})},[(0,p.createElementVNode)("span",{class:(0,p.normalizeClass)(["jv-toggle",{open:!!k.expandCode}])},null,2)])):(0,p.createCommentVNode)("v-if",!0)],2)};var p=d(1)},function(u,f,d){var p=d(40);typeof p=="string"&&(p=[[u.i,p,""]]);var m={hmr:!0,transform:void 0};d(26)(p,m),p.locals&&(u.exports=p.locals)},function(u,f,d){u.exports=function(p){var m=[];return m.toString=function(){return this.map(function(v){var D=function(w,k){var M=w[1]||"",R=w[3];return R?k&&typeof btoa=="function"?(w=function(I){return I=btoa(unescape(encodeURIComponent(JSON.stringify(I)))),I="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(I),"/*# ".concat(I," */")}(R),k=R.sources.map(function(I){return"/*# sourceURL=".concat(R.sourceRoot||"").concat(I," */")}),[M].concat(k).concat([w]).join(`
`)):[M].join(`
`):M}(v,p);return v[2]?"@media ".concat(v[2]," {").concat(D,"}"):D}).join("")},m.i=function(v,D,w){typeof v=="string"&&(v=[[null,v,""]]);var k={};if(w)for(var M=0;M<this.length;M++){var R=this[M][0];R!=null&&(k[R]=!0)}for(var I=0;I<v.length;I++){var z=[].concat(v[I]);w&&k[z[0]]||(D&&(z[2]?z[2]="".concat(D," and ").concat(z[2]):z[2]=D),m.push(z))}},m}},function(u,f,d){var p,m,v,D={},w=(p=function(){return window&&document&&document.all&&!window.atob},function(){return m=m===void 0?p.apply(this,arguments):m}),k=(v={},function(_){if(v[_]===void 0){var C=(function(N){return document.querySelector(N)}).call(this,_);if(C instanceof window.HTMLIFrameElement)try{C=C.contentDocument.head}catch{C=null}v[_]=C}return v[_]}),M=null,R=0,I=[],z=d(41);function b(_,C){for(var N=0;N<_.length;N++){var W=_[N],G=D[W.id];if(G){G.refs++;for(var te=0;te<G.parts.length;te++)G.parts[te](W.parts[te]);for(;te<W.parts.length;te++)G.parts.push(J(W.parts[te],C))}else{for(var se=[],te=0;te<W.parts.length;te++)se.push(J(W.parts[te],C));D[W.id]={id:W.id,refs:1,parts:se}}}}function x(_,C){for(var N=[],W={},G=0;G<_.length;G++){var se=_[G],te=C.base?se[0]+C.base:se[0],se={css:se[1],media:se[2],sourceMap:se[3]};W[te]?W[te].parts.push(se):N.push(W[te]={id:te,parts:[se]})}return N}function T(_,C){var N=k(_.insertInto);if(!N)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var W=I[I.length-1];if(_.insertAt==="top")W?W.nextSibling?N.insertBefore(C,W.nextSibling):N.appendChild(C):N.insertBefore(C,N.firstChild),I.push(C);else if(_.insertAt==="bottom")N.appendChild(C);else{if(typeof _.insertAt!="object"||!_.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);_=k(_.insertInto+" "+_.insertAt.before),N.insertBefore(C,_)}}function B(_){_.parentNode!==null&&(_.parentNode.removeChild(_),0<=(_=I.indexOf(_))&&I.splice(_,1))}function $(_){var C=document.createElement("style");return _.attrs.type="text/css",V(C,_.attrs),T(_,C),C}function V(_,C){Object.keys(C).forEach(function(N){_.setAttribute(N,C[N])})}function J(_,C){var N,W,G,te,se;if(C.transform&&_.css){if(!(te=C.transform(_.css)))return function(){};_.css=te}return G=C.singleton?(se=R++,N=M=M||$(C),W=j.bind(null,N,se,!1),j.bind(null,N,se,!0)):_.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(te=C,se=document.createElement("link"),te.attrs.type="text/css",te.attrs.rel="stylesheet",V(se,te.attrs),T(te,se),N=se,W=(function(pe,oe,ce){var ae=ce.css,fe=ce.sourceMap,ce=oe.convertToAbsoluteUrls===void 0&&fe;(oe.convertToAbsoluteUrls||ce)&&(ae=z(ae)),fe&&(ae+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(fe))))+" */"),fe=new Blob([ae],{type:"text/css"}),ae=pe.href,pe.href=URL.createObjectURL(fe),ae&&URL.revokeObjectURL(ae)}).bind(null,N,C),function(){B(N),N.href&&URL.revokeObjectURL(N.href)}):(N=$(C),W=(function(pe,ae){var le=ae.css,ae=ae.media;if(ae&&pe.setAttribute("media",ae),pe.styleSheet)pe.styleSheet.cssText=le;else{for(;pe.firstChild;)pe.removeChild(pe.firstChild);pe.appendChild(document.createTextNode(le))}}).bind(null,N),function(){B(N)}),W(_),function(pe){pe?pe.css===_.css&&pe.media===_.media&&pe.sourceMap===_.sourceMap||W(_=pe):G()}}u.exports=function(_,C){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(C=C||{}).attrs=typeof C.attrs=="object"?C.attrs:{},C.singleton||typeof C.singleton=="boolean"||(C.singleton=w()),C.insertInto||(C.insertInto="head"),C.insertAt||(C.insertAt="bottom");var N=x(_,C);return b(N,C),function(W){for(var G=[],te=0;te<N.length;te++){var se=N[te];(pe=D[se.id]).refs--,G.push(pe)}W&&b(x(W,C),C);for(var pe,te=0;te<G.length;te++)if((pe=G[te]).refs===0){for(var oe=0;oe<pe.parts.length;oe++)pe.parts[oe]();delete D[pe.id]}}};var U,H=(U=[],function(_,C){return U[_]=C,U.filter(Boolean).join(`
`)});function j(_,C,G,W){var G=G?"":W.css;_.styleSheet?_.styleSheet.cssText=H(C,G):(W=document.createTextNode(G),(G=_.childNodes)[C]&&_.removeChild(G[C]),G.length?_.insertBefore(W,G[C]):_.appendChild(W))}},function(u,f,d){var p=d(45);typeof p=="string"&&(p=[[u.i,p,""]]);var m={hmr:!0,transform:void 0};d(26)(p,m),p.locals&&(u.exports=p.locals)},function(u,f,d){var p=d(23);d.o(p,"render")&&d.d(f,"render",function(){return p.render})},function(u,f,p){Object.defineProperty(f,"__esModule",{value:!0});var p=p(30),m=(p=p)&&p.__esModule?p:{default:p};f.default=Object.assign(m.default,{install:function(v){v.component("JsonViewer",m.default)}})},function(u,f,d){d.r(f);var p,D=d(28),m=d(12);for(p in m)p!=="default"&&function(w){d.d(f,w,function(){return m[w]})}(p);d(44);var v=d(0),D=d.n(v)()(m.default,[["render",D.render],["__file","lib/json-viewer.vue"]]);f.default=D},function(u,f,d){d.r(f);var p,m=d(14);for(p in m)p!=="default"&&function(D){d.d(f,D,function(){return m[D]})}(p);var v=d(0),v=d.n(v)()(m.default,[["__file","lib/types/json-string.vue"]]);f.default=v},function(u,f,d){d.r(f);var p,m=d(15);for(p in m)p!=="default"&&function(D){d.d(f,D,function(){return m[D]})}(p);var v=d(0),v=d.n(v)()(m.default,[["__file","lib/types/json-undefined.vue"]]);f.default=v},function(u,f,d){d.r(f);var p,m=d(16);for(p in m)p!=="default"&&function(D){d.d(f,D,function(){return m[D]})}(p);var v=d(0),v=d.n(v)()(m.default,[["__file","lib/types/json-number.vue"]]);f.default=v},function(u,f,d){d.r(f);var p,m=d(17);for(p in m)p!=="default"&&function(D){d.d(f,D,function(){return m[D]})}(p);var v=d(0),v=d.n(v)()(m.default,[["__file","lib/types/json-boolean.vue"]]);f.default=v},function(u,f,d){d.r(f);var p,m=d(18);for(p in m)p!=="default"&&function(D){d.d(f,D,function(){return m[D]})}(p);var v=d(0),v=d.n(v)()(m.default,[["__file","lib/types/json-object.vue"]]);f.default=v},function(u,f,d){d.r(f);var p,m=d(19);for(p in m)p!=="default"&&function(D){d.d(f,D,function(){return m[D]})}(p);var v=d(0),v=d.n(v)()(m.default,[["__file","lib/types/json-array.vue"]]);f.default=v},function(u,f,d){d.r(f);var p,m=d(20);for(p in m)p!=="default"&&function(D){d.d(f,D,function(){return m[D]})}(p);var v=d(0),v=d.n(v)()(m.default,[["__file","lib/types/json-function.vue"]]);f.default=v},function(u,f,d){d.r(f);var p,m=d(21);for(p in m)p!=="default"&&function(D){d.d(f,D,function(){return m[D]})}(p);var v=d(0),v=d.n(v)()(m.default,[["__file","lib/types/json-date.vue"]]);f.default=v},function(u,f,d){d(24)},function(u,f,d){(f=d(25)(!1)).push([u.i,`.jv-node{position:relative}.jv-node:after{content:','}.jv-node:last-of-type:after{content:''}.jv-node.toggle{margin-left:13px !important}.jv-node .jv-node{margin-left:25px}
`,""]),u.exports=f},function(u,f){u.exports=function(d){var p=typeof window<"u"&&window.location;if(!p)throw new Error("fixUrls requires window.location");if(!d||typeof d!="string")return d;var m=p.protocol+"//"+p.host,v=m+p.pathname.replace(/\/[^\/]*$/,"/");return d.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(D,k){var k=k.trim().replace(/^"(.*)"$/,function(M,R){return R}).replace(/^'(.*)'$/,function(M,R){return R});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(k)?D:(k=k.indexOf("//")===0?k:k.indexOf("/")===0?m+k:v+k.replace(/^\.\//,""),"url("+JSON.stringify(k)+")")})}},function(u,f){u.exports=r},function(u,f,d){Object.defineProperty(f,"__esModule",{value:!0}),f.debounce=function(p,m){var v=Date.now(),D=void 0;return function(){for(var w=arguments.length,k=Array(w),M=0;M<w;M++)k[M]=arguments[M];Date.now()-v<m&&D&&clearTimeout(D),D=setTimeout(function(){p.apply(void 0,k)},m),v=Date.now()}}},function(u,f,d){d(27)},function(u,f,v){var p=v(25),m=v(46),v=v(47);f=p(!1),v=m(v),f.push([u.i,".jv-container{box-sizing:border-box;position:relative}.jv-container.boxed{border:1px solid #eee;border-radius:6px}.jv-container.boxed:hover{box-shadow:0 2px 7px rgba(0,0,0,0.15);border-color:transparent;position:relative}.jv-container.jv-light{background:#fff;white-space:nowrap;color:#525252;font-size:14px;font-family:Consolas, Menlo, Courier, monospace}.jv-container.jv-light .jv-ellipsis{color:#999;background-color:#eee;display:inline-block;line-height:0.9;font-size:0.9em;padding:0px 4px 2px 4px;margin:0 4px;border-radius:3px;vertical-align:2px;cursor:pointer;-webkit-user-select:none;user-select:none}.jv-container.jv-light .jv-button{color:#49b3ff}.jv-container.jv-light .jv-key{color:#111111;margin-right:4px}.jv-container.jv-light .jv-item.jv-array{color:#111111}.jv-container.jv-light .jv-item.jv-boolean{color:#fc1e70}.jv-container.jv-light .jv-item.jv-function{color:#067bca}.jv-container.jv-light .jv-item.jv-number{color:#fc1e70}.jv-container.jv-light .jv-item.jv-object{color:#111111}.jv-container.jv-light .jv-item.jv-undefined{color:#e08331}.jv-container.jv-light .jv-item.jv-string{color:#42b983;word-break:break-word;white-space:normal}.jv-container.jv-light .jv-item.jv-string .jv-link{color:#0366d6}.jv-container.jv-light .jv-code .jv-toggle:before{padding:0px 2px;border-radius:2px}.jv-container.jv-light .jv-code .jv-toggle:hover:before{background:#eee}.jv-container .jv-code{overflow:hidden;padding:30px 20px}.jv-container .jv-code.boxed{max-height:300px}.jv-container .jv-code.open{max-height:initial !important;overflow:visible;overflow-x:auto;padding-bottom:45px}.jv-container .jv-toggle{background-image:url("+v+`);background-repeat:no-repeat;background-size:contain;background-position:center center;cursor:pointer;width:10px;height:10px;margin-right:2px;display:inline-block;-webkit-transition:-webkit-transform 0.1s;transition:-webkit-transform 0.1s;transition:transform 0.1s;transition:transform 0.1s, -webkit-transform 0.1s}.jv-container .jv-toggle.open{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.jv-container .jv-more{position:absolute;z-index:1;bottom:0;left:0;right:0;height:40px;width:100%;text-align:center;cursor:pointer}.jv-container .jv-more .jv-toggle{position:relative;top:40%;z-index:2;color:#888;-webkit-transition:all 0.1s;transition:all 0.1s;-webkit-transform:rotate(90deg);transform:rotate(90deg)}.jv-container .jv-more .jv-toggle.open{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.jv-container .jv-more:after{content:"";width:100%;height:100%;position:absolute;bottom:0;left:0;z-index:1;background:-webkit-linear-gradient(top, rgba(0,0,0,0) 20%, rgba(230,230,230,0.3) 100%);background:linear-gradient(to bottom, rgba(0,0,0,0) 20%, rgba(230,230,230,0.3) 100%);-webkit-transition:all 0.1s;transition:all 0.1s}.jv-container .jv-more:hover .jv-toggle{top:50%;color:#111}.jv-container .jv-more:hover:after{background:-webkit-linear-gradient(top, rgba(0,0,0,0) 20%, rgba(230,230,230,0.3) 100%);background:linear-gradient(to bottom, rgba(0,0,0,0) 20%, rgba(230,230,230,0.3) 100%)}.jv-container .jv-button{position:relative;cursor:pointer;display:inline-block;padding:5px;z-index:5}.jv-container .jv-button.copied{opacity:0.4;cursor:default}.jv-container .jv-tooltip{position:absolute}.jv-container .jv-tooltip.right{right:15px}.jv-container .jv-tooltip.left{left:15px}.jv-container .j-icon{font-size:12px}
`,""]),u.exports=f},function(u,f,d){u.exports=function(p,m){return m=m||{},typeof(p=p&&p.__esModule?p.default:p)!="string"?p:(/^['"].*['"]$/.test(p)&&(p=p.slice(1,-1)),m.hash&&(p+=m.hash),/["'() \t\n]/.test(p)||m.needQuotes?'"'.concat(p.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):p)}},function(u,f){u.exports="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjE2IiB3aWR0aD0iOCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KIAo8cG9seWdvbiBwb2ludHM9IjAsMCA4LDggMCwxNiIKc3R5bGU9ImZpbGw6IzY2NjtzdHJva2U6cHVycGxlO3N0cm9rZS13aWR0aDowIiAvPgo8L3N2Zz4="}],o.c=l,o.d=function(u,f,d){o.o(u,f)||Object.defineProperty(u,f,{enumerable:!0,get:d})},o.r=function(u){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})},o.t=function(u,f){if(1&f&&(u=o(u)),8&f||4&f&&typeof u=="object"&&u&&u.__esModule)return u;var d=Object.create(null);if(o.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:u}),2&f&&typeof u!="string")for(var p in u)o.d(d,p,(function(m){return u[m]}).bind(null,p));return d},o.n=function(u){var f=u&&u.__esModule?function(){return u.default}:function(){return u};return o.d(f,"a",f),f},o.o=function(u,f){return Object.prototype.hasOwnProperty.call(u,f)},o.p="",o(o.s=29);function o(u){if(l[u])return l[u].exports;var f=l[u]={i:u,l:!1,exports:{}};return s[u].call(f.exports,f,f.exports,o),f.l=!0,f.exports}var s,l})})(p1);var UE=p1.exports;const xL=ir(UE);var g1={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(typeof self<"u"?self:di,function(){return function(t){function r(s){if(o[s])return o[s].exports;var l=o[s]={i:s,l:!1,exports:{}};return t[s].call(l.exports,l,l.exports,r),l.l=!0,l.exports}var o={};return r.m=t,r.c=o,r.d=function(s,l,u){r.o(s,l)||Object.defineProperty(s,l,{configurable:!1,enumerable:!0,get:u})},r.n=function(s){var l=s&&s.__esModule?function(){return s.default}:function(){return s};return r.d(l,"a",l),l},r.o=function(s,l){return Object.prototype.hasOwnProperty.call(s,l)},r.p="../dist/",r(r.s=0)}([function(t,r,o){(function(s){function l(b){if(Array.isArray(b)){for(var x=0,T=Array(b.length);x<b.length;x++)T[x]=b[x];return T}return Array.from(b)}var u;o(2),o(3);var f={},d={},p=[],m=[],v=!1,D=function(b){return b=typeof b=="string"?JSON.parse(b.replace(/\'/gi,'"')):b,b instanceof Array?{"":b}:b},w=function(b,x,T,B){var $=T.modifiers.push===!0,V=T.modifiers.avoid===!0,J=!T.modifiers.focus,U=T.modifiers.once===!0,H=T.modifiers.propagte===!0;V?(p=p.filter(function(j){return!j===x}),p.push(x)):I({b,push:$,once:U,focus:J,propagte:H,el:B.el})},k=function(b,x){for(var T in b){var B=f.encodeKey(b[T]),$=d[B].el.indexOf(x);d[B].el.length>1&&$>-1?d[B].el.splice($,1):delete d[B]}};f.install=function(b,x){m=[].concat(l(x&&x.prevent?x.prevent:[])),b.directive("shortkey",{beforeMount:function(T,B,$){var V=D(B.value);w(V,T,B,$)},updated:function(T,B,$){var V=D(B.oldValue);k(V,T);var J=D(B.value);w(J,T,B,$)},unmounted:function(T,B){var $=D(B.value);k($,T)}})},f.decodeKey=function(b){return M(b)},f.encodeKey=function(b){var x={};x.shiftKey=b.includes("shift"),x.ctrlKey=b.includes("ctrl"),x.metaKey=b.includes("meta"),x.altKey=b.includes("alt");var T=M(x);return T+=b.filter(function(B){return!["shift","ctrl","meta","alt"].includes(B)}).join("")};var M=function(b){var x="";return(b.key==="Shift"||b.shiftKey)&&(x+="shift"),(b.key==="Control"||b.ctrlKey)&&(x+="ctrl"),(b.key==="Meta"||b.metaKey)&&(x+="meta"),(b.key==="Alt"||b.altKey)&&(x+="alt"),b.key==="ArrowUp"&&(x+="arrowup"),b.key==="ArrowLeft"&&(x+="arrowleft"),b.key==="ArrowRight"&&(x+="arrowright"),b.key==="ArrowDown"&&(x+="arrowdown"),b.key==="AltGraph"&&(x+="altgraph"),b.key==="Escape"&&(x+="esc"),b.key==="Enter"&&(x+="enter"),b.key==="Tab"&&(x+="tab"),b.key===" "&&(x+="space"),b.key==="PageUp"&&(x+="pageup"),b.key==="PageDown"&&(x+="pagedown"),b.key==="Home"&&(x+="home"),b.key==="End"&&(x+="end"),b.key==="Delete"&&(x+="del"),b.key==="Backspace"&&(x+="backspace"),b.key==="Insert"&&(x+="insert"),b.key==="NumLock"&&(x+="numlock"),b.key==="CapsLock"&&(x+="capslock"),b.key==="Pause"&&(x+="pause"),b.key==="ContextMenu"&&(x+="contextmenu"),b.key==="ScrollLock"&&(x+="scrolllock"),b.key==="BrowserHome"&&(x+="browserhome"),b.key==="MediaSelect"&&(x+="mediaselect"),(b.key&&b.key!==" "&&b.key.length===1||/F\d{1,2}|\//g.test(b.key))&&(x+=b.key.toLowerCase()),x},R=function(b){var x=new CustomEvent("shortkey",{bubbles:!1});d[b].key&&(x.srcKey=d[b].key);var T=d[b].el;d[b].propagte?T.forEach(function(B){return B.dispatchEvent(x)}):T[T.length-1].dispatchEvent(x)};f.keyDown=function(b){(!d[b].once&&!d[b].push||d[b].push&&!v)&&R(b)},s&&Object({NODE_ENV:"production"})&&function(){document.addEventListener("keydown",function(b){var x=f.decodeKey(b);if(z(x)){if(d[x].propagte||(b.preventDefault(),b.stopPropagation()),d[x].focus)f.keyDown(x),v=!0;else if(!v){var T=d[x].el;T[T.length-1].focus(),v=!0}}},!0),document.addEventListener("keyup",function(b){var x=f.decodeKey(b);z(x)&&(d[x].propagte||(b.preventDefault(),b.stopPropagation()),(d[x].once||d[x].push)&&R(x)),v=!1},!0)}();var I=function(b){var x=b.b,T=b.push,B=b.once,$=b.focus,V=b.propagte,J=b.el;for(var U in x){var H=f.encodeKey(x[U]),j=d[H]&&d[H].el?d[H].el:[],_=d[H]&&d[H].propagte;j.push(J),d[H]={push:T,once:B,focus:$,key:U,propagte:_||V,el:j}}},z=function(b){var x=!!p.find(function(B){return B===document.activeElement}),T=!!m.find(function(B){return document.activeElement&&document.activeElement.matches(B)});return!!d[b]&&!(x||T)};t!==void 0&&t.exports?t.exports=f:(u=(function(){return f}).call(r,o,r,t))!==void 0&&(t.exports=u)}).call(r,o(1))},function(t,r){function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function l(z){if(v===setTimeout)return setTimeout(z,0);if((v===o||!v)&&setTimeout)return v=setTimeout,setTimeout(z,0);try{return v(z,0)}catch{try{return v.call(null,z,0)}catch{return v.call(this,z,0)}}}function u(z){if(D===clearTimeout)return clearTimeout(z);if((D===s||!D)&&clearTimeout)return D=clearTimeout,clearTimeout(z);try{return D(z)}catch{try{return D.call(null,z)}catch{return D.call(this,z)}}}function f(){R&&k&&(R=!1,k.length?M=k.concat(M):I=-1,M.length&&d())}function d(){if(!R){var z=l(f);R=!0;for(var b=M.length;b;){for(k=M,M=[];++I<b;)k&&k[I].run();I=-1,b=M.length}k=null,R=!1,u(z)}}function p(z,b){this.fun=z,this.array=b}function m(){}var v,D,w=t.exports={};(function(){try{v=typeof setTimeout=="function"?setTimeout:o}catch{v=o}try{D=typeof clearTimeout=="function"?clearTimeout:s}catch{D=s}})();var k,M=[],R=!1,I=-1;w.nextTick=function(z){var b=new Array(arguments.length-1);if(arguments.length>1)for(var x=1;x<arguments.length;x++)b[x-1]=arguments[x];M.push(new p(z,b)),M.length!==1||R||l(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},w.title="browser",w.browser=!0,w.env={},w.argv=[],w.version="",w.versions={},w.on=m,w.addListener=m,w.once=m,w.off=m,w.removeListener=m,w.removeAllListeners=m,w.emit=m,w.prependListener=m,w.prependOnceListener=m,w.listeners=function(z){return[]},w.binding=function(z){throw new Error("process.binding is not supported")},w.cwd=function(){return"/"},w.chdir=function(z){throw new Error("process.chdir is not supported")},w.umask=function(){return 0}},function(t,r){Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector)},function(t,r){(function(){if(typeof window<"u")try{var o=new window.CustomEvent("test",{cancelable:!0});if(o.preventDefault(),o.defaultPrevented!==!0)throw new Error("Could not prevent default")}catch{var s=function(u,f){var d,p;return f=f||{},f.bubbles=!!f.bubbles,f.cancelable=!!f.cancelable,d=document.createEvent("CustomEvent"),d.initCustomEvent(u,f.bubbles,f.cancelable,f.detail),p=d.preventDefault,d.preventDefault=function(){p.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch{this.defaultPrevented=!0}},d};s.prototype=window.Event.prototype,window.CustomEvent=s}})()}])})})(g1);var VE=g1.exports;const EL=ir(VE);function qE(){var n=window.navigator.userAgent,e=n.indexOf("MSIE ");if(e>0)return parseInt(n.substring(e+5,n.indexOf(".",e)),10);var t=n.indexOf("Trident/");if(t>0){var r=n.indexOf("rv:");return parseInt(n.substring(r+3,n.indexOf(".",r)),10)}var o=n.indexOf("Edge/");return o>0?parseInt(n.substring(o+5,n.indexOf(".",o)),10):-1}let rf;function hp(){hp.init||(hp.init=!0,rf=qE()!==-1)}var kc={name:"ResizeObserver",props:{emitOnMount:{type:Boolean,default:!1},ignoreWidth:{type:Boolean,default:!1},ignoreHeight:{type:Boolean,default:!1}},emits:["notify"],mounted(){hp(),Cc(()=>{this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitOnMount&&this.emitSize()});const n=document.createElement("object");this._resizeObject=n,n.setAttribute("aria-hidden","true"),n.setAttribute("tabindex",-1),n.onload=this.addResizeHandlers,n.type="text/html",rf&&this.$el.appendChild(n),n.data="about:blank",rf||this.$el.appendChild(n)},beforeUnmount(){this.removeResizeHandlers()},methods:{compareAndNotify(){(!this.ignoreWidth&&this._w!==this.$el.offsetWidth||!this.ignoreHeight&&this._h!==this.$el.offsetHeight)&&(this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitSize())},emitSize(){this.$emit("notify",{width:this._w,height:this._h})},addResizeHandlers(){this._resizeObject.contentDocument.defaultView.addEventListener("resize",this.compareAndNotify),this.compareAndNotify()},removeResizeHandlers(){this._resizeObject&&this._resizeObject.onload&&(!rf&&this._resizeObject.contentDocument&&this._resizeObject.contentDocument.defaultView.removeEventListener("resize",this.compareAndNotify),this.$el.removeChild(this._resizeObject),this._resizeObject.onload=null,this._resizeObject=null)}}};const KE=Nx();Mx("data-v-b329ee4c");const GE={class:"resize-observer",tabindex:"-1"};Fx();const JE=KE((n,e,t,r,o,s)=>(at(),xt("div",GE)));kc.render=JE;kc.__scopeId="data-v-b329ee4c";kc.__file="src/components/ResizeObserver.vue";function of(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?of=function(e){return typeof e}:of=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},of(n)}function YE(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function v0(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function XE(n,e,t){return e&&v0(n.prototype,e),t&&v0(n,t),n}function y0(n){return QE(n)||ZE(n)||ek(n)||tk()}function QE(n){if(Array.isArray(n))return dp(n)}function ZE(n){if(typeof Symbol<"u"&&Symbol.iterator in Object(n))return Array.from(n)}function ek(n,e){if(n){if(typeof n=="string")return dp(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return dp(n,e)}}function dp(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function tk(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nk(n){var e;return typeof n=="function"?e={callback:n}:e=n,e}function rk(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r,o,s,l=function(f){for(var d=arguments.length,p=new Array(d>1?d-1:0),m=1;m<d;m++)p[m-1]=arguments[m];if(s=p,!(r&&f===o)){var v=t.leading;typeof v=="function"&&(v=v(f,o)),(!r||f!==o)&&v&&n.apply(void 0,[f].concat(y0(s))),o=f,clearTimeout(r),r=setTimeout(function(){n.apply(void 0,[f].concat(y0(s))),r=0},e)}};return l._clear=function(){clearTimeout(r),r=null},l}function m1(n,e){if(n===e)return!0;if(of(n)==="object"){for(var t in n)if(!m1(n[t],e[t]))return!1;return!0}return!1}var ik=function(){function n(e,t,r){YE(this,n),this.el=e,this.observer=null,this.frozen=!1,this.createObserver(t,r)}return XE(n,[{key:"createObserver",value:function(t,r){var o=this;if(this.observer&&this.destroyObserver(),!this.frozen){if(this.options=nk(t),this.callback=function(u,f){o.options.callback(u,f),u&&o.options.once&&(o.frozen=!0,o.destroyObserver())},this.callback&&this.options.throttle){var s=this.options.throttleOptions||{},l=s.leading;this.callback=rk(this.callback,this.options.throttle,{leading:function(f){return l==="both"||l==="visible"&&f||l==="hidden"&&!f}})}this.oldResult=void 0,this.observer=new IntersectionObserver(function(u){var f=u[0];if(u.length>1){var d=u.find(function(m){return m.isIntersecting});d&&(f=d)}if(o.callback){var p=f.isIntersecting&&f.intersectionRatio>=o.threshold;if(p===o.oldResult)return;o.oldResult=p,o.callback(p,f)}},this.options.intersection),Cc(function(){o.observer&&o.observer.observe(o.el)})}}},{key:"destroyObserver",value:function(){this.observer&&(this.observer.disconnect(),this.observer=null),this.callback&&this.callback._clear&&(this.callback._clear(),this.callback=null)}},{key:"threshold",get:function(){return this.options.intersection&&typeof this.options.intersection.threshold=="number"?this.options.intersection.threshold:0}}]),n}();function v1(n,e,t){var r=e.value;if(r)if(typeof IntersectionObserver>"u")console.warn("[vue-observe-visibility] IntersectionObserver API is not available in your browser. Please install this polyfill: https://github.com/w3c/IntersectionObserver/tree/master/polyfill");else{var o=new ik(n,r,t);n._vue_visibilityState=o}}function ok(n,e,t){var r=e.value,o=e.oldValue;if(!m1(r,o)){var s=n._vue_visibilityState;if(!r){y1(n);return}s?s.createObserver(r,t):v1(n,{value:r},t)}}function y1(n){var e=n._vue_visibilityState;e&&(e.destroyObserver(),delete n._vue_visibilityState)}var sk={beforeMount:v1,updated:ok,unmounted:y1};function ak(n){return{all:n=n||new Map,on:function(e,t){var r=n.get(e);r&&r.push(t)||n.set(e,[t])},off:function(e,t){var r=n.get(e);r&&r.splice(r.indexOf(t)>>>0,1)},emit:function(e,t){(n.get(e)||[]).slice().map(function(r){r(t)}),(n.get("*")||[]).slice().map(function(r){r(e,t)})}}}var b1={itemsLimit:1e3},lk=/(auto|scroll)/;function w1(n,e){return n.parentNode===null?e:w1(n.parentNode,e.concat([n]))}var Wh=function(e,t){return getComputedStyle(e,null).getPropertyValue(t)},uk=function(e){return Wh(e,"overflow")+Wh(e,"overflow-y")+Wh(e,"overflow-x")},fk=function(e){return lk.test(uk(e))};function b0(n){if(n instanceof HTMLElement||n instanceof SVGElement){for(var e=w1(n.parentNode,[]),t=0;t<e.length;t+=1)if(fk(e[t]))return e[t];return document.scrollingElement||document.documentElement}}function pp(n){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pp(n)}var D1={items:{type:Array,required:!0},keyField:{type:String,default:"id"},direction:{type:String,default:"vertical",validator:function(e){return["vertical","horizontal"].includes(e)}},listTag:{type:String,default:"div"},itemTag:{type:String,default:"div"}};function S1(){return this.items.length&&pp(this.items[0])!=="object"}var gp=!1;if(typeof window<"u"){gp=!1;try{var ck=Object.defineProperty({},"passive",{get:function(){gp=!0}});window.addEventListener("test",null,ck)}catch{}}let hk=0;var Rl={name:"RecycleScroller",components:{ResizeObserver:kc},directives:{ObserveVisibility:sk},props:{...D1,itemSize:{type:Number,default:null},gridItems:{type:Number,default:void 0},itemSecondarySize:{type:Number,default:void 0},minItemSize:{type:[Number,String],default:null},sizeField:{type:String,default:"size"},typeField:{type:String,default:"type"},buffer:{type:Number,default:200},pageMode:{type:Boolean,default:!1},prerender:{type:Number,default:0},emitUpdate:{type:Boolean,default:!1},updateInterval:{type:Number,default:0},skipHover:{type:Boolean,default:!1},listTag:{type:String,default:"div"},itemTag:{type:String,default:"div"},listClass:{type:[String,Object,Array],default:""},itemClass:{type:[String,Object,Array],default:""}},emits:["resize","visible","hidden","update","scroll-start","scroll-end"],data(){return{pool:[],totalSize:0,ready:!1,hoverKey:null}},computed:{sizes(){if(this.itemSize===null){const n={"-1":{accumulator:0}},e=this.items,t=this.sizeField,r=this.minItemSize;let o=1e4,s=0,l;for(let u=0,f=e.length;u<f;u++)l=e[u][t]||r,l<o&&(o=l),s+=l,n[u]={accumulator:s,size:l};return this.$_computedMinItemSize=o,n}return[]},simpleArray:S1,itemIndexByKey(){const{keyField:n,items:e}=this,t={};for(let r=0,o=e.length;r<o;r++)t[e[r][n]]=r;return t}},watch:{items(){this.updateVisibleItems(!0)},pageMode(){this.applyPageMode(),this.updateVisibleItems(!1)},sizes:{handler(){this.updateVisibleItems(!1)},deep:!0},gridItems(){this.updateVisibleItems(!0)},itemSecondarySize(){this.updateVisibleItems(!0)}},created(){this.$_startIndex=0,this.$_endIndex=0,this.$_views=new Map,this.$_unusedViews=new Map,this.$_scrollDirty=!1,this.$_lastUpdateScrollPosition=0,this.prerender&&(this.$_prerender=!0,this.updateVisibleItems(!1)),this.gridItems&&!this.itemSize&&console.error("[vue-recycle-scroller] You must provide an itemSize when using gridItems")},mounted(){this.applyPageMode(),this.$nextTick(()=>{this.$_prerender=!1,this.updateVisibleItems(!0),this.ready=!0})},activated(){const n=this.$_lastUpdateScrollPosition;typeof n=="number"&&this.$nextTick(()=>{this.scrollToPosition(n)})},beforeUnmount(){this.removeListeners()},methods:{addView(n,e,t,r,o){const s=xc({id:hk++,index:e,used:!0,key:r,type:o}),l=Zb({item:t,position:0,nr:s});return n.push(l),l},unuseView(n,e=!1){const t=this.$_unusedViews,r=n.nr.type;let o=t.get(r);o||(o=[],t.set(r,o)),o.push(n),e||(n.nr.used=!1,n.position=-9999)},handleResize(){this.$emit("resize"),this.ready&&this.updateVisibleItems(!1)},handleScroll(n){if(!this.$_scrollDirty){if(this.$_scrollDirty=!0,this.$_updateTimeout)return;const e=()=>requestAnimationFrame(()=>{this.$_scrollDirty=!1;const{continuous:t}=this.updateVisibleItems(!1,!0);t||(clearTimeout(this.$_refreshTimout),this.$_refreshTimout=setTimeout(this.handleScroll,this.updateInterval+100))});e(),this.updateInterval&&(this.$_updateTimeout=setTimeout(()=>{this.$_updateTimeout=0,this.$_scrollDirty&&e()},this.updateInterval))}},handleVisibilityChange(n,e){this.ready&&(n||e.boundingClientRect.width!==0||e.boundingClientRect.height!==0?(this.$emit("visible"),requestAnimationFrame(()=>{this.updateVisibleItems(!1)})):this.$emit("hidden"))},updateVisibleItems(n,e=!1){const t=this.itemSize,r=this.gridItems||1,o=this.itemSecondarySize||t,s=this.$_computedMinItemSize,l=this.typeField,u=this.simpleArray?null:this.keyField,f=this.items,d=f.length,p=this.sizes,m=this.$_views,v=this.$_unusedViews,D=this.pool,w=this.itemIndexByKey;let k,M,R,I,z;if(!d)k=M=I=z=R=0;else if(this.$_prerender)k=I=0,M=z=Math.min(this.prerender,f.length),R=null;else{const J=this.getScroll();if(e){let j=J.start-this.$_lastUpdateScrollPosition;if(j<0&&(j=-j),t===null&&j<s||j<t)return{continuous:!0}}this.$_lastUpdateScrollPosition=J.start;const U=this.buffer;J.start-=U,J.end+=U;let H=0;if(this.$refs.before&&(H=this.$refs.before.scrollHeight,J.start-=H),this.$refs.after){const j=this.$refs.after.scrollHeight;J.end+=j}if(t===null){let j,_=0,C=d-1,N=~~(d/2),W;do W=N,j=p[N].accumulator,j<J.start?_=N:N<d-1&&p[N+1].accumulator>J.start&&(C=N),N=~~((_+C)/2);while(N!==W);for(N<0&&(N=0),k=N,R=p[d-1].accumulator,M=N;M<d&&p[M].accumulator<J.end;M++);for(M===-1?M=f.length-1:(M++,M>d&&(M=d)),I=k;I<d&&H+p[I].accumulator<J.start;I++);for(z=I;z<d&&H+p[z].accumulator<J.end;z++);}else{k=~~(J.start/t*r);const j=k%r;k-=j,M=Math.ceil(J.end/t*r),I=Math.max(0,Math.floor((J.start-H)/t*r)),z=Math.floor((J.end-H)/t*r),k<0&&(k=0),M>d&&(M=d),I<0&&(I=0),z>d&&(z=d),R=Math.ceil(d/r)*t}}M-k>b1.itemsLimit&&this.itemsLimitError(),this.totalSize=R;let b;const x=k<=this.$_endIndex&&M>=this.$_startIndex;if(x)for(let J=0,U=D.length;J<U;J++)b=D[J],b.nr.used&&(n&&(b.nr.index=w[b.item[u]]),(b.nr.index==null||b.nr.index<k||b.nr.index>=M)&&this.unuseView(b));const T=x?null:new Map;let B,$,V;for(let J=k;J<M;J++){B=f[J];const U=u?B[u]:B;if(U==null)throw new Error(`Key is ${U} on item (keyField is '${u}')`);if(b=m.get(U),!t&&!p[J].size){b&&this.unuseView(b);continue}$=B[l];let H=v.get($),j=!1;if(!b)x?H&&H.length?b=H.pop():b=this.addView(D,J,B,U,$):(V=T.get($)||0,(!H||V>=H.length)&&(b=this.addView(D,J,B,U,$),this.unuseView(b,!0),H=v.get($)),b=H[V],T.set($,V+1)),m.delete(b.nr.key),b.nr.used=!0,b.nr.index=J,b.nr.key=U,b.nr.type=$,m.set(U,b),j=!0;else if(!b.nr.used&&(b.nr.used=!0,j=!0,H)){const _=H.indexOf(b);_!==-1&&H.splice(_,1)}b.item=B,j&&(J===f.length-1&&this.$emit("scroll-end"),J===0&&this.$emit("scroll-start")),t===null?(b.position=p[J-1].accumulator,b.offset=0):(b.position=Math.floor(J/r)*t,b.offset=J%r*o)}return this.$_startIndex=k,this.$_endIndex=M,this.emitUpdate&&this.$emit("update",k,M,I,z),clearTimeout(this.$_sortTimer),this.$_sortTimer=setTimeout(this.sortViews,this.updateInterval+300),{continuous:x}},getListenerTarget(){let n=b0(this.$el);return window.document&&(n===window.document.documentElement||n===window.document.body)&&(n=window),n},getScroll(){const{$el:n,direction:e}=this,t=e==="vertical";let r;if(this.pageMode){const o=n.getBoundingClientRect(),s=t?o.height:o.width;let l=-(t?o.top:o.left),u=t?window.innerHeight:window.innerWidth;l<0&&(u+=l,l=0),l+u>s&&(u=s-l),r={start:l,end:l+u}}else t?r={start:n.scrollTop,end:n.scrollTop+n.clientHeight}:r={start:n.scrollLeft,end:n.scrollLeft+n.clientWidth};return r},applyPageMode(){this.pageMode?this.addListeners():this.removeListeners()},addListeners(){this.listenerTarget=this.getListenerTarget(),this.listenerTarget.addEventListener("scroll",this.handleScroll,gp?{passive:!0}:!1),this.listenerTarget.addEventListener("resize",this.handleResize)},removeListeners(){this.listenerTarget&&(this.listenerTarget.removeEventListener("scroll",this.handleScroll),this.listenerTarget.removeEventListener("resize",this.handleResize),this.listenerTarget=null)},scrollToItem(n){let e;const t=this.gridItems||1;this.itemSize===null?e=n>0?this.sizes[n-1].accumulator:0:e=Math.floor(n/t)*this.itemSize,this.scrollToPosition(e)},scrollToPosition(n){const e=this.direction==="vertical"?{scroll:"scrollTop",start:"top"}:{scroll:"scrollLeft",start:"left"};let t,r,o;if(this.pageMode){const s=b0(this.$el),l=s.tagName==="HTML"?0:s[e.scroll],u=s.getBoundingClientRect(),d=this.$el.getBoundingClientRect()[e.start]-u[e.start];t=s,r=e.scroll,o=n+l+d}else t=this.$el,r=e.scroll,o=n;t[r]=o},itemsLimitError(){throw setTimeout(()=>{console.log("It seems the scroller element isn't scrolling, so it tries to render all the items at once.","Scroller:",this.$el),console.log("Make sure the scroller has a fixed height (or width) and 'overflow-y' (or 'overflow-x') set to 'auto' so it can scroll correctly and only render the items visible in the scroll viewport.")}),new Error("Rendered items limit reached")},sortViews(){this.pool.sort((n,e)=>n.nr.index-e.nr.index)}}};const dk={key:0,ref:"before",class:"vue-recycle-scroller__slot"},pk={key:1,ref:"after",class:"vue-recycle-scroller__slot"};function gk(n,e,t,r,o,s){const l=Sr("ResizeObserver"),u=Rx("observe-visibility");return fg((at(),co("div",{class:lp(["vue-recycle-scroller",{ready:o.ready,"page-mode":t.pageMode,[`direction-${n.direction}`]:!0}]),onScrollPassive:e[0]||(e[0]=(...f)=>s.handleScroll&&s.handleScroll(...f))},[n.$slots.before?(at(),co("div",dk,[Vn(n.$slots,"before")],512)):wf("v-if",!0),(at(),xt(ns(t.listTag),{ref:"wrapper",style:e1({[n.direction==="vertical"?"minHeight":"minWidth"]:o.totalSize+"px"}),class:lp(["vue-recycle-scroller__item-wrapper",t.listClass])},{default:tr(()=>[(at(!0),co(sp,null,ap(o.pool,f=>(at(),xt(ns(t.itemTag),Ul({key:f.nr.id,style:o.ready?{transform:`translate${n.direction==="vertical"?"Y":"X"}(${f.position}px) translate${n.direction==="vertical"?"X":"Y"}(${f.offset}px)`,width:t.gridItems?`${n.direction==="vertical"&&t.itemSecondarySize||t.itemSize}px`:void 0,height:t.gridItems?`${n.direction==="horizontal"&&t.itemSecondarySize||t.itemSize}px`:void 0}:null,class:["vue-recycle-scroller__item-view",[t.itemClass,{hover:!t.skipHover&&o.hoverKey===f.nr.key}]]},Lx(t.skipHover?{}:{mouseenter:()=>{o.hoverKey=f.nr.key},mouseleave:()=>{o.hoverKey=null}})),{default:tr(()=>[Vn(n.$slots,"default",{item:f.item,index:f.nr.index,active:f.nr.used})]),_:2},1040,["style","class"]))),128)),Vn(n.$slots,"empty")]),_:3},8,["style","class"])),n.$slots.after?(at(),co("div",pk,[Vn(n.$slots,"after")],512)):wf("v-if",!0),Mn(l,{onNotify:s.handleResize},null,8,["onNotify"])],34)),[[u,s.handleVisibilityChange]])}Rl.render=gk;Rl.__file="src/components/RecycleScroller.vue";var Df={name:"DynamicScroller",components:{RecycleScroller:Rl},provide(){return typeof ResizeObserver<"u"&&(this.$_resizeObserver=new ResizeObserver(n=>{requestAnimationFrame(()=>{if(Array.isArray(n)){for(const e of n)if(e.target&&e.target.$_vs_onResize){let t,r;if(e.borderBoxSize){const o=e.borderBoxSize[0];t=o.inlineSize,r=o.blockSize}else t=e.contentRect.width,r=e.contentRect.height;e.target.$_vs_onResize(e.target.$_vs_id,t,r)}}})})),{vscrollData:this.vscrollData,vscrollParent:this,vscrollResizeObserver:this.$_resizeObserver}},inheritAttrs:!1,props:{...D1,minItemSize:{type:[Number,String],required:!0}},emits:["resize","visible"],data(){return{vscrollData:{active:!0,sizes:{},keyField:this.keyField,simpleArray:!1}}},computed:{simpleArray:S1,itemsWithSize(){const n=[],{items:e,keyField:t,simpleArray:r}=this,o=this.vscrollData.sizes,s=e.length;for(let l=0;l<s;l++){const u=e[l],f=r?l:u[t];let d=o[f];typeof d>"u"&&!this.$_undefinedMap[f]&&(d=0),n.push({item:u,id:f,size:d})}return n}},watch:{items(){this.forceUpdate()},simpleArray:{handler(n){this.vscrollData.simpleArray=n},immediate:!0},direction(n){this.forceUpdate(!0)},itemsWithSize(n,e){const t=this.$el.scrollTop;let r=0,o=0;const s=Math.min(n.length,e.length);for(let u=0;u<s&&!(r>=t);u++)r+=e[u].size||this.minItemSize,o+=n[u].size||this.minItemSize;const l=o-r;l!==0&&(this.$el.scrollTop+=l)}},beforeCreate(){this.$_updates=[],this.$_undefinedSizes=0,this.$_undefinedMap={},this.$_events=ak()},activated(){this.vscrollData.active=!0},deactivated(){this.vscrollData.active=!1},unmounted(){this.$_events.all.clear()},methods:{onScrollerResize(){this.$refs.scroller&&this.forceUpdate(),this.$emit("resize")},onScrollerVisible(){this.$_events.emit("vscroll:update",{force:!1}),this.$emit("visible")},forceUpdate(n=!1){(n||this.simpleArray)&&(this.vscrollData.sizes={}),this.$_events.emit("vscroll:update",{force:!0})},scrollToItem(n){const e=this.$refs.scroller;e&&e.scrollToItem(n)},getItemSize(n,e=void 0){const t=this.simpleArray?e??this.items.indexOf(n):n[this.keyField];return this.vscrollData.sizes[t]||0},scrollToBottom(){if(this.$_scrollingToBottom)return;this.$_scrollingToBottom=!0;const n=this.$el;this.$nextTick(()=>{n.scrollTop=n.scrollHeight+5e3;const e=()=>{n.scrollTop=n.scrollHeight+5e3,requestAnimationFrame(()=>{n.scrollTop=n.scrollHeight+5e3,this.$_undefinedSizes===0?this.$_scrollingToBottom=!1:requestAnimationFrame(e)})};requestAnimationFrame(e)})}}};function mk(n,e,t,r,o,s){const l=Sr("RecycleScroller");return at(),xt(l,Ul({ref:"scroller",items:s.itemsWithSize,"min-item-size":t.minItemSize,direction:n.direction,"key-field":"id","list-tag":n.listTag,"item-tag":n.itemTag},n.$attrs,{onResize:s.onScrollerResize,onVisible:s.onScrollerVisible}),{default:tr(({item:u,index:f,active:d})=>[Vn(n.$slots,"default",Bx(Ix({item:u.item,index:f,active:d,itemWithSize:u})))]),before:tr(()=>[Vn(n.$slots,"before")]),after:tr(()=>[Vn(n.$slots,"after")]),empty:tr(()=>[Vn(n.$slots,"empty")]),_:3},16,["items","min-item-size","direction","list-tag","item-tag","onResize","onVisible"])}Df.render=mk;Df.__file="src/components/DynamicScroller.vue";var mp={name:"DynamicScrollerItem",inject:["vscrollData","vscrollParent","vscrollResizeObserver"],props:{item:{required:!0},watchData:{type:Boolean,default:!1},active:{type:Boolean,required:!0},index:{type:Number,default:void 0},sizeDependencies:{type:[Array,Object],default:null},emitResize:{type:Boolean,default:!1},tag:{type:String,default:"div"}},emits:["resize"],computed:{id(){if(this.vscrollData.simpleArray)return this.index;if(this.vscrollData.keyField in this.item)return this.item[this.vscrollData.keyField];throw new Error(`keyField '${this.vscrollData.keyField}' not found in your item. You should set a valid keyField prop on your Scroller`)},size(){return this.vscrollData.sizes[this.id]||0},finalActive(){return this.active&&this.vscrollData.active}},watch:{watchData:"updateWatchData",id(n,e){if(this.$el.$_vs_id=this.id,this.size||this.onDataUpdate(),this.$_sizeObserved){const t=this.vscrollData.sizes[e],r=this.vscrollData.sizes[n];t!=null&&t!==r&&this.applySize(t)}},finalActive(n){this.size||(n?this.vscrollParent.$_undefinedMap[this.id]||(this.vscrollParent.$_undefinedSizes++,this.vscrollParent.$_undefinedMap[this.id]=!0):this.vscrollParent.$_undefinedMap[this.id]&&(this.vscrollParent.$_undefinedSizes--,this.vscrollParent.$_undefinedMap[this.id]=!1)),this.vscrollResizeObserver?n?this.observeSize():this.unobserveSize():n&&this.$_pendingVScrollUpdate===this.id&&this.updateSize()}},created(){if(!this.$isServer&&(this.$_forceNextVScrollUpdate=null,this.updateWatchData(),!this.vscrollResizeObserver)){for(const n in this.sizeDependencies)this.$watch(()=>this.sizeDependencies[n],this.onDataUpdate);this.vscrollParent.$_events.on("vscroll:update",this.onVscrollUpdate)}},mounted(){this.finalActive&&(this.updateSize(),this.observeSize())},beforeUnmount(){this.vscrollParent.$_events.off("vscroll:update",this.onVscrollUpdate),this.unobserveSize()},methods:{updateSize(){this.finalActive?this.$_pendingSizeUpdate!==this.id&&(this.$_pendingSizeUpdate=this.id,this.$_forceNextVScrollUpdate=null,this.$_pendingVScrollUpdate=null,this.computeSize(this.id)):this.$_forceNextVScrollUpdate=this.id},updateWatchData(){this.watchData&&!this.vscrollResizeObserver?this.$_watchData=this.$watch("item",()=>{this.onDataUpdate()},{deep:!0}):this.$_watchData&&(this.$_watchData(),this.$_watchData=null)},onVscrollUpdate({force:n}){!this.finalActive&&n&&(this.$_pendingVScrollUpdate=this.id),(this.$_forceNextVScrollUpdate===this.id||n||!this.size)&&this.updateSize()},onDataUpdate(){this.updateSize()},computeSize(n){this.$nextTick(()=>{if(this.id===n){const e=this.$el.offsetWidth,t=this.$el.offsetHeight;this.applyWidthHeight(e,t)}this.$_pendingSizeUpdate=null})},applyWidthHeight(n,e){const t=~~(this.vscrollParent.direction==="vertical"?e:n);t&&this.size!==t&&this.applySize(t)},applySize(n){this.vscrollParent.$_undefinedMap[this.id]&&(this.vscrollParent.$_undefinedSizes--,this.vscrollParent.$_undefinedMap[this.id]=void 0),this.vscrollData.sizes[this.id]=n,this.emitResize&&this.$emit("resize",this.id)},observeSize(){this.vscrollResizeObserver&&(this.$_sizeObserved||(this.vscrollResizeObserver.observe(this.$el),this.$el.$_vs_id=this.id,this.$el.$_vs_onResize=this.onResize,this.$_sizeObserved=!0))},unobserveSize(){this.vscrollResizeObserver&&this.$_sizeObserved&&(this.vscrollResizeObserver.unobserve(this.$el),this.$el.$_vs_onResize=void 0,this.$_sizeObserved=!1)},onResize(n,e,t){this.id===n&&this.applyWidthHeight(e,t)}},render(){return Ol(this.tag,this.$slots.default())}};mp.__file="src/components/DynamicScrollerItem.vue";function vk(n,e){n.component("".concat(e,"recycle-scroller"),Rl),n.component("".concat(e,"RecycleScroller"),Rl),n.component("".concat(e,"dynamic-scroller"),Df),n.component("".concat(e,"DynamicScroller"),Df),n.component("".concat(e,"dynamic-scroller-item"),mp),n.component("".concat(e,"DynamicScrollerItem"),mp)}var kL={version:"2.0.0-beta.8",install:function(e,t){var r=Object.assign({},{installComponents:!0,componentsPrefix:""},t);for(var o in r)typeof r[o]<"u"&&(b1[o]=r[o]);r.installComponents&&vk(e,r.componentsPrefix)}},pg={exports:{}},C1=function(e,t){return function(){for(var o=new Array(arguments.length),s=0;s<o.length;s++)o[s]=arguments[s];return e.apply(t,o)}},yk=C1,ya=Object.prototype.toString;function x1(n){return ya.call(n)==="[object Array]"}function vp(n){return typeof n>"u"}function bk(n){return n!==null&&!vp(n)&&n.constructor!==null&&!vp(n.constructor)&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}function wk(n){return ya.call(n)==="[object ArrayBuffer]"}function Dk(n){return typeof FormData<"u"&&n instanceof FormData}function Sk(n){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&n.buffer instanceof ArrayBuffer,e}function Ck(n){return typeof n=="string"}function xk(n){return typeof n=="number"}function E1(n){return n!==null&&typeof n=="object"}function Ek(n){return ya.call(n)==="[object Date]"}function kk(n){return ya.call(n)==="[object File]"}function Ak(n){return ya.call(n)==="[object Blob]"}function k1(n){return ya.call(n)==="[object Function]"}function Tk(n){return E1(n)&&k1(n.pipe)}function Ok(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}function Mk(n){return n.replace(/^\s*/,"").replace(/\s*$/,"")}function Fk(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function Ac(n,e){if(!(n===null||typeof n>"u"))if(typeof n!="object"&&(n=[n]),x1(n))for(var t=0,r=n.length;t<r;t++)e.call(null,n[t],t,n);else for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&e.call(null,n[o],o,n)}function A1(){var n={};function e(o,s){typeof n[s]=="object"&&typeof o=="object"?n[s]=A1(n[s],o):n[s]=o}for(var t=0,r=arguments.length;t<r;t++)Ac(arguments[t],e);return n}function yp(){var n={};function e(o,s){typeof n[s]=="object"&&typeof o=="object"?n[s]=yp(n[s],o):typeof o=="object"?n[s]=yp({},o):n[s]=o}for(var t=0,r=arguments.length;t<r;t++)Ac(arguments[t],e);return n}function Nk(n,e,t){return Ac(e,function(o,s){t&&typeof o=="function"?n[s]=yk(o,t):n[s]=o}),n}var dr={isArray:x1,isArrayBuffer:wk,isBuffer:bk,isFormData:Dk,isArrayBufferView:Sk,isString:Ck,isNumber:xk,isObject:E1,isUndefined:vp,isDate:Ek,isFile:kk,isBlob:Ak,isFunction:k1,isStream:Tk,isURLSearchParams:Ok,isStandardBrowserEnv:Fk,forEach:Ac,merge:A1,deepMerge:yp,extend:Nk,trim:Mk},Is=dr;function w0(n){return encodeURIComponent(n).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var T1=function(e,t,r){if(!t)return e;var o;if(r)o=r(t);else if(Is.isURLSearchParams(t))o=t.toString();else{var s=[];Is.forEach(t,function(f,d){f===null||typeof f>"u"||(Is.isArray(f)?d=d+"[]":f=[f],Is.forEach(f,function(m){Is.isDate(m)?m=m.toISOString():Is.isObject(m)&&(m=JSON.stringify(m)),s.push(w0(d)+"="+w0(m))}))}),o=s.join("&")}if(o){var l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e},Rk=dr;function Tc(){this.handlers=[]}Tc.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1};Tc.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};Tc.prototype.forEach=function(e){Rk.forEach(this.handlers,function(r){r!==null&&e(r)})};var Lk=Tc,Bk=dr,Ik=function(e,t,r){return Bk.forEach(r,function(s){e=s(e,t)}),e},jh,D0;function O1(){return D0||(D0=1,jh=function(e){return!!(e&&e.__CANCEL__)}),jh}var M1={exports:{}},Vt=M1.exports={},Qr,Zr;function bp(){throw new Error("setTimeout has not been defined")}function wp(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Qr=setTimeout:Qr=bp}catch{Qr=bp}try{typeof clearTimeout=="function"?Zr=clearTimeout:Zr=wp}catch{Zr=wp}})();function F1(n){if(Qr===setTimeout)return setTimeout(n,0);if((Qr===bp||!Qr)&&setTimeout)return Qr=setTimeout,setTimeout(n,0);try{return Qr(n,0)}catch{try{return Qr.call(null,n,0)}catch{return Qr.call(this,n,0)}}}function Pk(n){if(Zr===clearTimeout)return clearTimeout(n);if((Zr===wp||!Zr)&&clearTimeout)return Zr=clearTimeout,clearTimeout(n);try{return Zr(n)}catch{try{return Zr.call(null,n)}catch{return Zr.call(this,n)}}}var Oi=[],Qs=!1,qo,sf=-1;function zk(){!Qs||!qo||(Qs=!1,qo.length?Oi=qo.concat(Oi):sf=-1,Oi.length&&N1())}function N1(){if(!Qs){var n=F1(zk);Qs=!0;for(var e=Oi.length;e;){for(qo=Oi,Oi=[];++sf<e;)qo&&qo[sf].run();sf=-1,e=Oi.length}qo=null,Qs=!1,Pk(n)}}Vt.nextTick=function(n){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];Oi.push(new R1(n,e)),Oi.length===1&&!Qs&&F1(N1)};function R1(n,e){this.fun=n,this.array=e}R1.prototype.run=function(){this.fun.apply(null,this.array)};Vt.title="browser";Vt.browser=!0;Vt.env={};Vt.argv=[];Vt.version="";Vt.versions={};function Ii(){}Vt.on=Ii;Vt.addListener=Ii;Vt.once=Ii;Vt.off=Ii;Vt.removeListener=Ii;Vt.removeAllListeners=Ii;Vt.emit=Ii;Vt.prependListener=Ii;Vt.prependOnceListener=Ii;Vt.listeners=function(n){return[]};Vt.binding=function(n){throw new Error("process.binding is not supported")};Vt.cwd=function(){return"/"};Vt.chdir=function(n){throw new Error("process.chdir is not supported")};Vt.umask=function(){return 0};var _k=M1.exports;const Sf=ir(_k);var $k=dr,Hk=function(e,t){$k.forEach(e,function(o,s){s!==t&&s.toUpperCase()===t.toUpperCase()&&(e[t]=o,delete e[s])})},Uh,S0;function Wk(){return S0||(S0=1,Uh=function(e,t,r,o,s){return e.config=t,r&&(e.code=r),e.request=o,e.response=s,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}),Uh}var Vh,C0;function L1(){if(C0)return Vh;C0=1;var n=Wk();return Vh=function(t,r,o,s,l){var u=new Error(t);return n(u,r,o,s,l)},Vh}var qh,x0;function jk(){if(x0)return qh;x0=1;var n=L1();return qh=function(t,r,o){var s=o.config.validateStatus;!s||s(o.status)?t(o):r(n("Request failed with status code "+o.status,o.config,null,o.request,o))},qh}var Kh,E0;function Uk(){return E0||(E0=1,Kh=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}),Kh}var Gh,k0;function Vk(){return k0||(k0=1,Gh=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}),Gh}var Jh,A0;function qk(){if(A0)return Jh;A0=1;var n=Uk(),e=Vk();return Jh=function(r,o){return r&&!n(o)?e(r,o):o},Jh}var Yh,T0;function Kk(){if(T0)return Yh;T0=1;var n=dr,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return Yh=function(r){var o={},s,l,u;return r&&n.forEach(r.split(`
`),function(d){if(u=d.indexOf(":"),s=n.trim(d.substr(0,u)).toLowerCase(),l=n.trim(d.substr(u+1)),s){if(o[s]&&e.indexOf(s)>=0)return;s==="set-cookie"?o[s]=(o[s]?o[s]:[]).concat([l]):o[s]=o[s]?o[s]+", "+l:l}}),o},Yh}var Xh,O0;function Gk(){if(O0)return Xh;O0=1;var n=dr;return Xh=n.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),o;function s(l){var u=l;return t&&(r.setAttribute("href",u),u=r.href),r.setAttribute("href",u),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return o=s(window.location.href),function(u){var f=n.isString(u)?s(u):u;return f.protocol===o.protocol&&f.host===o.host}}():function(){return function(){return!0}}(),Xh}var Qh,M0;function Jk(){if(M0)return Qh;M0=1;var n=dr;return Qh=n.isStandardBrowserEnv()?function(){return{write:function(r,o,s,l,u,f){var d=[];d.push(r+"="+encodeURIComponent(o)),n.isNumber(s)&&d.push("expires="+new Date(s).toGMTString()),n.isString(l)&&d.push("path="+l),n.isString(u)&&d.push("domain="+u),f===!0&&d.push("secure"),document.cookie=d.join("; ")},read:function(r){var o=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return o?decodeURIComponent(o[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Qh}var Zh,F0;function N0(){if(F0)return Zh;F0=1;var n=dr,e=jk(),t=T1,r=qk(),o=Kk(),s=Gk(),l=L1();return Zh=function(f){return new Promise(function(p,m){var v=f.data,D=f.headers;n.isFormData(v)&&delete D["Content-Type"];var w=new XMLHttpRequest;if(f.auth){var k=f.auth.username||"",M=f.auth.password||"";D.Authorization="Basic "+btoa(k+":"+M)}var R=r(f.baseURL,f.url);if(w.open(f.method.toUpperCase(),t(R,f.params,f.paramsSerializer),!0),w.timeout=f.timeout,w.onreadystatechange=function(){if(!(!w||w.readyState!==4)&&!(w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0))){var x="getAllResponseHeaders"in w?o(w.getAllResponseHeaders()):null,T=!f.responseType||f.responseType==="text"?w.responseText:w.response,B={data:T,status:w.status,statusText:w.statusText,headers:x,config:f,request:w};e(p,m,B),w=null}},w.onabort=function(){w&&(m(l("Request aborted",f,"ECONNABORTED",w)),w=null)},w.onerror=function(){m(l("Network Error",f,null,w)),w=null},w.ontimeout=function(){var x="timeout of "+f.timeout+"ms exceeded";f.timeoutErrorMessage&&(x=f.timeoutErrorMessage),m(l(x,f,"ECONNABORTED",w)),w=null},n.isStandardBrowserEnv()){var I=Jk(),z=(f.withCredentials||s(R))&&f.xsrfCookieName?I.read(f.xsrfCookieName):void 0;z&&(D[f.xsrfHeaderName]=z)}if("setRequestHeader"in w&&n.forEach(D,function(x,T){typeof v>"u"&&T.toLowerCase()==="content-type"?delete D[T]:w.setRequestHeader(T,x)}),n.isUndefined(f.withCredentials)||(w.withCredentials=!!f.withCredentials),f.responseType)try{w.responseType=f.responseType}catch(b){if(f.responseType!=="json")throw b}typeof f.onDownloadProgress=="function"&&w.addEventListener("progress",f.onDownloadProgress),typeof f.onUploadProgress=="function"&&w.upload&&w.upload.addEventListener("progress",f.onUploadProgress),f.cancelToken&&f.cancelToken.promise.then(function(x){w&&(w.abort(),m(x),w=null)}),v===void 0&&(v=null),w.send(v)})},Zh}var Zn=dr,R0=Hk,Yk={"Content-Type":"application/x-www-form-urlencoded"};function L0(n,e){!Zn.isUndefined(n)&&Zn.isUndefined(n["Content-Type"])&&(n["Content-Type"]=e)}function Xk(){var n;return(typeof XMLHttpRequest<"u"||typeof Sf<"u"&&Object.prototype.toString.call(Sf)==="[object process]")&&(n=N0()),n}var Oc={adapter:Xk(),transformRequest:[function(e,t){return R0(t,"Accept"),R0(t,"Content-Type"),Zn.isFormData(e)||Zn.isArrayBuffer(e)||Zn.isBuffer(e)||Zn.isStream(e)||Zn.isFile(e)||Zn.isBlob(e)?e:Zn.isArrayBufferView(e)?e.buffer:Zn.isURLSearchParams(e)?(L0(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):Zn.isObject(e)?(L0(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if(typeof e=="string")try{e=JSON.parse(e)}catch{}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};Oc.headers={common:{Accept:"application/json, text/plain, */*"}};Zn.forEach(["delete","get","head"],function(e){Oc.headers[e]={}});Zn.forEach(["post","put","patch"],function(e){Oc.headers[e]=Zn.merge(Yk)});var B1=Oc,B0=dr,ed=Ik,Qk=O1(),Zk=B1;function td(n){n.cancelToken&&n.cancelToken.throwIfRequested()}var eA=function(e){td(e),e.headers=e.headers||{},e.data=ed(e.data,e.headers,e.transformRequest),e.headers=B0.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),B0.forEach(["delete","get","head","post","put","patch","common"],function(o){delete e.headers[o]});var t=e.adapter||Zk.adapter;return t(e).then(function(o){return td(e),o.data=ed(o.data,o.headers,e.transformResponse),o},function(o){return Qk(o)||(td(e),o&&o.response&&(o.response.data=ed(o.response.data,o.response.headers,e.transformResponse))),Promise.reject(o)})},Qi=dr,I1=function(e,t){t=t||{};var r={},o=["url","method","params","data"],s=["headers","auth","proxy"],l=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];Qi.forEach(o,function(p){typeof t[p]<"u"&&(r[p]=t[p])}),Qi.forEach(s,function(p){Qi.isObject(t[p])?r[p]=Qi.deepMerge(e[p],t[p]):typeof t[p]<"u"?r[p]=t[p]:Qi.isObject(e[p])?r[p]=Qi.deepMerge(e[p]):typeof e[p]<"u"&&(r[p]=e[p])}),Qi.forEach(l,function(p){typeof t[p]<"u"?r[p]=t[p]:typeof e[p]<"u"&&(r[p]=e[p])});var u=o.concat(s).concat(l),f=Object.keys(t).filter(function(p){return u.indexOf(p)===-1});return Qi.forEach(f,function(p){typeof t[p]<"u"?r[p]=t[p]:typeof e[p]<"u"&&(r[p]=e[p])}),r},Cf=dr,tA=T1,I0=Lk,nA=eA,P1=I1;function Vl(n){this.defaults=n,this.interceptors={request:new I0,response:new I0}}Vl.prototype.request=function(e){typeof e=="string"?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=P1(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[nA,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach(function(s){t.unshift(s.fulfilled,s.rejected)}),this.interceptors.response.forEach(function(s){t.push(s.fulfilled,s.rejected)});t.length;)r=r.then(t.shift(),t.shift());return r};Vl.prototype.getUri=function(e){return e=P1(this.defaults,e),tA(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};Cf.forEach(["delete","get","head","options"],function(e){Vl.prototype[e]=function(t,r){return this.request(Cf.merge(r||{},{method:e,url:t}))}});Cf.forEach(["post","put","patch"],function(e){Vl.prototype[e]=function(t,r,o){return this.request(Cf.merge(o||{},{method:e,url:t,data:r}))}});var rA=Vl,nd,P0;function z1(){if(P0)return nd;P0=1;function n(e){this.message=e}return n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,nd=n,nd}var rd,z0;function iA(){if(z0)return rd;z0=1;var n=z1();function e(t){if(typeof t!="function")throw new TypeError("executor must be a function.");var r;this.promise=new Promise(function(l){r=l});var o=this;t(function(l){o.reason||(o.reason=new n(l),r(o.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.source=function(){var r,o=new e(function(l){r=l});return{token:o,cancel:r}},rd=e,rd}var id,_0;function oA(){return _0||(_0=1,id=function(e){return function(r){return e.apply(null,r)}}),id}var $0=dr,sA=C1,af=rA,aA=I1,lA=B1;function _1(n){var e=new af(n),t=sA(af.prototype.request,e);return $0.extend(t,af.prototype,e),$0.extend(t,e),t}var li=_1(lA);li.Axios=af;li.create=function(e){return _1(aA(li.defaults,e))};li.Cancel=z1();li.CancelToken=iA();li.isCancel=O1();li.all=function(e){return Promise.all(e)};li.spread=oA();pg.exports=li;pg.exports.default=li;var uA=pg.exports,fA=uA;const AL=ir(fA);/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function H0(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function ui(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?H0(Object(t),!0).forEach(function(r){cA(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):H0(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function lf(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?lf=function(e){return typeof e}:lf=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lf(n)}function cA(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Bi(){return Bi=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Bi.apply(this,arguments)}function hA(n,e){if(n==null)return{};var t={},r=Object.keys(n),o,s;for(s=0;s<r.length;s++)o=r[s],!(e.indexOf(o)>=0)&&(t[o]=n[o]);return t}function dA(n,e){if(n==null)return{};var t=hA(n,e),r,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(o=0;o<s.length;o++)r=s[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}var pA="1.14.0";function Ni(n){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(n)}var Pi=Ni(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),ql=Ni(/Edge/i),W0=Ni(/firefox/i),cl=Ni(/safari/i)&&!Ni(/chrome/i)&&!Ni(/android/i),$1=Ni(/iP(ad|od|hone)/i),gA=Ni(/chrome/i)&&Ni(/android/i),H1={capture:!1,passive:!1};function mt(n,e,t){n.addEventListener(e,t,!Pi&&H1)}function ct(n,e,t){n.removeEventListener(e,t,!Pi&&H1)}function xf(n,e){if(e){if(e[0]===">"&&(e=e.substring(1)),n)try{if(n.matches)return n.matches(e);if(n.msMatchesSelector)return n.msMatchesSelector(e);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(e)}catch{return!1}return!1}}function mA(n){return n.host&&n!==document&&n.host.nodeType?n.host:n.parentNode}function ei(n,e,t,r){if(n){t=t||document;do{if(e!=null&&(e[0]===">"?n.parentNode===t&&xf(n,e):xf(n,e))||r&&n===t)return n;if(n===t)break}while(n=mA(n))}return null}var j0=/\s+/g;function ar(n,e,t){if(n&&e)if(n.classList)n.classList[t?"add":"remove"](e);else{var r=(" "+n.className+" ").replace(j0," ").replace(" "+e+" "," ");n.className=(r+(t?" "+e:"")).replace(j0," ")}}function Je(n,e,t){var r=n&&n.style;if(r){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(n,""):n.currentStyle&&(t=n.currentStyle),e===void 0?t:t[e];!(e in r)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),r[e]=t+(typeof t=="string"?"":"px")}}function Zs(n,e){var t="";if(typeof n=="string")t=n;else do{var r=Je(n,"transform");r&&r!=="none"&&(t=r+" "+t)}while(!e&&(n=n.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(t)}function W1(n,e,t){if(n){var r=n.getElementsByTagName(e),o=0,s=r.length;if(t)for(;o<s;o++)t(r[o],o);return r}return[]}function si(){var n=document.scrollingElement;return n||document.documentElement}function rn(n,e,t,r,o){if(!(!n.getBoundingClientRect&&n!==window)){var s,l,u,f,d,p,m;if(n!==window&&n.parentNode&&n!==si()?(s=n.getBoundingClientRect(),l=s.top,u=s.left,f=s.bottom,d=s.right,p=s.height,m=s.width):(l=0,u=0,f=window.innerHeight,d=window.innerWidth,p=window.innerHeight,m=window.innerWidth),(e||t)&&n!==window&&(o=o||n.parentNode,!Pi))do if(o&&o.getBoundingClientRect&&(Je(o,"transform")!=="none"||t&&Je(o,"position")!=="static")){var v=o.getBoundingClientRect();l-=v.top+parseInt(Je(o,"border-top-width")),u-=v.left+parseInt(Je(o,"border-left-width")),f=l+s.height,d=u+s.width;break}while(o=o.parentNode);if(r&&n!==window){var D=Zs(o||n),w=D&&D.a,k=D&&D.d;D&&(l/=k,u/=w,m/=w,p/=k,f=l+p,d=u+m)}return{top:l,left:u,bottom:f,right:d,width:m,height:p}}}function U0(n,e,t){for(var r=ho(n,!0),o=rn(n)[e];r;){var s=rn(r)[t],l=void 0;if(t==="top"||t==="left"?l=o>=s:l=o<=s,!l)return r;if(r===si())break;r=ho(r,!1)}return!1}function sa(n,e,t,r){for(var o=0,s=0,l=n.children;s<l.length;){if(l[s].style.display!=="none"&&l[s]!==Ye.ghost&&(r||l[s]!==Ye.dragged)&&ei(l[s],t.draggable,n,!1)){if(o===e)return l[s];o++}s++}return null}function gg(n,e){for(var t=n.lastElementChild;t&&(t===Ye.ghost||Je(t,"display")==="none"||e&&!xf(t,e));)t=t.previousElementSibling;return t||null}function yr(n,e){var t=0;if(!n||!n.parentNode)return-1;for(;n=n.previousElementSibling;)n.nodeName.toUpperCase()!=="TEMPLATE"&&n!==Ye.clone&&(!e||xf(n,e))&&t++;return t}function V0(n){var e=0,t=0,r=si();if(n)do{var o=Zs(n),s=o.a,l=o.d;e+=n.scrollLeft*s,t+=n.scrollTop*l}while(n!==r&&(n=n.parentNode));return[e,t]}function vA(n,e){for(var t in n)if(n.hasOwnProperty(t)){for(var r in e)if(e.hasOwnProperty(r)&&e[r]===n[t][r])return Number(t)}return-1}function ho(n,e){if(!n||!n.getBoundingClientRect)return si();var t=n,r=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var o=Je(t);if(t.clientWidth<t.scrollWidth&&(o.overflowX=="auto"||o.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(o.overflowY=="auto"||o.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return si();if(r||e)return t;r=!0}}while(t=t.parentNode);return si()}function yA(n,e){if(n&&e)for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function od(n,e){return Math.round(n.top)===Math.round(e.top)&&Math.round(n.left)===Math.round(e.left)&&Math.round(n.height)===Math.round(e.height)&&Math.round(n.width)===Math.round(e.width)}var hl;function j1(n,e){return function(){if(!hl){var t=arguments,r=this;t.length===1?n.call(r,t[0]):n.apply(r,t),hl=setTimeout(function(){hl=void 0},e)}}}function bA(){clearTimeout(hl),hl=void 0}function U1(n,e,t){n.scrollLeft+=e,n.scrollTop+=t}function V1(n){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(n).cloneNode(!0):t?t(n).clone(!0)[0]:n.cloneNode(!0)}var fr="Sortable"+new Date().getTime();function wA(){var n=[],e;return{captureAnimationState:function(){if(n=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(o){if(!(Je(o,"display")==="none"||o===Ye.ghost)){n.push({target:o,rect:rn(o)});var s=ui({},n[n.length-1].rect);if(o.thisAnimationDuration){var l=Zs(o,!0);l&&(s.top-=l.f,s.left-=l.e)}o.fromRect=s}})}},addAnimationState:function(r){n.push(r)},removeAnimationState:function(r){n.splice(vA(n,{target:r}),1)},animateAll:function(r){var o=this;if(!this.options.animation){clearTimeout(e),typeof r=="function"&&r();return}var s=!1,l=0;n.forEach(function(u){var f=0,d=u.target,p=d.fromRect,m=rn(d),v=d.prevFromRect,D=d.prevToRect,w=u.rect,k=Zs(d,!0);k&&(m.top-=k.f,m.left-=k.e),d.toRect=m,d.thisAnimationDuration&&od(v,m)&&!od(p,m)&&(w.top-m.top)/(w.left-m.left)===(p.top-m.top)/(p.left-m.left)&&(f=SA(w,v,D,o.options)),od(m,p)||(d.prevFromRect=p,d.prevToRect=m,f||(f=o.options.animation),o.animate(d,w,m,f)),f&&(s=!0,l=Math.max(l,f),clearTimeout(d.animationResetTimer),d.animationResetTimer=setTimeout(function(){d.animationTime=0,d.prevFromRect=null,d.fromRect=null,d.prevToRect=null,d.thisAnimationDuration=null},f),d.thisAnimationDuration=f)}),clearTimeout(e),s?e=setTimeout(function(){typeof r=="function"&&r()},l):typeof r=="function"&&r(),n=[]},animate:function(r,o,s,l){if(l){Je(r,"transition",""),Je(r,"transform","");var u=Zs(this.el),f=u&&u.a,d=u&&u.d,p=(o.left-s.left)/(f||1),m=(o.top-s.top)/(d||1);r.animatingX=!!p,r.animatingY=!!m,Je(r,"transform","translate3d("+p+"px,"+m+"px,0)"),this.forRepaintDummy=DA(r),Je(r,"transition","transform "+l+"ms"+(this.options.easing?" "+this.options.easing:"")),Je(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){Je(r,"transition",""),Je(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},l)}}}}function DA(n){return n.offsetWidth}function SA(n,e,t,r){return Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*r.animation}var Ps=[],sd={initializeByDefault:!0},Kl={mount:function(e){for(var t in sd)sd.hasOwnProperty(t)&&!(t in e)&&(e[t]=sd[t]);Ps.forEach(function(r){if(r.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Ps.push(e)},pluginEvent:function(e,t,r){var o=this;this.eventCanceled=!1,r.cancel=function(){o.eventCanceled=!0};var s=e+"Global";Ps.forEach(function(l){t[l.pluginName]&&(t[l.pluginName][s]&&t[l.pluginName][s](ui({sortable:t},r)),t.options[l.pluginName]&&t[l.pluginName][e]&&t[l.pluginName][e](ui({sortable:t},r)))})},initializePlugins:function(e,t,r,o){Ps.forEach(function(u){var f=u.pluginName;if(!(!e.options[f]&&!u.initializeByDefault)){var d=new u(e,t,e.options);d.sortable=e,d.options=e.options,e[f]=d,Bi(r,d.defaults)}});for(var s in e.options)if(e.options.hasOwnProperty(s)){var l=this.modifyOption(e,s,e.options[s]);typeof l<"u"&&(e.options[s]=l)}},getEventProperties:function(e,t){var r={};return Ps.forEach(function(o){typeof o.eventProperties=="function"&&Bi(r,o.eventProperties.call(t[o.pluginName],e))}),r},modifyOption:function(e,t,r){var o;return Ps.forEach(function(s){e[s.pluginName]&&s.optionListeners&&typeof s.optionListeners[t]=="function"&&(o=s.optionListeners[t].call(e[s.pluginName],r))}),o}};function CA(n){var e=n.sortable,t=n.rootEl,r=n.name,o=n.targetEl,s=n.cloneEl,l=n.toEl,u=n.fromEl,f=n.oldIndex,d=n.newIndex,p=n.oldDraggableIndex,m=n.newDraggableIndex,v=n.originalEvent,D=n.putSortable,w=n.extraEventProperties;if(e=e||t&&t[fr],!!e){var k,M=e.options,R="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!Pi&&!ql?k=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(k=document.createEvent("Event"),k.initEvent(r,!0,!0)),k.to=l||t,k.from=u||t,k.item=o||t,k.clone=s,k.oldIndex=f,k.newIndex=d,k.oldDraggableIndex=p,k.newDraggableIndex=m,k.originalEvent=v,k.pullMode=D?D.lastPutMode:void 0;var I=ui(ui({},w),Kl.getEventProperties(r,e));for(var z in I)k[z]=I[z];t&&t.dispatchEvent(k),M[R]&&M[R].call(e,k)}}var xA=["evt"],Qn=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=r.evt,s=dA(r,xA);Kl.pluginEvent.bind(Ye)(e,t,ui({dragEl:Me,parentEl:zt,ghostEl:tt,rootEl:Nt,nextEl:Wo,lastDownEl:uf,cloneEl:_t,cloneHidden:ao,dragStarted:tl,putSortable:vn,activeSortable:Ye.active,originalEvent:o,oldIndex:Xs,oldDraggableIndex:dl,newIndex:lr,newDraggableIndex:no,hideGhostForTarget:J1,unhideGhostForTarget:Y1,cloneNowHidden:function(){ao=!0},cloneNowShown:function(){ao=!1},dispatchSortableEvent:function(u){Wn({sortable:t,name:u,originalEvent:o})}},s))};function Wn(n){CA(ui({putSortable:vn,cloneEl:_t,targetEl:Me,rootEl:Nt,oldIndex:Xs,oldDraggableIndex:dl,newIndex:lr,newDraggableIndex:no},n))}var Me,zt,tt,Nt,Wo,uf,_t,ao,Xs,lr,dl,no,Ru,vn,qs=!1,Ef=!1,kf=[],zo,Rr,ad,ld,q0,K0,tl,zs,pl,gl=!1,Lu=!1,ff,An,ud=[],Dp=!1,Af=[],Mc=typeof document<"u",Bu=$1,G0=ql||Pi?"cssFloat":"float",EA=Mc&&!gA&&!$1&&"draggable"in document.createElement("div"),q1=function(){if(Mc){if(Pi)return!1;var n=document.createElement("x");return n.style.cssText="pointer-events:auto",n.style.pointerEvents==="auto"}}(),K1=function(e,t){var r=Je(e),o=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),s=sa(e,0,t),l=sa(e,1,t),u=s&&Je(s),f=l&&Je(l),d=u&&parseInt(u.marginLeft)+parseInt(u.marginRight)+rn(s).width,p=f&&parseInt(f.marginLeft)+parseInt(f.marginRight)+rn(l).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&u.float&&u.float!=="none"){var m=u.float==="left"?"left":"right";return l&&(f.clear==="both"||f.clear===m)?"vertical":"horizontal"}return s&&(u.display==="block"||u.display==="flex"||u.display==="table"||u.display==="grid"||d>=o&&r[G0]==="none"||l&&r[G0]==="none"&&d+p>o)?"vertical":"horizontal"},kA=function(e,t,r){var o=r?e.left:e.top,s=r?e.right:e.bottom,l=r?e.width:e.height,u=r?t.left:t.top,f=r?t.right:t.bottom,d=r?t.width:t.height;return o===u||s===f||o+l/2===u+d/2},AA=function(e,t){var r;return kf.some(function(o){var s=o[fr].options.emptyInsertThreshold;if(!(!s||gg(o))){var l=rn(o),u=e>=l.left-s&&e<=l.right+s,f=t>=l.top-s&&t<=l.bottom+s;if(u&&f)return r=o}}),r},G1=function(e){function t(s,l){return function(u,f,d,p){var m=u.options.group.name&&f.options.group.name&&u.options.group.name===f.options.group.name;if(s==null&&(l||m))return!0;if(s==null||s===!1)return!1;if(l&&s==="clone")return s;if(typeof s=="function")return t(s(u,f,d,p),l)(u,f,d,p);var v=(l?u:f).options.group.name;return s===!0||typeof s=="string"&&s===v||s.join&&s.indexOf(v)>-1}}var r={},o=e.group;(!o||lf(o)!="object")&&(o={name:o}),r.name=o.name,r.checkPull=t(o.pull,!0),r.checkPut=t(o.put),r.revertClone=o.revertClone,e.group=r},J1=function(){!q1&&tt&&Je(tt,"display","none")},Y1=function(){!q1&&tt&&Je(tt,"display","")};Mc&&document.addEventListener("click",function(n){if(Ef)return n.preventDefault(),n.stopPropagation&&n.stopPropagation(),n.stopImmediatePropagation&&n.stopImmediatePropagation(),Ef=!1,!1},!0);var _o=function(e){if(Me){e=e.touches?e.touches[0]:e;var t=AA(e.clientX,e.clientY);if(t){var r={};for(var o in e)e.hasOwnProperty(o)&&(r[o]=e[o]);r.target=r.rootEl=t,r.preventDefault=void 0,r.stopPropagation=void 0,t[fr]._onDragOver(r)}}},TA=function(e){Me&&Me.parentNode[fr]._isOutsideThisEl(e.target)};function Ye(n,e){if(!(n&&n.nodeType&&n.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(n));this.el=n,this.options=e=Bi({},e),n[fr]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(n.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return K1(n,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(l,u){l.setData("Text",u.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Ye.supportPointer!==!1&&"PointerEvent"in window&&!cl,emptyInsertThreshold:5};Kl.initializePlugins(this,n,t);for(var r in t)!(r in e)&&(e[r]=t[r]);G1(e);for(var o in this)o.charAt(0)==="_"&&typeof this[o]=="function"&&(this[o]=this[o].bind(this));this.nativeDraggable=e.forceFallback?!1:EA,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?mt(n,"pointerdown",this._onTapStart):(mt(n,"mousedown",this._onTapStart),mt(n,"touchstart",this._onTapStart)),this.nativeDraggable&&(mt(n,"dragover",this),mt(n,"dragenter",this)),kf.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Bi(this,wA())}Ye.prototype={constructor:Ye,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(zs=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,Me):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,r=this.el,o=this.options,s=o.preventOnFilter,l=e.type,u=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,f=(u||e).target,d=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||f,p=o.filter;if(IA(r),!Me&&!(/mousedown|pointerdown/.test(l)&&e.button!==0||o.disabled)&&!d.isContentEditable&&!(!this.nativeDraggable&&cl&&f&&f.tagName.toUpperCase()==="SELECT")&&(f=ei(f,o.draggable,r,!1),!(f&&f.animated)&&uf!==f)){if(Xs=yr(f),dl=yr(f,o.draggable),typeof p=="function"){if(p.call(this,e,f,this)){Wn({sortable:t,rootEl:d,name:"filter",targetEl:f,toEl:r,fromEl:r}),Qn("filter",t,{evt:e}),s&&e.cancelable&&e.preventDefault();return}}else if(p&&(p=p.split(",").some(function(m){if(m=ei(d,m.trim(),r,!1),m)return Wn({sortable:t,rootEl:m,name:"filter",targetEl:f,fromEl:r,toEl:r}),Qn("filter",t,{evt:e}),!0}),p)){s&&e.cancelable&&e.preventDefault();return}o.handle&&!ei(d,o.handle,r,!1)||this._prepareDragStart(e,u,f)}}},_prepareDragStart:function(e,t,r){var o=this,s=o.el,l=o.options,u=s.ownerDocument,f;if(r&&!Me&&r.parentNode===s){var d=rn(r);if(Nt=s,Me=r,zt=Me.parentNode,Wo=Me.nextSibling,uf=r,Ru=l.group,Ye.dragged=Me,zo={target:Me,clientX:(t||e).clientX,clientY:(t||e).clientY},q0=zo.clientX-d.left,K0=zo.clientY-d.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,Me.style["will-change"]="all",f=function(){if(Qn("delayEnded",o,{evt:e}),Ye.eventCanceled){o._onDrop();return}o._disableDelayedDragEvents(),!W0&&o.nativeDraggable&&(Me.draggable=!0),o._triggerDragStart(e,t),Wn({sortable:o,name:"choose",originalEvent:e}),ar(Me,l.chosenClass,!0)},l.ignore.split(",").forEach(function(p){W1(Me,p.trim(),fd)}),mt(u,"dragover",_o),mt(u,"mousemove",_o),mt(u,"touchmove",_o),mt(u,"mouseup",o._onDrop),mt(u,"touchend",o._onDrop),mt(u,"touchcancel",o._onDrop),W0&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Me.draggable=!0),Qn("delayStart",this,{evt:e}),l.delay&&(!l.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(ql||Pi))){if(Ye.eventCanceled){this._onDrop();return}mt(u,"mouseup",o._disableDelayedDrag),mt(u,"touchend",o._disableDelayedDrag),mt(u,"touchcancel",o._disableDelayedDrag),mt(u,"mousemove",o._delayedDragTouchMoveHandler),mt(u,"touchmove",o._delayedDragTouchMoveHandler),l.supportPointer&&mt(u,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(f,l.delay)}else f()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Me&&fd(Me),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;ct(e,"mouseup",this._disableDelayedDrag),ct(e,"touchend",this._disableDelayedDrag),ct(e,"touchcancel",this._disableDelayedDrag),ct(e,"mousemove",this._delayedDragTouchMoveHandler),ct(e,"touchmove",this._delayedDragTouchMoveHandler),ct(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?mt(document,"pointermove",this._onTouchMove):t?mt(document,"touchmove",this._onTouchMove):mt(document,"mousemove",this._onTouchMove):(mt(Me,"dragend",this),mt(Nt,"dragstart",this._onDragStart));try{document.selection?cf(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(qs=!1,Nt&&Me){Qn("dragStarted",this,{evt:t}),this.nativeDraggable&&mt(document,"dragover",TA);var r=this.options;!e&&ar(Me,r.dragClass,!1),ar(Me,r.ghostClass,!0),Ye.active=this,e&&this._appendGhost(),Wn({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(Rr){this._lastX=Rr.clientX,this._lastY=Rr.clientY,J1();for(var e=document.elementFromPoint(Rr.clientX,Rr.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Rr.clientX,Rr.clientY),e!==t);)t=e;if(Me.parentNode[fr]._isOutsideThisEl(e),t)do{if(t[fr]){var r=void 0;if(r=t[fr]._onDragOver({clientX:Rr.clientX,clientY:Rr.clientY,target:e,rootEl:t}),r&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);Y1()}},_onTouchMove:function(e){if(zo){var t=this.options,r=t.fallbackTolerance,o=t.fallbackOffset,s=e.touches?e.touches[0]:e,l=tt&&Zs(tt,!0),u=tt&&l&&l.a,f=tt&&l&&l.d,d=Bu&&An&&V0(An),p=(s.clientX-zo.clientX+o.x)/(u||1)+(d?d[0]-ud[0]:0)/(u||1),m=(s.clientY-zo.clientY+o.y)/(f||1)+(d?d[1]-ud[1]:0)/(f||1);if(!Ye.active&&!qs){if(r&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<r)return;this._onDragStart(e,!0)}if(tt){l?(l.e+=p-(ad||0),l.f+=m-(ld||0)):l={a:1,b:0,c:0,d:1,e:p,f:m};var v="matrix(".concat(l.a,",").concat(l.b,",").concat(l.c,",").concat(l.d,",").concat(l.e,",").concat(l.f,")");Je(tt,"webkitTransform",v),Je(tt,"mozTransform",v),Je(tt,"msTransform",v),Je(tt,"transform",v),ad=p,ld=m,Rr=s}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!tt){var e=this.options.fallbackOnBody?document.body:Nt,t=rn(Me,!0,Bu,!0,e),r=this.options;if(Bu){for(An=e;Je(An,"position")==="static"&&Je(An,"transform")==="none"&&An!==document;)An=An.parentNode;An!==document.body&&An!==document.documentElement?(An===document&&(An=si()),t.top+=An.scrollTop,t.left+=An.scrollLeft):An=si(),ud=V0(An)}tt=Me.cloneNode(!0),ar(tt,r.ghostClass,!1),ar(tt,r.fallbackClass,!0),ar(tt,r.dragClass,!0),Je(tt,"transition",""),Je(tt,"transform",""),Je(tt,"box-sizing","border-box"),Je(tt,"margin",0),Je(tt,"top",t.top),Je(tt,"left",t.left),Je(tt,"width",t.width),Je(tt,"height",t.height),Je(tt,"opacity","0.8"),Je(tt,"position",Bu?"absolute":"fixed"),Je(tt,"zIndex","100000"),Je(tt,"pointerEvents","none"),Ye.ghost=tt,e.appendChild(tt),Je(tt,"transform-origin",q0/parseInt(tt.style.width)*100+"% "+K0/parseInt(tt.style.height)*100+"%")}},_onDragStart:function(e,t){var r=this,o=e.dataTransfer,s=r.options;if(Qn("dragStart",this,{evt:e}),Ye.eventCanceled){this._onDrop();return}Qn("setupClone",this),Ye.eventCanceled||(_t=V1(Me),_t.draggable=!1,_t.style["will-change"]="",this._hideClone(),ar(_t,this.options.chosenClass,!1),Ye.clone=_t),r.cloneId=cf(function(){Qn("clone",r),!Ye.eventCanceled&&(r.options.removeCloneOnHide||Nt.insertBefore(_t,Me),r._hideClone(),Wn({sortable:r,name:"clone"}))}),!t&&ar(Me,s.dragClass,!0),t?(Ef=!0,r._loopId=setInterval(r._emulateDragOver,50)):(ct(document,"mouseup",r._onDrop),ct(document,"touchend",r._onDrop),ct(document,"touchcancel",r._onDrop),o&&(o.effectAllowed="move",s.setData&&s.setData.call(r,o,Me)),mt(document,"drop",r),Je(Me,"transform","translateZ(0)")),qs=!0,r._dragStartId=cf(r._dragStarted.bind(r,t,e)),mt(document,"selectstart",r),tl=!0,cl&&Je(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,r=e.target,o,s,l,u=this.options,f=u.group,d=Ye.active,p=Ru===f,m=u.sort,v=vn||d,D,w=this,k=!1;if(Dp)return;function M(G,te){Qn(G,w,ui({evt:e,isOwner:p,axis:D?"vertical":"horizontal",revert:l,dragRect:o,targetRect:s,canSort:m,fromSortable:v,target:r,completed:I,onMove:function(pe,oe){return Iu(Nt,t,Me,o,pe,rn(pe),e,oe)},changed:z},te))}function R(){M("dragOverAnimationCapture"),w.captureAnimationState(),w!==v&&v.captureAnimationState()}function I(G){return M("dragOverCompleted",{insertion:G}),G&&(p?d._hideClone():d._showClone(w),w!==v&&(ar(Me,vn?vn.options.ghostClass:d.options.ghostClass,!1),ar(Me,u.ghostClass,!0)),vn!==w&&w!==Ye.active?vn=w:w===Ye.active&&vn&&(vn=null),v===w&&(w._ignoreWhileAnimating=r),w.animateAll(function(){M("dragOverAnimationComplete"),w._ignoreWhileAnimating=null}),w!==v&&(v.animateAll(),v._ignoreWhileAnimating=null)),(r===Me&&!Me.animated||r===t&&!r.animated)&&(zs=null),!u.dragoverBubble&&!e.rootEl&&r!==document&&(Me.parentNode[fr]._isOutsideThisEl(e.target),!G&&_o(e)),!u.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),k=!0}function z(){lr=yr(Me),no=yr(Me,u.draggable),Wn({sortable:w,name:"change",toEl:t,newIndex:lr,newDraggableIndex:no,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),r=ei(r,u.draggable,t,!0),M("dragOver"),Ye.eventCanceled)return k;if(Me.contains(e.target)||r.animated&&r.animatingX&&r.animatingY||w._ignoreWhileAnimating===r)return I(!1);if(Ef=!1,d&&!u.disabled&&(p?m||(l=zt!==Nt):vn===this||(this.lastPutMode=Ru.checkPull(this,d,Me,e))&&f.checkPut(this,d,Me,e))){if(D=this._getDirection(e,r)==="vertical",o=rn(Me),M("dragOverValid"),Ye.eventCanceled)return k;if(l)return zt=Nt,R(),this._hideClone(),M("revert"),Ye.eventCanceled||(Wo?Nt.insertBefore(Me,Wo):Nt.appendChild(Me)),I(!0);var b=gg(t,u.draggable);if(!b||NA(e,D,this)&&!b.animated){if(b===Me)return I(!1);if(b&&t===e.target&&(r=b),r&&(s=rn(r)),Iu(Nt,t,Me,o,r,s,e,!!r)!==!1)return R(),t.appendChild(Me),zt=t,z(),I(!0)}else if(b&&FA(e,D,this)){var x=sa(t,0,u,!0);if(x===Me)return I(!1);if(r=x,s=rn(r),Iu(Nt,t,Me,o,r,s,e,!1)!==!1)return R(),t.insertBefore(Me,x),zt=t,z(),I(!0)}else if(r.parentNode===t){s=rn(r);var T=0,B,$=Me.parentNode!==t,V=!kA(Me.animated&&Me.toRect||o,r.animated&&r.toRect||s,D),J=D?"top":"left",U=U0(r,"top","top")||U0(Me,"top","top"),H=U?U.scrollTop:void 0;zs!==r&&(B=s[J],gl=!1,Lu=!V&&u.invertSwap||$),T=RA(e,r,s,D,V?1:u.swapThreshold,u.invertedSwapThreshold==null?u.swapThreshold:u.invertedSwapThreshold,Lu,zs===r);var j;if(T!==0){var _=yr(Me);do _-=T,j=zt.children[_];while(j&&(Je(j,"display")==="none"||j===tt))}if(T===0||j===r)return I(!1);zs=r,pl=T;var C=r.nextElementSibling,N=!1;N=T===1;var W=Iu(Nt,t,Me,o,r,s,e,N);if(W!==!1)return(W===1||W===-1)&&(N=W===1),Dp=!0,setTimeout(MA,30),R(),N&&!C?t.appendChild(Me):r.parentNode.insertBefore(Me,N?C:r),U&&U1(U,0,H-U.scrollTop),zt=Me.parentNode,B!==void 0&&!Lu&&(ff=Math.abs(B-rn(r)[J])),z(),I(!0)}if(t.contains(Me))return I(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){ct(document,"mousemove",this._onTouchMove),ct(document,"touchmove",this._onTouchMove),ct(document,"pointermove",this._onTouchMove),ct(document,"dragover",_o),ct(document,"mousemove",_o),ct(document,"touchmove",_o)},_offUpEvents:function(){var e=this.el.ownerDocument;ct(e,"mouseup",this._onDrop),ct(e,"touchend",this._onDrop),ct(e,"pointerup",this._onDrop),ct(e,"touchcancel",this._onDrop),ct(document,"selectstart",this)},_onDrop:function(e){var t=this.el,r=this.options;if(lr=yr(Me),no=yr(Me,r.draggable),Qn("drop",this,{evt:e}),zt=Me&&Me.parentNode,lr=yr(Me),no=yr(Me,r.draggable),Ye.eventCanceled){this._nulling();return}qs=!1,Lu=!1,gl=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Sp(this.cloneId),Sp(this._dragStartId),this.nativeDraggable&&(ct(document,"drop",this),ct(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),cl&&Je(document.body,"user-select",""),Je(Me,"transform",""),e&&(tl&&(e.cancelable&&e.preventDefault(),!r.dropBubble&&e.stopPropagation()),tt&&tt.parentNode&&tt.parentNode.removeChild(tt),(Nt===zt||vn&&vn.lastPutMode!=="clone")&&_t&&_t.parentNode&&_t.parentNode.removeChild(_t),Me&&(this.nativeDraggable&&ct(Me,"dragend",this),fd(Me),Me.style["will-change"]="",tl&&!qs&&ar(Me,vn?vn.options.ghostClass:this.options.ghostClass,!1),ar(Me,this.options.chosenClass,!1),Wn({sortable:this,name:"unchoose",toEl:zt,newIndex:null,newDraggableIndex:null,originalEvent:e}),Nt!==zt?(lr>=0&&(Wn({rootEl:zt,name:"add",toEl:zt,fromEl:Nt,originalEvent:e}),Wn({sortable:this,name:"remove",toEl:zt,originalEvent:e}),Wn({rootEl:zt,name:"sort",toEl:zt,fromEl:Nt,originalEvent:e}),Wn({sortable:this,name:"sort",toEl:zt,originalEvent:e})),vn&&vn.save()):lr!==Xs&&lr>=0&&(Wn({sortable:this,name:"update",toEl:zt,originalEvent:e}),Wn({sortable:this,name:"sort",toEl:zt,originalEvent:e})),Ye.active&&((lr==null||lr===-1)&&(lr=Xs,no=dl),Wn({sortable:this,name:"end",toEl:zt,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){Qn("nulling",this),Nt=Me=zt=tt=Wo=_t=uf=ao=zo=Rr=tl=lr=no=Xs=dl=zs=pl=vn=Ru=Ye.dragged=Ye.ghost=Ye.clone=Ye.active=null,Af.forEach(function(e){e.checked=!0}),Af.length=ad=ld=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":Me&&(this._onDragOver(e),OA(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,r=this.el.children,o=0,s=r.length,l=this.options;o<s;o++)t=r[o],ei(t,l.draggable,this.el,!1)&&e.push(t.getAttribute(l.dataIdAttr)||BA(t));return e},sort:function(e,t){var r={},o=this.el;this.toArray().forEach(function(s,l){var u=o.children[l];ei(u,this.options.draggable,o,!1)&&(r[s]=u)},this),t&&this.captureAnimationState(),e.forEach(function(s){r[s]&&(o.removeChild(r[s]),o.appendChild(r[s]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return ei(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var r=this.options;if(t===void 0)return r[e];var o=Kl.modifyOption(this,e,t);typeof o<"u"?r[e]=o:r[e]=t,e==="group"&&G1(r)},destroy:function(){Qn("destroy",this);var e=this.el;e[fr]=null,ct(e,"mousedown",this._onTapStart),ct(e,"touchstart",this._onTapStart),ct(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(ct(e,"dragover",this),ct(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),kf.splice(kf.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ao){if(Qn("hideClone",this),Ye.eventCanceled)return;Je(_t,"display","none"),this.options.removeCloneOnHide&&_t.parentNode&&_t.parentNode.removeChild(_t),ao=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(ao){if(Qn("showClone",this),Ye.eventCanceled)return;Me.parentNode==Nt&&!this.options.group.revertClone?Nt.insertBefore(_t,Me):Wo?Nt.insertBefore(_t,Wo):Nt.appendChild(_t),this.options.group.revertClone&&this.animate(Me,_t),Je(_t,"display",""),ao=!1}}};function OA(n){n.dataTransfer&&(n.dataTransfer.dropEffect="move"),n.cancelable&&n.preventDefault()}function Iu(n,e,t,r,o,s,l,u){var f,d=n[fr],p=d.options.onMove,m;return window.CustomEvent&&!Pi&&!ql?f=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(f=document.createEvent("Event"),f.initEvent("move",!0,!0)),f.to=e,f.from=n,f.dragged=t,f.draggedRect=r,f.related=o||e,f.relatedRect=s||rn(e),f.willInsertAfter=u,f.originalEvent=l,n.dispatchEvent(f),p&&(m=p.call(d,f,l)),m}function fd(n){n.draggable=!1}function MA(){Dp=!1}function FA(n,e,t){var r=rn(sa(t.el,0,t.options,!0)),o=10;return e?n.clientX<r.left-o||n.clientY<r.top&&n.clientX<r.right:n.clientY<r.top-o||n.clientY<r.bottom&&n.clientX<r.left}function NA(n,e,t){var r=rn(gg(t.el,t.options.draggable)),o=10;return e?n.clientX>r.right+o||n.clientX<=r.right&&n.clientY>r.bottom&&n.clientX>=r.left:n.clientX>r.right&&n.clientY>r.top||n.clientX<=r.right&&n.clientY>r.bottom+o}function RA(n,e,t,r,o,s,l,u){var f=r?n.clientY:n.clientX,d=r?t.height:t.width,p=r?t.top:t.left,m=r?t.bottom:t.right,v=!1;if(!l){if(u&&ff<d*o){if(!gl&&(pl===1?f>p+d*s/2:f<m-d*s/2)&&(gl=!0),gl)v=!0;else if(pl===1?f<p+ff:f>m-ff)return-pl}else if(f>p+d*(1-o)/2&&f<m-d*(1-o)/2)return LA(e)}return v=v||l,v&&(f<p+d*s/2||f>m-d*s/2)?f>p+d/2?1:-1:0}function LA(n){return yr(Me)<yr(n)?1:-1}function BA(n){for(var e=n.tagName+n.className+n.src+n.href+n.textContent,t=e.length,r=0;t--;)r+=e.charCodeAt(t);return r.toString(36)}function IA(n){Af.length=0;for(var e=n.getElementsByTagName("input"),t=e.length;t--;){var r=e[t];r.checked&&Af.push(r)}}function cf(n){return setTimeout(n,0)}function Sp(n){return clearTimeout(n)}Mc&&mt(document,"touchmove",function(n){(Ye.active||qs)&&n.cancelable&&n.preventDefault()});Ye.utils={on:mt,off:ct,css:Je,find:W1,is:function(e,t){return!!ei(e,t,e,!1)},extend:yA,throttle:j1,closest:ei,toggleClass:ar,clone:V1,index:yr,nextTick:cf,cancelNextTick:Sp,detectDirection:K1,getChild:sa};Ye.get=function(n){return n[fr]};Ye.mount=function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(Ye.utils=ui(ui({},Ye.utils),r.utils)),Kl.mount(r)})};Ye.create=function(n,e){return new Ye(n,e)};Ye.version=pA;var Jt=[],nl,Cp,xp=!1,cd,hd,Tf,rl;function PA(){function n(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return n.prototype={dragStarted:function(t){var r=t.originalEvent;this.sortable.nativeDraggable?mt(document,"dragover",this._handleAutoScroll):this.options.supportPointer?mt(document,"pointermove",this._handleFallbackAutoScroll):r.touches?mt(document,"touchmove",this._handleFallbackAutoScroll):mt(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var r=t.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?ct(document,"dragover",this._handleAutoScroll):(ct(document,"pointermove",this._handleFallbackAutoScroll),ct(document,"touchmove",this._handleFallbackAutoScroll),ct(document,"mousemove",this._handleFallbackAutoScroll)),J0(),hf(),bA()},nulling:function(){Tf=Cp=nl=xp=rl=cd=hd=null,Jt.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,r){var o=this,s=(t.touches?t.touches[0]:t).clientX,l=(t.touches?t.touches[0]:t).clientY,u=document.elementFromPoint(s,l);if(Tf=t,r||this.options.forceAutoScrollFallback||ql||Pi||cl){dd(t,this.options,u,r);var f=ho(u,!0);xp&&(!rl||s!==cd||l!==hd)&&(rl&&J0(),rl=setInterval(function(){var d=ho(document.elementFromPoint(s,l),!0);d!==f&&(f=d,hf()),dd(t,o.options,d,r)},10),cd=s,hd=l)}else{if(!this.options.bubbleScroll||ho(u,!0)===si()){hf();return}dd(t,this.options,ho(u,!1),!1)}}},Bi(n,{pluginName:"scroll",initializeByDefault:!0})}function hf(){Jt.forEach(function(n){clearInterval(n.pid)}),Jt=[]}function J0(){clearInterval(rl)}var dd=j1(function(n,e,t,r){if(e.scroll){var o=(n.touches?n.touches[0]:n).clientX,s=(n.touches?n.touches[0]:n).clientY,l=e.scrollSensitivity,u=e.scrollSpeed,f=si(),d=!1,p;Cp!==t&&(Cp=t,hf(),nl=e.scroll,p=e.scrollFn,nl===!0&&(nl=ho(t,!0)));var m=0,v=nl;do{var D=v,w=rn(D),k=w.top,M=w.bottom,R=w.left,I=w.right,z=w.width,b=w.height,x=void 0,T=void 0,B=D.scrollWidth,$=D.scrollHeight,V=Je(D),J=D.scrollLeft,U=D.scrollTop;D===f?(x=z<B&&(V.overflowX==="auto"||V.overflowX==="scroll"||V.overflowX==="visible"),T=b<$&&(V.overflowY==="auto"||V.overflowY==="scroll"||V.overflowY==="visible")):(x=z<B&&(V.overflowX==="auto"||V.overflowX==="scroll"),T=b<$&&(V.overflowY==="auto"||V.overflowY==="scroll"));var H=x&&(Math.abs(I-o)<=l&&J+z<B)-(Math.abs(R-o)<=l&&!!J),j=T&&(Math.abs(M-s)<=l&&U+b<$)-(Math.abs(k-s)<=l&&!!U);if(!Jt[m])for(var _=0;_<=m;_++)Jt[_]||(Jt[_]={});(Jt[m].vx!=H||Jt[m].vy!=j||Jt[m].el!==D)&&(Jt[m].el=D,Jt[m].vx=H,Jt[m].vy=j,clearInterval(Jt[m].pid),(H!=0||j!=0)&&(d=!0,Jt[m].pid=setInterval((function(){r&&this.layer===0&&Ye.active._onTouchMove(Tf);var C=Jt[this.layer].vy?Jt[this.layer].vy*u:0,N=Jt[this.layer].vx?Jt[this.layer].vx*u:0;typeof p=="function"&&p.call(Ye.dragged.parentNode[fr],N,C,n,Tf,Jt[this.layer].el)!=="continue"||U1(Jt[this.layer].el,N,C)}).bind({layer:m}),24))),m++}while(e.bubbleScroll&&v!==f&&(v=ho(v,!1)));xp=d}},30),X1=function(e){var t=e.originalEvent,r=e.putSortable,o=e.dragEl,s=e.activeSortable,l=e.dispatchSortableEvent,u=e.hideGhostForTarget,f=e.unhideGhostForTarget;if(t){var d=r||s;u();var p=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,m=document.elementFromPoint(p.clientX,p.clientY);f(),d&&!d.el.contains(m)&&(l("spill"),this.onSpill({dragEl:o,putSortable:r}))}};function mg(){}mg.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,r=e.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var o=sa(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(t,o):this.sortable.el.appendChild(t),this.sortable.animateAll(),r&&r.animateAll()},drop:X1};Bi(mg,{pluginName:"revertOnSpill"});function vg(){}vg.prototype={onSpill:function(e){var t=e.dragEl,r=e.putSortable,o=r||this.sortable;o.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),o.animateAll()},drop:X1};Bi(vg,{pluginName:"removeOnSpill"});Ye.mount(new PA);Ye.mount(vg,mg);function zA(){return typeof window<"u"?window.console:Ml.console}const _A=zA();function $A(n){const e=Object.create(null);return function(r){return e[r]||(e[r]=n(r))}}const HA=/-(\w)/g,Y0=$A(n=>n.replace(HA,(e,t)=>t?t.toUpperCase():""));function pd(n){n.parentElement!==null&&n.parentElement.removeChild(n)}function X0(n,e,t){const r=t===0?n.children[0]:n.children[t-1].nextSibling;n.insertBefore(e,r)}function WA(n,e){return Object.values(n).indexOf(e)}function jA(n,e,t,r){if(!n)return[];const o=Object.values(n),s=e.length-r;return[...e].map((u,f)=>f>=s?o.length:o.indexOf(u))}function Q1(n,e){this.$nextTick(()=>this.$emit(n.toLowerCase(),e))}function UA(n){return e=>{this.realList!==null&&this["onDrag"+n](e),Q1.call(this,n,e)}}function VA(n){return["transition-group","TransitionGroup"].includes(n)}function qA(n){if(!n||n.length!==1)return!1;const[{type:e}]=n;return e?VA(e.name):!1}function KA(n,e){return e?{...e.props,...e.attrs}:n}const Ep=["Start","Add","Remove","Update","End"],kp=["Choose","Unchoose","Sort","Filter","Clone"],GA=["Move",...Ep,...kp].map(n=>"on"+n);let gd=null;const JA={options:Object,list:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:n=>n},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null},component:{type:String,default:null},modelValue:{type:Array,required:!1,default:null}},TL=ls({name:"VueDraggableNext",inheritAttrs:!1,emits:["update:modelValue","move","change",...Ep.map(n=>n.toLowerCase()),...kp.map(n=>n.toLowerCase())],props:JA,data(){return{transitionMode:!1,noneFunctionalComponentMode:!1,headerOffset:0,footerOffset:0,_sortable:{},visibleIndexes:[],context:{}}},render(){const n=this.$slots.default?this.$slots.default():null,e=KA(this.$attrs,this.componentData);return n?(this.transitionMode=qA(n),Ol(this.getTag(),e,n)):Ol(this.getTag(),e,[])},created(){this.list!==null&&this.modelValue!==null&&_A.error("list props are mutually exclusive! Please set one.")},mounted(){const n={};Ep.forEach(o=>{n["on"+o]=UA.call(this,o)}),kp.forEach(o=>{n["on"+o]=Q1.bind(this,o)});const e=Object.keys(this.$attrs).reduce((o,s)=>(o[Y0(s)]=this.$attrs[s],o),{}),t=Object.assign({},e,n,{onMove:(o,s)=>this.onDragMove(o,s)});!("draggable"in t)&&(t.draggable=">*");const r=this.$el.nodeType===1?this.$el:this.$el.parentElement;this._sortable=new Ye(r,t),r.__draggable_component__=this,this.computeIndexes()},beforeUnmount(){try{this._sortable!==void 0&&this._sortable.destroy()}catch{}},computed:{realList(){return this.list?this.list:this.modelValue}},watch:{$attrs:{handler(n){this.updateOptions(n)},deep:!0},realList(){this.computeIndexes()}},methods:{getTag(){return this.component?Sr(this.component):this.tag},updateOptions(n){for(var e in n){const t=Y0(e);GA.indexOf(t)===-1&&this._sortable.option(t,n[e])}},getChildrenNodes(){return this.$el.children},computeIndexes(){this.$nextTick(()=>{this.visibleIndexes=jA(this.getChildrenNodes(),this.$el.children,this.transitionMode,this.footerOffset)})},getUnderlyingVm(n){const e=WA(this.getChildrenNodes()||[],n);if(e===-1)return null;const t=this.realList[e];return{index:e,element:t}},emitChanges(n){this.$nextTick(()=>{this.$emit("change",n)})},alterList(n){if(this.list){n(this.list);return}const e=[...this.modelValue];n(e),this.$emit("update:modelValue",e)},spliceList(){const n=e=>e.splice(...arguments);this.alterList(n)},updatePosition(n,e){const t=r=>r.splice(e,0,r.splice(n,1)[0]);this.alterList(t)},getVmIndex(n){const e=this.visibleIndexes,t=e.length;return n>t-1?t:e[n]},getComponent(){return this.$slots.default?this.$slots.default()[0].componentInstance:null},resetTransitionData(n){if(!this.noTransitionOnDrag||!this.transitionMode)return;var e=this.getChildrenNodes();e[n].data=null;const t=this.getComponent();t.children=[],t.kept=void 0},onDragStart(n){this.computeIndexes(),this.context=this.getUnderlyingVm(n.item),this.context&&(n.item._underlying_vm_=this.clone(this.context.element),gd=n.item)},onDragAdd(n){const e=n.item._underlying_vm_;if(e===void 0)return;pd(n.item);const t=this.getVmIndex(n.newIndex);this.spliceList(t,0,e),this.computeIndexes();const r={element:e,newIndex:t};this.emitChanges({added:r})},onDragRemove(n){if(X0(this.$el,n.item,n.oldIndex),n.pullMode==="clone"){pd(n.clone);return}if(!this.context)return;const e=this.context.index;this.spliceList(e,1);const t={element:this.context.element,oldIndex:e};this.resetTransitionData(e),this.emitChanges({removed:t})},onDragUpdate(n){pd(n.item),X0(n.from,n.item,n.oldIndex);const e=this.context.index,t=this.getVmIndex(n.newIndex);this.updatePosition(e,t);const r={element:this.context.element,oldIndex:e,newIndex:t};this.emitChanges({moved:r})},updateProperty(n,e){n.hasOwnProperty(e)&&(n[e]+=this.headerOffset)},onDragMove(n,e){const t=this.move;if(!t||!this.realList)return!0;const r=this.getRelatedContextFromMoveEvent(n),o=this.context,s=this.computeFutureIndex(r,n);Object.assign(o,{futureIndex:s});const l=Object.assign({},n,{relatedContext:r,draggedContext:o});return t(l,e)},onDragEnd(){this.computeIndexes(),gd=null},getTrargetedComponent(n){return n.__draggable_component__},getRelatedContextFromMoveEvent({to:n,related:e}){const t=this.getTrargetedComponent(n);if(!t)return{component:t};const r=t.realList,o={list:r,component:t};if(n!==e&&r&&t.getUnderlyingVm){const s=t.getUnderlyingVm(e);if(s)return Object.assign(s,o)}return o},computeFutureIndex(n,e){const t=[...e.to.children].filter(l=>l.style.display!=="none");if(t.length===0)return 0;const r=t.indexOf(e.related),o=n.component.getVmIndex(r);return t.indexOf(gd)!==-1||!e.willInsertAfter?o:o+1}}});var Z1={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(di,function(){return function(t){function r(s){if(o[s])return o[s].exports;var l=o[s]={exports:{},id:s,loaded:!1};return t[s].call(l.exports,l,l.exports,r),l.loaded=!0,l.exports}var o={};return r.m=t,r.c=o,r.p="",r(0)}([function(t,r,o){t.exports=o(1)},function(t,r,o){function s(v){var D=new f(v),w=u(f.prototype.request,D);return l.extend(w,f.prototype,D),l.extend(w,D),w}var l=o(2),u=o(3),f=o(4),d=o(22),p=o(10),m=s(p);m.Axios=f,m.create=function(v){return s(d(m.defaults,v))},m.Cancel=o(23),m.CancelToken=o(24),m.isCancel=o(9),m.all=function(v){return Promise.all(v)},m.spread=o(25),t.exports=m,t.exports.default=m},function(t,r,o){function s(H){return U.call(H)==="[object Array]"}function l(H){return typeof H>"u"}function u(H){return H!==null&&!l(H)&&H.constructor!==null&&!l(H.constructor)&&typeof H.constructor.isBuffer=="function"&&H.constructor.isBuffer(H)}function f(H){return U.call(H)==="[object ArrayBuffer]"}function d(H){return typeof FormData<"u"&&H instanceof FormData}function p(H){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(H):H&&H.buffer&&H.buffer instanceof ArrayBuffer}function m(H){return typeof H=="string"}function v(H){return typeof H=="number"}function D(H){return H!==null&&typeof H=="object"}function w(H){return U.call(H)==="[object Date]"}function k(H){return U.call(H)==="[object File]"}function M(H){return U.call(H)==="[object Blob]"}function R(H){return U.call(H)==="[object Function]"}function I(H){return D(H)&&R(H.pipe)}function z(H){return typeof URLSearchParams<"u"&&H instanceof URLSearchParams}function b(H){return H.replace(/^\s*/,"").replace(/\s*$/,"")}function x(){return(typeof navigator>"u"||navigator.product!=="ReactNative"&&navigator.product!=="NativeScript"&&navigator.product!=="NS")&&typeof window<"u"&&typeof document<"u"}function T(H,j){if(H!==null&&typeof H<"u")if(typeof H!="object"&&(H=[H]),s(H))for(var _=0,C=H.length;_<C;_++)j.call(null,H[_],_,H);else for(var N in H)Object.prototype.hasOwnProperty.call(H,N)&&j.call(null,H[N],N,H)}function B(){function H(N,W){typeof j[W]=="object"&&typeof N=="object"?j[W]=B(j[W],N):j[W]=N}for(var j={},_=0,C=arguments.length;_<C;_++)T(arguments[_],H);return j}function $(){function H(N,W){typeof j[W]=="object"&&typeof N=="object"?j[W]=$(j[W],N):typeof N=="object"?j[W]=$({},N):j[W]=N}for(var j={},_=0,C=arguments.length;_<C;_++)T(arguments[_],H);return j}function V(H,j,_){return T(j,function(C,N){_&&typeof C=="function"?H[N]=J(C,_):H[N]=C}),H}var J=o(3),U=Object.prototype.toString;t.exports={isArray:s,isArrayBuffer:f,isBuffer:u,isFormData:d,isArrayBufferView:p,isString:m,isNumber:v,isObject:D,isUndefined:l,isDate:w,isFile:k,isBlob:M,isFunction:R,isStream:I,isURLSearchParams:z,isStandardBrowserEnv:x,forEach:T,merge:B,deepMerge:$,extend:V,trim:b}},function(t,r){t.exports=function(o,s){return function(){for(var l=new Array(arguments.length),u=0;u<l.length;u++)l[u]=arguments[u];return o.apply(s,l)}}},function(t,r,o){function s(m){this.defaults=m,this.interceptors={request:new f,response:new f}}var l=o(2),u=o(5),f=o(6),d=o(7),p=o(22);s.prototype.request=function(m){typeof m=="string"?(m=arguments[1]||{},m.url=arguments[0]):m=m||{},m=p(this.defaults,m),m.method?m.method=m.method.toLowerCase():this.defaults.method?m.method=this.defaults.method.toLowerCase():m.method="get";var v=[d,void 0],D=Promise.resolve(m);for(this.interceptors.request.forEach(function(w){v.unshift(w.fulfilled,w.rejected)}),this.interceptors.response.forEach(function(w){v.push(w.fulfilled,w.rejected)});v.length;)D=D.then(v.shift(),v.shift());return D},s.prototype.getUri=function(m){return m=p(this.defaults,m),u(m.url,m.params,m.paramsSerializer).replace(/^\?/,"")},l.forEach(["delete","get","head","options"],function(m){s.prototype[m]=function(v,D){return this.request(l.merge(D||{},{method:m,url:v}))}}),l.forEach(["post","put","patch"],function(m){s.prototype[m]=function(v,D,w){return this.request(l.merge(w||{},{method:m,url:v,data:D}))}}),t.exports=s},function(t,r,o){function s(u){return encodeURIComponent(u).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var l=o(2);t.exports=function(u,f,d){if(!f)return u;var p;if(d)p=d(f);else if(l.isURLSearchParams(f))p=f.toString();else{var m=[];l.forEach(f,function(D,w){D!==null&&typeof D<"u"&&(l.isArray(D)?w+="[]":D=[D],l.forEach(D,function(k){l.isDate(k)?k=k.toISOString():l.isObject(k)&&(k=JSON.stringify(k)),m.push(s(w)+"="+s(k))}))}),p=m.join("&")}if(p){var v=u.indexOf("#");v!==-1&&(u=u.slice(0,v)),u+=(u.indexOf("?")===-1?"?":"&")+p}return u}},function(t,r,o){function s(){this.handlers=[]}var l=o(2);s.prototype.use=function(u,f){return this.handlers.push({fulfilled:u,rejected:f}),this.handlers.length-1},s.prototype.eject=function(u){this.handlers[u]&&(this.handlers[u]=null)},s.prototype.forEach=function(u){l.forEach(this.handlers,function(f){f!==null&&u(f)})},t.exports=s},function(t,r,o){function s(p){p.cancelToken&&p.cancelToken.throwIfRequested()}var l=o(2),u=o(8),f=o(9),d=o(10);t.exports=function(p){s(p),p.headers=p.headers||{},p.data=u(p.data,p.headers,p.transformRequest),p.headers=l.merge(p.headers.common||{},p.headers[p.method]||{},p.headers),l.forEach(["delete","get","head","post","put","patch","common"],function(v){delete p.headers[v]});var m=p.adapter||d.adapter;return m(p).then(function(v){return s(p),v.data=u(v.data,v.headers,p.transformResponse),v},function(v){return f(v)||(s(p),v&&v.response&&(v.response.data=u(v.response.data,v.response.headers,p.transformResponse))),Promise.reject(v)})}},function(t,r,o){var s=o(2);t.exports=function(l,u,f){return s.forEach(f,function(d){l=d(l,u)}),l}},function(t,r){t.exports=function(o){return!(!o||!o.__CANCEL__)}},function(t,r,o){function s(m,v){!u.isUndefined(m)&&u.isUndefined(m["Content-Type"])&&(m["Content-Type"]=v)}function l(){var m;return(typeof XMLHttpRequest<"u"||typeof Sf<"u"&&Object.prototype.toString.call(Sf)==="[object process]")&&(m=o(12)),m}var u=o(2),f=o(11),d={"Content-Type":"application/x-www-form-urlencoded"},p={adapter:l(),transformRequest:[function(m,v){return f(v,"Accept"),f(v,"Content-Type"),u.isFormData(m)||u.isArrayBuffer(m)||u.isBuffer(m)||u.isStream(m)||u.isFile(m)||u.isBlob(m)?m:u.isArrayBufferView(m)?m.buffer:u.isURLSearchParams(m)?(s(v,"application/x-www-form-urlencoded;charset=utf-8"),m.toString()):u.isObject(m)?(s(v,"application/json;charset=utf-8"),JSON.stringify(m)):m}],transformResponse:[function(m){if(typeof m=="string")try{m=JSON.parse(m)}catch{}return m}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(m){return m>=200&&m<300}};p.headers={common:{Accept:"application/json, text/plain, */*"}},u.forEach(["delete","get","head"],function(m){p.headers[m]={}}),u.forEach(["post","put","patch"],function(m){p.headers[m]=u.merge(d)}),t.exports=p},function(t,r,o){var s=o(2);t.exports=function(l,u){s.forEach(l,function(f,d){d!==u&&d.toUpperCase()===u.toUpperCase()&&(l[u]=f,delete l[d])})}},function(t,r,o){var s=o(2),l=o(13),u=o(5),f=o(16),d=o(19),p=o(20),m=o(14);t.exports=function(v){return new Promise(function(D,w){var k=v.data,M=v.headers;s.isFormData(k)&&delete M["Content-Type"];var R=new XMLHttpRequest;if(v.auth){var I=v.auth.username||"",z=v.auth.password||"";M.Authorization="Basic "+btoa(I+":"+z)}var b=f(v.baseURL,v.url);if(R.open(v.method.toUpperCase(),u(b,v.params,v.paramsSerializer),!0),R.timeout=v.timeout,R.onreadystatechange=function(){if(R&&R.readyState===4&&(R.status!==0||R.responseURL&&R.responseURL.indexOf("file:")===0)){var B="getAllResponseHeaders"in R?d(R.getAllResponseHeaders()):null,$=v.responseType&&v.responseType!=="text"?R.response:R.responseText,V={data:$,status:R.status,statusText:R.statusText,headers:B,config:v,request:R};l(D,w,V),R=null}},R.onabort=function(){R&&(w(m("Request aborted",v,"ECONNABORTED",R)),R=null)},R.onerror=function(){w(m("Network Error",v,null,R)),R=null},R.ontimeout=function(){var B="timeout of "+v.timeout+"ms exceeded";v.timeoutErrorMessage&&(B=v.timeoutErrorMessage),w(m(B,v,"ECONNABORTED",R)),R=null},s.isStandardBrowserEnv()){var x=o(21),T=(v.withCredentials||p(b))&&v.xsrfCookieName?x.read(v.xsrfCookieName):void 0;T&&(M[v.xsrfHeaderName]=T)}if("setRequestHeader"in R&&s.forEach(M,function(B,$){typeof k>"u"&&$.toLowerCase()==="content-type"?delete M[$]:R.setRequestHeader($,B)}),s.isUndefined(v.withCredentials)||(R.withCredentials=!!v.withCredentials),v.responseType)try{R.responseType=v.responseType}catch(B){if(v.responseType!=="json")throw B}typeof v.onDownloadProgress=="function"&&R.addEventListener("progress",v.onDownloadProgress),typeof v.onUploadProgress=="function"&&R.upload&&R.upload.addEventListener("progress",v.onUploadProgress),v.cancelToken&&v.cancelToken.promise.then(function(B){R&&(R.abort(),w(B),R=null)}),k===void 0&&(k=null),R.send(k)})}},function(t,r,o){var s=o(14);t.exports=function(l,u,f){var d=f.config.validateStatus;!d||d(f.status)?l(f):u(s("Request failed with status code "+f.status,f.config,null,f.request,f))}},function(t,r,o){var s=o(15);t.exports=function(l,u,f,d,p){var m=new Error(l);return s(m,u,f,d,p)}},function(t,r){t.exports=function(o,s,l,u,f){return o.config=s,l&&(o.code=l),o.request=u,o.response=f,o.isAxiosError=!0,o.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},o}},function(t,r,o){var s=o(17),l=o(18);t.exports=function(u,f){return u&&!s(f)?l(u,f):f}},function(t,r){t.exports=function(o){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(o)}},function(t,r){t.exports=function(o,s){return s?o.replace(/\/+$/,"")+"/"+s.replace(/^\/+/,""):o}},function(t,r,o){var s=o(2),l=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(u){var f,d,p,m={};return u&&s.forEach(u.split(`
`),function(v){if(p=v.indexOf(":"),f=s.trim(v.substr(0,p)).toLowerCase(),d=s.trim(v.substr(p+1)),f){if(m[f]&&l.indexOf(f)>=0)return;f==="set-cookie"?m[f]=(m[f]?m[f]:[]).concat([d]):m[f]=m[f]?m[f]+", "+d:d}}),m}},function(t,r,o){var s=o(2);t.exports=s.isStandardBrowserEnv()?function(){function l(p){var m=p;return f&&(d.setAttribute("href",m),m=d.href),d.setAttribute("href",m),{href:d.href,protocol:d.protocol?d.protocol.replace(/:$/,""):"",host:d.host,search:d.search?d.search.replace(/^\?/,""):"",hash:d.hash?d.hash.replace(/^#/,""):"",hostname:d.hostname,port:d.port,pathname:d.pathname.charAt(0)==="/"?d.pathname:"/"+d.pathname}}var u,f=/(msie|trident)/i.test(navigator.userAgent),d=document.createElement("a");return u=l(window.location.href),function(p){var m=s.isString(p)?l(p):p;return m.protocol===u.protocol&&m.host===u.host}}():function(){return function(){return!0}}()},function(t,r,o){var s=o(2);t.exports=s.isStandardBrowserEnv()?function(){return{write:function(l,u,f,d,p,m){var v=[];v.push(l+"="+encodeURIComponent(u)),s.isNumber(f)&&v.push("expires="+new Date(f).toGMTString()),s.isString(d)&&v.push("path="+d),s.isString(p)&&v.push("domain="+p),m===!0&&v.push("secure"),document.cookie=v.join("; ")},read:function(l){var u=document.cookie.match(new RegExp("(^|;\\s*)("+l+")=([^;]*)"));return u?decodeURIComponent(u[3]):null},remove:function(l){this.write(l,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},function(t,r,o){var s=o(2);t.exports=function(l,u){u=u||{};var f={},d=["url","method","params","data"],p=["headers","auth","proxy"],m=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];s.forEach(d,function(w){typeof u[w]<"u"&&(f[w]=u[w])}),s.forEach(p,function(w){s.isObject(u[w])?f[w]=s.deepMerge(l[w],u[w]):typeof u[w]<"u"?f[w]=u[w]:s.isObject(l[w])?f[w]=s.deepMerge(l[w]):typeof l[w]<"u"&&(f[w]=l[w])}),s.forEach(m,function(w){typeof u[w]<"u"?f[w]=u[w]:typeof l[w]<"u"&&(f[w]=l[w])});var v=d.concat(p).concat(m),D=Object.keys(u).filter(function(w){return v.indexOf(w)===-1});return s.forEach(D,function(w){typeof u[w]<"u"?f[w]=u[w]:typeof l[w]<"u"&&(f[w]=l[w])}),f}},function(t,r){function o(s){this.message=s}o.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},o.prototype.__CANCEL__=!0,t.exports=o},function(t,r,o){function s(u){if(typeof u!="function")throw new TypeError("executor must be a function.");var f;this.promise=new Promise(function(p){f=p});var d=this;u(function(p){d.reason||(d.reason=new l(p),f(d.reason))})}var l=o(23);s.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},s.source=function(){var u,f=new s(function(d){u=d});return{token:f,cancel:u}},t.exports=s},function(t,r){t.exports=function(o){return function(s){return o.apply(null,s)}}}])})})(Z1);var YA=Z1.exports;const OL=ir(YA);var XA=(n,e=1,t)=>{if(t={indent:" ",includeEmptyLines:!1,...t},typeof n!="string")throw new TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof n}\``);if(typeof e!="number")throw new TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof e}\``);if(typeof t.indent!="string")throw new TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof t.indent}\``);if(e===0)return n;const r=t.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return n.replace(r,t.indent.repeat(e))},Pu;function ew(){if(typeof Pu>"u"){var n=new ArrayBuffer(2),e=new Uint8Array(n),t=new Uint16Array(n);if(e[0]=1,e[1]=2,t[0]===258)Pu="BE";else if(t[0]===513)Pu="LE";else throw new Error("unable to figure out endianess")}return Pu}function tw(){return typeof Ml.location<"u"?Ml.location.hostname:""}function nw(){return[]}function rw(){return 0}function iw(){return Number.MAX_VALUE}function ow(){return Number.MAX_VALUE}function sw(){return[]}function aw(){return"Browser"}function lw(){return typeof Ml.navigator<"u"?Ml.navigator.appVersion:""}function uw(){}function fw(){}function QA(){return"javascript"}function ZA(){return"browser"}function yg(){return"/tmp"}var cw=yg,hw=`
`;const eT={EOL:hw,tmpdir:cw,tmpDir:yg,networkInterfaces:uw,getNetworkInterfaces:fw,release:lw,type:aw,cpus:sw,totalmem:ow,freemem:iw,uptime:rw,loadavg:nw,hostname:tw,endianness:ew},tT=Object.freeze(Object.defineProperty({__proto__:null,EOL:hw,arch:QA,cpus:sw,default:eT,endianness:ew,freemem:iw,getNetworkInterfaces:fw,hostname:tw,loadavg:nw,networkInterfaces:uw,platform:ZA,release:lw,tmpDir:yg,tmpdir:cw,totalmem:ow,type:aw,uptime:rw},Symbol.toStringTag,{value:"Module"})),nT=n1(tT),Q0=nT,Z0=/\s+at.*(?:\(|\s)(.*)\)?/,rT=/^(?:(?:(?:node|(?:internal\/[\w/]*|.*node_modules\/(?:babel-polyfill|pirates)\/.*)?\w+)\.js:\d+:\d+)|native)/,iT=typeof Q0.homedir>"u"?"":Q0.homedir();var oT=(n,e)=>(e=Object.assign({pretty:!1},e),n.replace(/\\/g,"/").split(`
`).filter(t=>{const r=t.match(Z0);if(r===null||!r[1])return!0;const o=r[1];return o.includes(".app/Contents/Resources/electron.asar")||o.includes(".app/Contents/Resources/default_app.asar")?!1:!rT.test(o)}).filter(t=>t.trim()!=="").map(t=>e.pretty?t.replace(Z0,(r,o)=>r.replace(o,o.replace(iT,"~"))):t).join(`
`));const sT=XA,aT=oT,lT=n=>n.replace(/\s+at .*aggregate-error\/index.js:\d+:\d+\)?/g,"");let uT=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);e=[...e].map(r=>r instanceof Error?r:r!==null&&typeof r=="object"?Object.assign(new Error(r.message),r):new Error(r));let t=e.map(r=>typeof r.stack=="string"?lT(aT(r.stack)):String(r)).join(`
`);t=`
`+sT(t,4),super(t),this.name="AggregateError",Object.defineProperty(this,"_errors",{value:e})}*[Symbol.iterator](){for(const e of this._errors)yield e}};var fT=uT;const cT=fT;var hT=async(n,e,{concurrency:t=1/0,stopOnError:r=!0}={})=>new Promise((o,s)=>{if(typeof e!="function")throw new TypeError("Mapper function is required");if(!((Number.isSafeInteger(t)||t===1/0)&&t>=1))throw new TypeError(`Expected \`concurrency\` to be an integer from 1 and up or \`Infinity\`, got \`${t}\` (${typeof t})`);const l=[],u=[],f=n[Symbol.iterator]();let d=!1,p=!1,m=0,v=0;const D=()=>{if(d)return;const w=f.next(),k=v;if(v++,w.done){p=!0,m===0&&(!r&&u.length!==0?s(new cT(u)):o(l));return}m++,(async()=>{try{const M=await w.value;l[k]=await e(M,k),m--,D()}catch(M){r?(d=!0,s(M)):(u.push(M),m--,D())}})()};for(let w=0;w<t&&(D(),!p);w++);});const dT=hT;var pT=(n,e)=>dT(n,t=>t(),e);const FL=ir(pT);var bg={exports:{}};function wg(){}wg.prototype={on:function(n,e,t){var r=this.e||(this.e={});return(r[n]||(r[n]=[])).push({fn:e,ctx:t}),this},once:function(n,e,t){var r=this;function o(){r.off(n,o),e.apply(t,arguments)}return o._=e,this.on(n,o,t)},emit:function(n){var e=[].slice.call(arguments,1),t=((this.e||(this.e={}))[n]||[]).slice(),r=0,o=t.length;for(r;r<o;r++)t[r].fn.apply(t[r].ctx,e);return this},off:function(n,e){var t=this.e||(this.e={}),r=t[n],o=[];if(r&&e)for(var s=0,l=r.length;s<l;s++)r[s].fn!==e&&r[s].fn._!==e&&o.push(r[s]);return o.length?t[n]=o:delete t[n],this}};bg.exports=wg;bg.exports.TinyEmitter=wg;var gT=bg.exports;const NL=ir(gT);var dw={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(di,function(){var t=1e3,r=6e4,o=36e5,s="millisecond",l="second",u="minute",f="hour",d="day",p="week",m="month",v="quarter",D="year",w="date",k="Invalid Date",M=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,R=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,I={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(_){var C=["th","st","nd","rd"],N=_%100;return"["+_+(C[(N-20)%10]||C[N]||C[0])+"]"}},z=function(_,C,N){var W=String(_);return!W||W.length>=C?_:""+Array(C+1-W.length).join(N)+_},b={s:z,z:function(_){var C=-_.utcOffset(),N=Math.abs(C),W=Math.floor(N/60),G=N%60;return(C<=0?"+":"-")+z(W,2,"0")+":"+z(G,2,"0")},m:function _(C,N){if(C.date()<N.date())return-_(N,C);var W=12*(N.year()-C.year())+(N.month()-C.month()),G=C.clone().add(W,m),te=N-G<0,se=C.clone().add(W+(te?-1:1),m);return+(-(W+(N-G)/(te?G-se:se-G))||0)},a:function(_){return _<0?Math.ceil(_)||0:Math.floor(_)},p:function(_){return{M:m,y:D,w:p,d,D:w,h:f,m:u,s:l,ms:s,Q:v}[_]||String(_||"").toLowerCase().replace(/s$/,"")},u:function(_){return _===void 0}},x="en",T={};T[x]=I;var B="$isDayjsObject",$=function(_){return _ instanceof H||!(!_||!_[B])},V=function _(C,N,W){var G;if(!C)return x;if(typeof C=="string"){var te=C.toLowerCase();T[te]&&(G=te),N&&(T[te]=N,G=te);var se=C.split("-");if(!G&&se.length>1)return _(se[0])}else{var pe=C.name;T[pe]=C,G=pe}return!W&&G&&(x=G),G||!W&&x},J=function(_,C){if($(_))return _.clone();var N=typeof C=="object"?C:{};return N.date=_,N.args=arguments,new H(N)},U=b;U.l=V,U.i=$,U.w=function(_,C){return J(_,{locale:C.$L,utc:C.$u,x:C.$x,$offset:C.$offset})};var H=function(){function _(N){this.$L=V(N.locale,null,!0),this.parse(N),this.$x=this.$x||N.x||{},this[B]=!0}var C=_.prototype;return C.parse=function(N){this.$d=function(W){var G=W.date,te=W.utc;if(G===null)return new Date(NaN);if(U.u(G))return new Date;if(G instanceof Date)return new Date(G);if(typeof G=="string"&&!/Z$/i.test(G)){var se=G.match(M);if(se){var pe=se[2]-1||0,oe=(se[7]||"0").substring(0,3);return te?new Date(Date.UTC(se[1],pe,se[3]||1,se[4]||0,se[5]||0,se[6]||0,oe)):new Date(se[1],pe,se[3]||1,se[4]||0,se[5]||0,se[6]||0,oe)}}return new Date(G)}(N),this.init()},C.init=function(){var N=this.$d;this.$y=N.getFullYear(),this.$M=N.getMonth(),this.$D=N.getDate(),this.$W=N.getDay(),this.$H=N.getHours(),this.$m=N.getMinutes(),this.$s=N.getSeconds(),this.$ms=N.getMilliseconds()},C.$utils=function(){return U},C.isValid=function(){return this.$d.toString()!==k},C.isSame=function(N,W){var G=J(N);return this.startOf(W)<=G&&G<=this.endOf(W)},C.isAfter=function(N,W){return J(N)<this.startOf(W)},C.isBefore=function(N,W){return this.endOf(W)<J(N)},C.$g=function(N,W,G){return U.u(N)?this[W]:this.set(G,N)},C.unix=function(){return Math.floor(this.valueOf()/1e3)},C.valueOf=function(){return this.$d.getTime()},C.startOf=function(N,W){var G=this,te=!!U.u(W)||W,se=U.p(N),pe=function(he,ve){var we=U.w(G.$u?Date.UTC(G.$y,ve,he):new Date(G.$y,ve,he),G);return te?we:we.endOf(d)},oe=function(he,ve){return U.w(G.toDate()[he].apply(G.toDate("s"),(te?[0,0,0,0]:[23,59,59,999]).slice(ve)),G)},le=this.$W,ae=this.$M,fe=this.$D,ce="set"+(this.$u?"UTC":"");switch(se){case D:return te?pe(1,0):pe(31,11);case m:return te?pe(1,ae):pe(0,ae+1);case p:var ee=this.$locale().weekStart||0,ue=(le<ee?le+7:le)-ee;return pe(te?fe-ue:fe+(6-ue),ae);case d:case w:return oe(ce+"Hours",0);case f:return oe(ce+"Minutes",1);case u:return oe(ce+"Seconds",2);case l:return oe(ce+"Milliseconds",3);default:return this.clone()}},C.endOf=function(N){return this.startOf(N,!1)},C.$set=function(N,W){var G,te=U.p(N),se="set"+(this.$u?"UTC":""),pe=(G={},G[d]=se+"Date",G[w]=se+"Date",G[m]=se+"Month",G[D]=se+"FullYear",G[f]=se+"Hours",G[u]=se+"Minutes",G[l]=se+"Seconds",G[s]=se+"Milliseconds",G)[te],oe=te===d?this.$D+(W-this.$W):W;if(te===m||te===D){var le=this.clone().set(w,1);le.$d[pe](oe),le.init(),this.$d=le.set(w,Math.min(this.$D,le.daysInMonth())).$d}else pe&&this.$d[pe](oe);return this.init(),this},C.set=function(N,W){return this.clone().$set(N,W)},C.get=function(N){return this[U.p(N)]()},C.add=function(N,W){var G,te=this;N=Number(N);var se=U.p(W),pe=function(ae){var fe=J(te);return U.w(fe.date(fe.date()+Math.round(ae*N)),te)};if(se===m)return this.set(m,this.$M+N);if(se===D)return this.set(D,this.$y+N);if(se===d)return pe(1);if(se===p)return pe(7);var oe=(G={},G[u]=r,G[f]=o,G[l]=t,G)[se]||1,le=this.$d.getTime()+N*oe;return U.w(le,this)},C.subtract=function(N,W){return this.add(-1*N,W)},C.format=function(N){var W=this,G=this.$locale();if(!this.isValid())return G.invalidDate||k;var te=N||"YYYY-MM-DDTHH:mm:ssZ",se=U.z(this),pe=this.$H,oe=this.$m,le=this.$M,ae=G.weekdays,fe=G.months,ce=G.meridiem,ee=function(ve,we,Pe,Be){return ve&&(ve[we]||ve(W,te))||Pe[we].slice(0,Be)},ue=function(ve){return U.s(pe%12||12,ve,"0")},he=ce||function(ve,we,Pe){var Be=ve<12?"AM":"PM";return Pe?Be.toLowerCase():Be};return te.replace(R,function(ve,we){return we||function(Pe){switch(Pe){case"YY":return String(W.$y).slice(-2);case"YYYY":return U.s(W.$y,4,"0");case"M":return le+1;case"MM":return U.s(le+1,2,"0");case"MMM":return ee(G.monthsShort,le,fe,3);case"MMMM":return ee(fe,le);case"D":return W.$D;case"DD":return U.s(W.$D,2,"0");case"d":return String(W.$W);case"dd":return ee(G.weekdaysMin,W.$W,ae,2);case"ddd":return ee(G.weekdaysShort,W.$W,ae,3);case"dddd":return ae[W.$W];case"H":return String(pe);case"HH":return U.s(pe,2,"0");case"h":return ue(1);case"hh":return ue(2);case"a":return he(pe,oe,!0);case"A":return he(pe,oe,!1);case"m":return String(oe);case"mm":return U.s(oe,2,"0");case"s":return String(W.$s);case"ss":return U.s(W.$s,2,"0");case"SSS":return U.s(W.$ms,3,"0");case"Z":return se}return null}(ve)||se.replace(":","")})},C.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},C.diff=function(N,W,G){var te,se=this,pe=U.p(W),oe=J(N),le=(oe.utcOffset()-this.utcOffset())*r,ae=this-oe,fe=function(){return U.m(se,oe)};switch(pe){case D:te=fe()/12;break;case m:te=fe();break;case v:te=fe()/3;break;case p:te=(ae-le)/6048e5;break;case d:te=(ae-le)/864e5;break;case f:te=ae/o;break;case u:te=ae/r;break;case l:te=ae/t;break;default:te=ae}return G?te:U.a(te)},C.daysInMonth=function(){return this.endOf(m).$D},C.$locale=function(){return T[this.$L]},C.locale=function(N,W){if(!N)return this.$L;var G=this.clone(),te=V(N,W,!0);return te&&(G.$L=te),G},C.clone=function(){return U.w(this.$d,this)},C.toDate=function(){return new Date(this.valueOf())},C.toJSON=function(){return this.isValid()?this.toISOString():null},C.toISOString=function(){return this.$d.toISOString()},C.toString=function(){return this.$d.toUTCString()},_}(),j=H.prototype;return J.prototype=j,[["$ms",s],["$s",l],["$m",u],["$H",f],["$W",d],["$M",m],["$y",D],["$D",w]].forEach(function(_){j[_[1]]=function(C){return this.$g(C,_[0],_[1])}}),J.extend=function(_,C){return _.$i||(_(C,H,J),_.$i=!0),J},J.locale=V,J.isDayjs=$,J.unix=function(_){return J(1e3*_)},J.en=T[x],J.Ls=T,J.p={},J})})(dw);var mT=dw.exports;const RL=ir(mT);var pw={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(di,function(){return function(t,r,o){t=t||{};var s=r.prototype,l={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function u(d,p,m,v){return s.fromToBase(d,p,m,v)}o.en.relativeTime=l,s.fromToBase=function(d,p,m,v,D){for(var w,k,M,R=m.$locale().relativeTime||l,I=t.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],z=I.length,b=0;b<z;b+=1){var x=I[b];x.d&&(w=v?o(d).diff(m,x.d,!0):m.diff(d,x.d,!0));var T=(t.rounding||Math.round)(Math.abs(w));if(M=w>0,T<=x.r||!x.r){T<=1&&b>0&&(x=I[b-1]);var B=R[x.l];D&&(T=D(""+T)),k=typeof B=="string"?B.replace("%d",T):B(T,p,x.l,M);break}}if(p)return k;var $=M?R.future:R.past;return typeof $=="function"?$(k):$.replace("%s",k)},s.to=function(d,p){return u(d,p,this,!0)},s.from=function(d,p){return u(d,p,this)};var f=function(d){return d.$u?o.utc():o()};s.toNow=function(d){return this.to(f(this),d)},s.fromNow=function(d){return this.from(f(this),d)}}})})(pw);var vT=pw.exports;const LL=ir(vT);var gw={exports:{}};(function(n){((e,t)=>{n.exports?n.exports=t():e.fuzzysort=t()})(di,e=>{var t=(C,N)=>{if(C=="farzher")return{target:"farzher was here (^-^*)/",score:0,_indexes:[0]};if(!C||!N)return H;var W=p(C);$(N)||(N=d(N));var G=W.bitflags;return(G&N._bitflags)!==G?H:v(W,N)},r=(C,N,W)=>{if(C=="farzher")return[{target:"farzher was here (^-^*)/",score:0,_indexes:[0],obj:N?N[0]:H}];if(!C)return W&&W.all?m(C,N,W):U;var G=p(C),te=G.bitflags;G.containsSpace;var se=W&&W.threshold||J,pe=W&&W.limit||V,oe=0,le=0,ae=N.length;if(W&&W.key)for(var fe=W.key,ce=0;ce<ae;++ce){var ee=N[ce],ue=B(ee,fe);if(ue&&($(ue)||(ue=d(ue)),(te&ue._bitflags)===te)){var he=v(G,ue);he!==H&&(he.score<se||(he={target:he.target,_targetLower:"",_targetLowerCodes:H,_nextBeginningIndexes:H,_bitflags:0,score:he.score,_indexes:he._indexes,obj:ee},oe<pe?(_.add(he),++oe):(++le,he.score>_.peek().score&&_.replaceTop(he))))}}else if(W&&W.keys)for(var ve=W.scoreFn||T,we=W.keys,Pe=we.length,ce=0;ce<ae;++ce){for(var ee=N[ce],Be=new Array(Pe),Ie=0;Ie<Pe;++Ie){var fe=we[Ie],ue=B(ee,fe);if(!ue){Be[Ie]=H;continue}$(ue)||(ue=d(ue)),(te&ue._bitflags)!==te?Be[Ie]=H:Be[Ie]=v(G,ue)}Be.obj=ee;var $e=ve(Be);$e!==H&&($e<se||(Be.score=$e,oe<pe?(_.add(Be),++oe):(++le,$e>_.peek().score&&_.replaceTop(Be))))}else for(var ce=0;ce<ae;++ce){var ue=N[ce];if(ue&&($(ue)||(ue=d(ue)),(te&ue._bitflags)===te)){var he=v(G,ue);he!==H&&(he.score<se||(oe<pe?(_.add(he),++oe):(++le,he.score>_.peek().score&&_.replaceTop(he))))}}if(oe===0)return U;for(var Ge=new Array(oe),ce=oe-1;ce>=0;--ce)Ge[ce]=_.poll();return Ge.total=oe+le,Ge},o=(C,N,W)=>{if(typeof N=="function")return s(C,N);if(C===H)return H;N===void 0&&(N="<b>"),W===void 0&&(W="</b>");var G="",te=0,se=!1,pe=C.target,oe=pe.length,le=C._indexes;le=le.slice(0,le.len).sort((ce,ee)=>ce-ee);for(var ae=0;ae<oe;++ae){var fe=pe[ae];if(le[te]===ae){if(++te,se||(se=!0,G+=N),te===le.length){G+=fe+W+pe.substr(ae+1);break}}else se&&(se=!1,G+=W);G+=fe}return G},s=(ae,N)=>{if(ae===H)return H;var W=ae.target,G=W.length,te=ae._indexes;te=te.slice(0,te.len).sort((ee,ue)=>ee-ue);for(var se="",pe=0,oe=0,le=!1,ae=[],fe=0;fe<G;++fe){var ce=W[fe];if(te[oe]===fe){if(++oe,le||(le=!0,ae.push(se),se=""),oe===te.length){se+=ce,ae.push(N(se,pe++)),se="",ae.push(W.substr(fe+1));break}}else le&&(le=!1,ae.push(N(se,pe++)),se="");se+=ce}return ae},l=C=>C._indexes.slice(0,C._indexes.len).sort((N,W)=>N-W),u=C=>{typeof C!="string"&&(C="");var N=w(C);return{target:C,_targetLower:N._lower,_targetLowerCodes:N.lowerCodes,_nextBeginningIndexes:H,_bitflags:N.bitflags,score:H,_indexes:[0],obj:H}},f=C=>{typeof C!="string"&&(C=""),C=C.trim();var N=w(C),W=[];if(N.containsSpace){var G=C.split(/\s+/);G=[...new Set(G)];for(var te=0;te<G.length;te++)if(G[te]!==""){var se=w(G[te]);W.push({lowerCodes:se.lowerCodes,_lower:G[te].toLowerCase(),containsSpace:!1})}}return{lowerCodes:N.lowerCodes,bitflags:N.bitflags,containsSpace:N.containsSpace,_lower:N._lower,spaceSearches:W}},d=C=>{if(C.length>999)return u(C);var N=I.get(C);return N!==void 0||(N=u(C),I.set(C,N)),N},p=C=>{if(C.length>999)return f(C);var N=z.get(C);return N!==void 0||(N=f(C),z.set(C,N)),N},m=(C,N,W)=>{var G=[];G.total=N.length;var te=W&&W.limit||V;if(W&&W.key)for(var se=0;se<N.length;se++){var pe=N[se],oe=B(pe,W.key);if(oe){$(oe)||(oe=d(oe)),oe.score=J,oe._indexes.len=0;var le=oe;if(le={target:le.target,_targetLower:"",_targetLowerCodes:H,_nextBeginningIndexes:H,_bitflags:0,score:oe.score,_indexes:H,obj:pe},G.push(le),G.length>=te)return G}}else if(W&&W.keys)for(var se=0;se<N.length;se++){for(var pe=N[se],ae=new Array(W.keys.length),fe=W.keys.length-1;fe>=0;--fe){var oe=B(pe,W.keys[fe]);if(!oe){ae[fe]=H;continue}$(oe)||(oe=d(oe)),oe.score=J,oe._indexes.len=0,ae[fe]=oe}if(ae.obj=pe,ae.score=J,G.push(ae),G.length>=te)return G}else for(var se=0;se<N.length;se++){var oe=N[se];if(oe&&($(oe)||(oe=d(oe)),oe.score=J,oe._indexes.len=0,G.push(oe),G.length>=te))return G}return G},v=(C,N,W=!1)=>{if(W===!1&&C.containsSpace)return D(C,N);for(var G=C._lower,te=C.lowerCodes,se=te[0],pe=N._targetLowerCodes,oe=te.length,le=pe.length,ee=0,ae=0,fe=0;;){var ce=se===pe[ae];if(ce){if(b[fe++]=ae,++ee,ee===oe)break;se=te[ee]}if(++ae,ae>=le)return H}var ee=0,ue=!1,he=0,ve=N._nextBeginningIndexes;ve===H&&(ve=N._nextBeginningIndexes=M(N.target)),ae=b[0]===0?0:ve[b[0]-1];var we=0;if(ae!==le)for(;;)if(ae>=le){if(ee<=0||(++we,we>200))break;--ee;var Pe=x[--he];ae=ve[Pe]}else{var ce=te[ee]===pe[ae];if(ce){if(x[he++]=ae,++ee,ee===oe){ue=!0;break}++ae}else ae=ve[ae]}var Be=N._targetLower.indexOf(G,b[0]),Ie=~Be;if(Ie&&!ue)for(var $e=0;$e<fe;++$e)b[$e]=Be+$e;var Ge=!1;Ie&&(Ge=N._nextBeginningIndexes[Be-1]===Be);{if(ue)var Ke=x,Ht=he;else var Ke=b,Ht=fe;for(var Et=0,L=0,$e=1;$e<oe;++$e)Ke[$e]-Ke[$e-1]!==1&&(Et-=Ke[$e],++L);var Y=Ke[oe-1]-Ke[0]-(oe-1);if(Et-=(12+Y)*L,Ke[0]!==0&&(Et-=Ke[0]*Ke[0]*.2),!ue)Et*=1e3;else{for(var P=1,$e=ve[0];$e<le;$e=ve[$e])++P;P>24&&(Et*=(P-24)*10)}Ie&&(Et/=1+oe*oe*1),Ge&&(Et/=1+oe*oe*1),Et-=le-oe,N.score=Et;for(var $e=0;$e<Ht;++$e)N._indexes[$e]=Ke[$e];return N._indexes.len=Ht,N}},D=(C,N)=>{for(var W=new Set,G=0,te=H,se=0,pe=C.spaceSearches,fe=0;fe<pe.length;++fe){var oe=pe[fe];if(te=v(oe,N),te===H)return H;G+=te.score,te._indexes[0]<se&&(G-=se-te._indexes[0]),se=te._indexes[0];for(var le=0;le<te._indexes.len;++le)W.add(te._indexes[le])}var ae=v(C,N,!0);if(ae!==H&&ae.score>G)return ae;te.score=G;var fe=0;for(let ce of W)te._indexes[fe++]=ce;return te._indexes.len=fe,te},w=C=>{for(var N=C.length,W=C.toLowerCase(),G=[],te=0,se=!1,pe=0;pe<N;++pe){var oe=G[pe]=W.charCodeAt(pe);if(oe===32){se=!0;continue}var le=oe>=97&&oe<=122?oe-97:oe>=48&&oe<=57?26:oe<=127?30:31;te|=1<<le}return{lowerCodes:G,bitflags:te,containsSpace:se,_lower:W}},k=C=>{for(var N=C.length,W=[],G=0,te=!1,se=!1,pe=0;pe<N;++pe){var oe=C.charCodeAt(pe),le=oe>=65&&oe<=90,ae=le||oe>=97&&oe<=122||oe>=48&&oe<=57,fe=le&&!te||!se||!ae;te=le,se=ae,fe&&(W[G++]=pe)}return W},M=C=>{for(var N=C.length,W=k(C),G=[],te=W[0],se=0,pe=0;pe<N;++pe)te>pe?G[pe]=te:(te=W[++se],G[pe]=te===void 0?N:te);return G},R=()=>{I.clear(),z.clear(),b=[],x=[]},I=new Map,z=new Map,b=[],x=[],T=C=>{for(var N=J,W=C.length,G=0;G<W;++G){var te=C[G];if(te!==H){var se=te.score;se>N&&(N=se)}}return N===J?H:N},B=(C,N)=>{var W=C[N];if(W!==void 0)return W;var G=N;Array.isArray(N)||(G=N.split("."));for(var te=G.length,se=-1;C&&++se<te;)C=C[G[se]];return C},$=C=>typeof C=="object",V=1/0,J=-V,U=[];U.total=0;var H=null,j=C=>{var N=[],W=0,G={},te=se=>{for(var pe=0,oe=N[pe],le=1;le<W;){var ae=le+1;pe=le,ae<W&&N[ae].score<N[le].score&&(pe=ae),N[pe-1>>1]=N[pe],le=1+(pe<<1)}for(var fe=pe-1>>1;pe>0&&oe.score<N[fe].score;fe=(pe=fe)-1>>1)N[pe]=N[fe];N[pe]=oe};return G.add=se=>{var pe=W;N[W++]=se;for(var oe=pe-1>>1;pe>0&&se.score<N[oe].score;oe=(pe=oe)-1>>1)N[pe]=N[oe];N[pe]=se},G.poll=se=>{if(W!==0){var pe=N[0];return N[0]=N[--W],te(),pe}},G.peek=se=>{if(W!==0)return N[0]},G.replaceTop=se=>{N[0]=se,te()},G},_=j();return{single:t,go:r,highlight:o,prepare:u,indexes:l,cleanup:R}})})(gw);var yT=gw.exports;const BL=ir(yT);var bT={};/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */(function(n){(function(t,r){n&&typeof n.nodeName!="string"?r(n):(t.Mustache={},r(t.Mustache))})(di,function(t){var r=Object.prototype.toString,o=Array.isArray||function(H){return r.call(H)==="[object Array]"};function s(U){return typeof U=="function"}function l(U){return o(U)?"array":typeof U}function u(U){return U.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function f(U,H){return U!=null&&typeof U=="object"&&H in U}var d=RegExp.prototype.test;function p(U,H){return d.call(U,H)}var m=/\S/;function v(U){return!p(m,U)}var D={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function w(U){return String(U).replace(/[&<>"'`=\/]/g,function(j){return D[j]})}var k=/\s*/,M=/\s+/,R=/\s*=/,I=/\s*\}/,z=/#|\^|\/|>|\{|&|=|!/;function b(U,H){if(!U)return[];var j=[],_=[],C=[],N=!1,W=!1;function G(){if(N&&!W)for(;C.length;)delete _[C.pop()];else C=[];N=!1,W=!1}var te,se,pe;function oe(Pe){if(typeof Pe=="string"&&(Pe=Pe.split(M,2)),!o(Pe)||Pe.length!==2)throw new Error("Invalid tags: "+Pe);te=new RegExp(u(Pe[0])+"\\s*"),se=new RegExp("\\s*"+u(Pe[1])),pe=new RegExp("\\s*"+u("}"+Pe[1]))}oe(H||t.tags);for(var le=new B(U),ae,fe,ce,ee,ue,he;!le.eos();){if(ae=le.pos,ce=le.scanUntil(te),ce)for(var ve=0,we=ce.length;ve<we;++ve)ee=ce.charAt(ve),v(ee)?C.push(_.length):W=!0,_.push(["text",ee,ae,ae+1]),ae+=1,ee===`
`&&G();if(!le.scan(te))break;if(N=!0,fe=le.scan(z)||"name",le.scan(k),fe==="="?(ce=le.scanUntil(R),le.scan(R),le.scanUntil(se)):fe==="{"?(ce=le.scanUntil(pe),le.scan(I),le.scanUntil(se),fe="&"):ce=le.scanUntil(se),!le.scan(se))throw new Error("Unclosed tag at "+le.pos);if(ue=[fe,ce,ae,le.pos],_.push(ue),fe==="#"||fe==="^")j.push(ue);else if(fe==="/"){if(he=j.pop(),!he)throw new Error('Unopened section "'+ce+'" at '+ae);if(he[1]!==ce)throw new Error('Unclosed section "'+he[1]+'" at '+ae)}else fe==="name"||fe==="{"||fe==="&"?W=!0:fe==="="&&oe(ce)}if(he=j.pop(),he)throw new Error('Unclosed section "'+he[1]+'" at '+le.pos);return T(x(_))}function x(U){for(var H=[],j,_,C=0,N=U.length;C<N;++C)j=U[C],j&&(j[0]==="text"&&_&&_[0]==="text"?(_[1]+=j[1],_[3]=j[3]):(H.push(j),_=j));return H}function T(U){for(var H=[],j=H,_=[],C,N,W=0,G=U.length;W<G;++W)switch(C=U[W],C[0]){case"#":case"^":j.push(C),_.push(C),j=C[4]=[];break;case"/":N=_.pop(),N[5]=C[2],j=_.length>0?_[_.length-1][4]:H;break;default:j.push(C)}return H}function B(U){this.string=U,this.tail=U,this.pos=0}B.prototype.eos=function(){return this.tail===""},B.prototype.scan=function(H){var j=this.tail.match(H);if(!j||j.index!==0)return"";var _=j[0];return this.tail=this.tail.substring(_.length),this.pos+=_.length,_},B.prototype.scanUntil=function(H){var j=this.tail.search(H),_;switch(j){case-1:_=this.tail,this.tail="";break;case 0:_="";break;default:_=this.tail.substring(0,j),this.tail=this.tail.substring(j)}return this.pos+=_.length,_};function $(U,H){this.view=U,this.cache={".":this.view},this.parent=H}$.prototype.push=function(H){return new $(H,this)},$.prototype.lookup=function(H){var j=this.cache,_;if(j.hasOwnProperty(H))_=j[H];else{for(var C=this,N,W,G=!1;C;){if(H.indexOf(".")>0)for(_=C.view,N=H.split("."),W=0;_!=null&&W<N.length;)W===N.length-1&&(G=f(_,N[W])),_=_[N[W++]];else _=C.view[H],G=f(C.view,H);if(G)break;C=C.parent}j[H]=_}return s(_)&&(_=_.call(this.view)),_};function V(){this.cache={}}V.prototype.clearCache=function(){this.cache={}},V.prototype.parse=function(H,j){var _=this.cache,C=_[H];return C==null&&(C=_[H]=b(H,j)),C},V.prototype.render=function(H,j,_){var C=this.parse(H),N=j instanceof $?j:new $(j);return this.renderTokens(C,N,_,H)},V.prototype.renderTokens=function(H,j,_,C){for(var N="",W,G,te,se=0,pe=H.length;se<pe;++se)te=void 0,W=H[se],G=W[0],G==="#"?te=this.renderSection(W,j,_,C):G==="^"?te=this.renderInverted(W,j,_,C):G===">"?te=this.renderPartial(W,j,_,C):G==="&"?te=this.unescapedValue(W,j):G==="name"?te=this.escapedValue(W,j):G==="text"&&(te=this.rawValue(W)),te!==void 0&&(N+=te);return N},V.prototype.renderSection=function(H,j,_,C){var N=this,W="",G=j.lookup(H[1]);function te(oe){return N.render(oe,j,_)}if(G){if(o(G))for(var se=0,pe=G.length;se<pe;++se)W+=this.renderTokens(H[4],j.push(G[se]),_,C);else if(typeof G=="object"||typeof G=="string"||typeof G=="number")W+=this.renderTokens(H[4],j.push(G),_,C);else if(s(G)){if(typeof C!="string")throw new Error("Cannot use higher-order sections without the original template");G=G.call(j.view,C.slice(H[3],H[5]),te),G!=null&&(W+=G)}else W+=this.renderTokens(H[4],j,_,C);return W}},V.prototype.renderInverted=function(H,j,_,C){var N=j.lookup(H[1]);if(!N||o(N)&&N.length===0)return this.renderTokens(H[4],j,_,C)},V.prototype.renderPartial=function(H,j,_){if(_){var C=s(_)?_(H[1]):_[H[1]];if(C!=null)return this.renderTokens(this.parse(C),j,_,C)}},V.prototype.unescapedValue=function(H,j){var _=j.lookup(H[1]);if(_!=null)return _},V.prototype.escapedValue=function(H,j){var _=j.lookup(H[1]);if(_!=null)return t.escape(_)},V.prototype.rawValue=function(H){return H[1]},t.name="mustache.js",t.version="2.3.2",t.tags=["{{","}}"];var J=new V;return t.clearCache=function(){return J.clearCache()},t.parse=function(H,j){return J.parse(H,j)},t.render=function(H,j,_){if(typeof H!="string")throw new TypeError('Invalid template! Template should be a "string" but "'+l(H)+'" was given as the first argument for mustache#render(template, view, partials)');return J.render(H,j,_)},t.to_html=function(H,j,_,C){var N=t.render(H,j,_);if(s(C))C(N);else return N},t.escape=w,t.Scanner=B,t.Context=$,t.Writer=V,t})})(bT);var wT=Error,DT=EvalError,ST=RangeError,CT=ReferenceError,mw=SyntaxError,Gl=TypeError,xT=URIError,ET=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),r=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var o=42;e[t]=o;for(t in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var l=Object.getOwnPropertyDescriptor(e,t);if(l.value!==o||l.enumerable!==!0)return!1}return!0},ey=typeof Symbol<"u"&&Symbol,kT=ET,AT=function(){return typeof ey!="function"||typeof Symbol!="function"||typeof ey("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:kT()},md={__proto__:null,foo:{}},TT=Object,OT=function(){return{__proto__:md}.foo===md.foo&&!(md instanceof TT)},MT="Function.prototype.bind called on incompatible ",FT=Object.prototype.toString,NT=Math.max,RT="[object Function]",ty=function(e,t){for(var r=[],o=0;o<e.length;o+=1)r[o]=e[o];for(var s=0;s<t.length;s+=1)r[s+e.length]=t[s];return r},LT=function(e,t){for(var r=[],o=t||0,s=0;o<e.length;o+=1,s+=1)r[s]=e[o];return r},BT=function(n,e){for(var t="",r=0;r<n.length;r+=1)t+=n[r],r+1<n.length&&(t+=e);return t},IT=function(e){var t=this;if(typeof t!="function"||FT.apply(t)!==RT)throw new TypeError(MT+t);for(var r=LT(arguments,1),o,s=function(){if(this instanceof o){var p=t.apply(this,ty(r,arguments));return Object(p)===p?p:this}return t.apply(e,ty(r,arguments))},l=NT(0,t.length-r.length),u=[],f=0;f<l;f++)u[f]="$"+f;if(o=Function("binder","return function ("+BT(u,",")+"){ return binder.apply(this,arguments); }")(s),t.prototype){var d=function(){};d.prototype=t.prototype,o.prototype=new d,d.prototype=null}return o},PT=IT,Dg=Function.prototype.bind||PT,zT=Function.prototype.call,_T=Object.prototype.hasOwnProperty,$T=Dg,HT=$T.call(zT,_T),st,WT=wT,jT=DT,UT=ST,VT=CT,aa=mw,ea=Gl,qT=xT,vw=Function,vd=function(n){try{return vw('"use strict"; return ('+n+").constructor;")()}catch{}},Yo=Object.getOwnPropertyDescriptor;if(Yo)try{Yo({},"")}catch{Yo=null}var yd=function(){throw new ea},KT=Yo?function(){try{return arguments.callee,yd}catch{try{return Yo(arguments,"callee").get}catch{return yd}}}():yd,_s=AT(),GT=OT(),hn=Object.getPrototypeOf||(GT?function(n){return n.__proto__}:null),Ks={},JT=typeof Uint8Array>"u"||!hn?st:hn(Uint8Array),Xo={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?st:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?st:ArrayBuffer,"%ArrayIteratorPrototype%":_s&&hn?hn([][Symbol.iterator]()):st,"%AsyncFromSyncIteratorPrototype%":st,"%AsyncFunction%":Ks,"%AsyncGenerator%":Ks,"%AsyncGeneratorFunction%":Ks,"%AsyncIteratorPrototype%":Ks,"%Atomics%":typeof Atomics>"u"?st:Atomics,"%BigInt%":typeof BigInt>"u"?st:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?st:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?st:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?st:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":WT,"%eval%":eval,"%EvalError%":jT,"%Float32Array%":typeof Float32Array>"u"?st:Float32Array,"%Float64Array%":typeof Float64Array>"u"?st:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?st:FinalizationRegistry,"%Function%":vw,"%GeneratorFunction%":Ks,"%Int8Array%":typeof Int8Array>"u"?st:Int8Array,"%Int16Array%":typeof Int16Array>"u"?st:Int16Array,"%Int32Array%":typeof Int32Array>"u"?st:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":_s&&hn?hn(hn([][Symbol.iterator]())):st,"%JSON%":typeof JSON=="object"?JSON:st,"%Map%":typeof Map>"u"?st:Map,"%MapIteratorPrototype%":typeof Map>"u"||!_s||!hn?st:hn(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?st:Promise,"%Proxy%":typeof Proxy>"u"?st:Proxy,"%RangeError%":UT,"%ReferenceError%":VT,"%Reflect%":typeof Reflect>"u"?st:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?st:Set,"%SetIteratorPrototype%":typeof Set>"u"||!_s||!hn?st:hn(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?st:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":_s&&hn?hn(""[Symbol.iterator]()):st,"%Symbol%":_s?Symbol:st,"%SyntaxError%":aa,"%ThrowTypeError%":KT,"%TypedArray%":JT,"%TypeError%":ea,"%Uint8Array%":typeof Uint8Array>"u"?st:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?st:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?st:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?st:Uint32Array,"%URIError%":qT,"%WeakMap%":typeof WeakMap>"u"?st:WeakMap,"%WeakRef%":typeof WeakRef>"u"?st:WeakRef,"%WeakSet%":typeof WeakSet>"u"?st:WeakSet};if(hn)try{null.error}catch(n){var YT=hn(hn(n));Xo["%Error.prototype%"]=YT}var XT=function n(e){var t;if(e==="%AsyncFunction%")t=vd("async function () {}");else if(e==="%GeneratorFunction%")t=vd("function* () {}");else if(e==="%AsyncGeneratorFunction%")t=vd("async function* () {}");else if(e==="%AsyncGenerator%"){var r=n("%AsyncGeneratorFunction%");r&&(t=r.prototype)}else if(e==="%AsyncIteratorPrototype%"){var o=n("%AsyncGenerator%");o&&hn&&(t=hn(o.prototype))}return Xo[e]=t,t},ny={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Jl=Dg,Of=HT,QT=Jl.call(Function.call,Array.prototype.concat),ZT=Jl.call(Function.apply,Array.prototype.splice),ry=Jl.call(Function.call,String.prototype.replace),Mf=Jl.call(Function.call,String.prototype.slice),eO=Jl.call(Function.call,RegExp.prototype.exec),tO=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,nO=/\\(\\)?/g,rO=function(e){var t=Mf(e,0,1),r=Mf(e,-1);if(t==="%"&&r!=="%")throw new aa("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&t!=="%")throw new aa("invalid intrinsic syntax, expected opening `%`");var o=[];return ry(e,tO,function(s,l,u,f){o[o.length]=u?ry(f,nO,"$1"):l||s}),o},iO=function(e,t){var r=e,o;if(Of(ny,r)&&(o=ny[r],r="%"+o[0]+"%"),Of(Xo,r)){var s=Xo[r];if(s===Ks&&(s=XT(r)),typeof s>"u"&&!t)throw new ea("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:o,name:r,value:s}}throw new aa("intrinsic "+e+" does not exist!")},ba=function(e,t){if(typeof e!="string"||e.length===0)throw new ea("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new ea('"allowMissing" argument must be a boolean');if(eO(/^%?[^%]*%?$/,e)===null)throw new aa("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=rO(e),o=r.length>0?r[0]:"",s=iO("%"+o+"%",t),l=s.name,u=s.value,f=!1,d=s.alias;d&&(o=d[0],ZT(r,QT([0,1],d)));for(var p=1,m=!0;p<r.length;p+=1){var v=r[p],D=Mf(v,0,1),w=Mf(v,-1);if((D==='"'||D==="'"||D==="`"||w==='"'||w==="'"||w==="`")&&D!==w)throw new aa("property names with quotes must have matching quotes");if((v==="constructor"||!m)&&(f=!0),o+="."+v,l="%"+o+"%",Of(Xo,l))u=Xo[l];else if(u!=null){if(!(v in u)){if(!t)throw new ea("base intrinsic for "+e+" exists, but the property is not available.");return}if(Yo&&p+1>=r.length){var k=Yo(u,v);m=!!k,m&&"get"in k&&!("originalValue"in k.get)?u=k.get:u=u[v]}else m=Of(u,v),u=u[v];m&&!f&&(Xo[l]=u)}}return u},yw={exports:{}},bd,iy;function Sg(){if(iy)return bd;iy=1;var n=ba,e=n("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return bd=e,bd}var oO=ba,df=oO("%Object.getOwnPropertyDescriptor%",!0);if(df)try{df([],"length")}catch{df=null}var bw=df,oy=Sg(),sO=mw,$s=Gl,sy=bw,aO=function(e,t,r){if(!e||typeof e!="object"&&typeof e!="function")throw new $s("`obj` must be an object or a function`");if(typeof t!="string"&&typeof t!="symbol")throw new $s("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new $s("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new $s("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new $s("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new $s("`loose`, if provided, must be a boolean");var o=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,l=arguments.length>5?arguments[5]:null,u=arguments.length>6?arguments[6]:!1,f=!!sy&&sy(e,t);if(oy)oy(e,t,{configurable:l===null&&f?f.configurable:!l,enumerable:o===null&&f?f.enumerable:!o,value:r,writable:s===null&&f?f.writable:!s});else if(u||!o&&!s&&!l)e[t]=r;else throw new sO("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Ap=Sg(),ww=function(){return!!Ap};ww.hasArrayLengthDefineBug=function(){if(!Ap)return null;try{return Ap([],"length",{value:1}).length!==1}catch{return!0}};var lO=ww,uO=ba,ay=aO,fO=lO(),ly=bw,uy=Gl,cO=uO("%Math.floor%"),hO=function(e,t){if(typeof e!="function")throw new uy("`fn` is not a function");if(typeof t!="number"||t<0||t>4294967295||cO(t)!==t)throw new uy("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],o=!0,s=!0;if("length"in e&&ly){var l=ly(e,"length");l&&!l.configurable&&(o=!1),l&&!l.writable&&(s=!1)}return(o||s||!r)&&(fO?ay(e,"length",t,!0,!0):ay(e,"length",t)),e};(function(n){var e=Dg,t=ba,r=hO,o=Gl,s=t("%Function.prototype.apply%"),l=t("%Function.prototype.call%"),u=t("%Reflect.apply%",!0)||e.call(l,s),f=Sg(),d=t("%Math.max%");n.exports=function(v){if(typeof v!="function")throw new o("a function is required");var D=u(e,l,arguments);return r(D,1+d(0,v.length-(arguments.length-1)),!0)};var p=function(){return u(e,s,arguments)};f?f(n.exports,"apply",{value:p}):n.exports.apply=p})(yw);var dO=yw.exports,Dw=ba,Sw=dO,pO=Sw(Dw("String.prototype.indexOf")),gO=function(e,t){var r=Dw(e,!!t);return typeof r=="function"&&pO(e,".prototype.")>-1?Sw(r):r};const mO={},vO=Object.freeze(Object.defineProperty({__proto__:null,default:mO},Symbol.toStringTag,{value:"Module"})),yO=n1(vO);var Cg=typeof Map=="function"&&Map.prototype,wd=Object.getOwnPropertyDescriptor&&Cg?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Ff=Cg&&wd&&typeof wd.get=="function"?wd.get:null,fy=Cg&&Map.prototype.forEach,xg=typeof Set=="function"&&Set.prototype,Dd=Object.getOwnPropertyDescriptor&&xg?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Nf=xg&&Dd&&typeof Dd.get=="function"?Dd.get:null,cy=xg&&Set.prototype.forEach,bO=typeof WeakMap=="function"&&WeakMap.prototype,ml=bO?WeakMap.prototype.has:null,wO=typeof WeakSet=="function"&&WeakSet.prototype,vl=wO?WeakSet.prototype.has:null,DO=typeof WeakRef=="function"&&WeakRef.prototype,hy=DO?WeakRef.prototype.deref:null,SO=Boolean.prototype.valueOf,CO=Object.prototype.toString,xO=Function.prototype.toString,EO=String.prototype.match,Eg=String.prototype.slice,po=String.prototype.replace,kO=String.prototype.toUpperCase,dy=String.prototype.toLowerCase,Cw=RegExp.prototype.test,py=Array.prototype.concat,ti=Array.prototype.join,AO=Array.prototype.slice,gy=Math.floor,Tp=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Sd=Object.getOwnPropertySymbols,Op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,la=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Nn=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===la||!0)?Symbol.toStringTag:null,xw=Object.prototype.propertyIsEnumerable,my=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(n){return n.__proto__}:null);function vy(n,e){if(n===1/0||n===-1/0||n!==n||n&&n>-1e3&&n<1e3||Cw.call(/e/,e))return e;var t=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof n=="number"){var r=n<0?-gy(-n):gy(n);if(r!==n){var o=String(r),s=Eg.call(e,o.length+1);return po.call(o,t,"$&_")+"."+po.call(po.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return po.call(e,t,"$&_")}var Mp=yO,yy=Mp.custom,by=kw(yy)?yy:null,TO=function n(e,t,r,o){var s=t||{};if(ro(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ro(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var l=ro(s,"customInspect")?s.customInspect:!0;if(typeof l!="boolean"&&l!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ro(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ro(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var u=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return Tw(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var f=String(e);return u?vy(e,f):f}if(typeof e=="bigint"){var d=String(e)+"n";return u?vy(e,d):d}var p=typeof s.depth>"u"?5:s.depth;if(typeof r>"u"&&(r=0),r>=p&&p>0&&typeof e=="object")return Fp(e)?"[Array]":"[Object]";var m=qO(s,r);if(typeof o>"u")o=[];else if(Aw(o,e)>=0)return"[Circular]";function v(j,_,C){if(_&&(o=AO.call(o),o.push(_)),C){var N={depth:s.depth};return ro(s,"quoteStyle")&&(N.quoteStyle=s.quoteStyle),n(j,N,r+1,o)}return n(j,s,r+1,o)}if(typeof e=="function"&&!wy(e)){var D=PO(e),w=zu(e,v);return"[Function"+(D?": "+D:" (anonymous)")+"]"+(w.length>0?" { "+ti.call(w,", ")+" }":"")}if(kw(e)){var k=la?po.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Op.call(e);return typeof e=="object"&&!la?Za(k):k}if(jO(e)){for(var M="<"+dy.call(String(e.nodeName)),R=e.attributes||[],I=0;I<R.length;I++)M+=" "+R[I].name+"="+Ew(OO(R[I].value),"double",s);return M+=">",e.childNodes&&e.childNodes.length&&(M+="..."),M+="</"+dy.call(String(e.nodeName))+">",M}if(Fp(e)){if(e.length===0)return"[]";var z=zu(e,v);return m&&!VO(z)?"["+Np(z,m)+"]":"[ "+ti.call(z,", ")+" ]"}if(FO(e)){var b=zu(e,v);return!("cause"in Error.prototype)&&"cause"in e&&!xw.call(e,"cause")?"{ ["+String(e)+"] "+ti.call(py.call("[cause]: "+v(e.cause),b),", ")+" }":b.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+ti.call(b,", ")+" }"}if(typeof e=="object"&&l){if(by&&typeof e[by]=="function"&&Mp)return Mp(e,{depth:p-r});if(l!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(zO(e)){var x=[];return fy&&fy.call(e,function(j,_){x.push(v(_,e,!0)+" => "+v(j,e))}),Dy("Map",Ff.call(e),x,m)}if(HO(e)){var T=[];return cy&&cy.call(e,function(j){T.push(v(j,e))}),Dy("Set",Nf.call(e),T,m)}if(_O(e))return Cd("WeakMap");if(WO(e))return Cd("WeakSet");if($O(e))return Cd("WeakRef");if(RO(e))return Za(v(Number(e)));if(BO(e))return Za(v(Tp.call(e)));if(LO(e))return Za(SO.call(e));if(NO(e))return Za(v(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===di)return"{ [object globalThis] }";if(!MO(e)&&!wy(e)){var B=zu(e,v),$=my?my(e)===Object.prototype:e instanceof Object||e.constructor===Object,V=e instanceof Object?"":"null prototype",J=!$&&Nn&&Object(e)===e&&Nn in e?Eg.call(xo(e),8,-1):V?"Object":"",U=$||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",H=U+(J||V?"["+ti.call(py.call([],J||[],V||[]),": ")+"] ":"");return B.length===0?H+"{}":m?H+"{"+Np(B,m)+"}":H+"{ "+ti.call(B,", ")+" }"}return String(e)};function Ew(n,e,t){var r=(t.quoteStyle||e)==="double"?'"':"'";return r+n+r}function OO(n){return po.call(String(n),/"/g,"&quot;")}function Fp(n){return xo(n)==="[object Array]"&&(!Nn||!(typeof n=="object"&&Nn in n))}function MO(n){return xo(n)==="[object Date]"&&(!Nn||!(typeof n=="object"&&Nn in n))}function wy(n){return xo(n)==="[object RegExp]"&&(!Nn||!(typeof n=="object"&&Nn in n))}function FO(n){return xo(n)==="[object Error]"&&(!Nn||!(typeof n=="object"&&Nn in n))}function NO(n){return xo(n)==="[object String]"&&(!Nn||!(typeof n=="object"&&Nn in n))}function RO(n){return xo(n)==="[object Number]"&&(!Nn||!(typeof n=="object"&&Nn in n))}function LO(n){return xo(n)==="[object Boolean]"&&(!Nn||!(typeof n=="object"&&Nn in n))}function kw(n){if(la)return n&&typeof n=="object"&&n instanceof Symbol;if(typeof n=="symbol")return!0;if(!n||typeof n!="object"||!Op)return!1;try{return Op.call(n),!0}catch{}return!1}function BO(n){if(!n||typeof n!="object"||!Tp)return!1;try{return Tp.call(n),!0}catch{}return!1}var IO=Object.prototype.hasOwnProperty||function(n){return n in this};function ro(n,e){return IO.call(n,e)}function xo(n){return CO.call(n)}function PO(n){if(n.name)return n.name;var e=EO.call(xO.call(n),/^function\s*([\w$]+)/);return e?e[1]:null}function Aw(n,e){if(n.indexOf)return n.indexOf(e);for(var t=0,r=n.length;t<r;t++)if(n[t]===e)return t;return-1}function zO(n){if(!Ff||!n||typeof n!="object")return!1;try{Ff.call(n);try{Nf.call(n)}catch{return!0}return n instanceof Map}catch{}return!1}function _O(n){if(!ml||!n||typeof n!="object")return!1;try{ml.call(n,ml);try{vl.call(n,vl)}catch{return!0}return n instanceof WeakMap}catch{}return!1}function $O(n){if(!hy||!n||typeof n!="object")return!1;try{return hy.call(n),!0}catch{}return!1}function HO(n){if(!Nf||!n||typeof n!="object")return!1;try{Nf.call(n);try{Ff.call(n)}catch{return!0}return n instanceof Set}catch{}return!1}function WO(n){if(!vl||!n||typeof n!="object")return!1;try{vl.call(n,vl);try{ml.call(n,ml)}catch{return!0}return n instanceof WeakSet}catch{}return!1}function jO(n){return!n||typeof n!="object"?!1:typeof HTMLElement<"u"&&n instanceof HTMLElement?!0:typeof n.nodeName=="string"&&typeof n.getAttribute=="function"}function Tw(n,e){if(n.length>e.maxStringLength){var t=n.length-e.maxStringLength,r="... "+t+" more character"+(t>1?"s":"");return Tw(Eg.call(n,0,e.maxStringLength),e)+r}var o=po.call(po.call(n,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,UO);return Ew(o,"single",e)}function UO(n){var e=n.charCodeAt(0),t={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return t?"\\"+t:"\\x"+(e<16?"0":"")+kO.call(e.toString(16))}function Za(n){return"Object("+n+")"}function Cd(n){return n+" { ? }"}function Dy(n,e,t,r){var o=r?Np(t,r):ti.call(t,", ");return n+" ("+e+") {"+o+"}"}function VO(n){for(var e=0;e<n.length;e++)if(Aw(n[e],`
`)>=0)return!1;return!0}function qO(n,e){var t;if(n.indent==="	")t="	";else if(typeof n.indent=="number"&&n.indent>0)t=ti.call(Array(n.indent+1)," ");else return null;return{base:t,prev:ti.call(Array(e+1),t)}}function Np(n,e){if(n.length===0)return"";var t=`
`+e.prev+e.base;return t+ti.call(n,","+t)+`
`+e.prev}function zu(n,e){var t=Fp(n),r=[];if(t){r.length=n.length;for(var o=0;o<n.length;o++)r[o]=ro(n,o)?e(n[o],n):""}var s=typeof Sd=="function"?Sd(n):[],l;if(la){l={};for(var u=0;u<s.length;u++)l["$"+s[u]]=s[u]}for(var f in n)ro(n,f)&&(t&&String(Number(f))===f&&f<n.length||la&&l["$"+f]instanceof Symbol||(Cw.call(/[^\w$]/,f)?r.push(e(f,n)+": "+e(n[f],n)):r.push(f+": "+e(n[f],n))));if(typeof Sd=="function")for(var d=0;d<s.length;d++)xw.call(n,s[d])&&r.push("["+e(s[d])+"]: "+e(n[s[d]],n));return r}var Ow=ba,wa=gO,KO=TO,GO=Gl,_u=Ow("%WeakMap%",!0),$u=Ow("%Map%",!0),JO=wa("WeakMap.prototype.get",!0),YO=wa("WeakMap.prototype.set",!0),XO=wa("WeakMap.prototype.has",!0),QO=wa("Map.prototype.get",!0),ZO=wa("Map.prototype.set",!0),eM=wa("Map.prototype.has",!0),kg=function(n,e){for(var t=n,r;(r=t.next)!==null;t=r)if(r.key===e)return t.next=r.next,r.next=n.next,n.next=r,r},tM=function(n,e){var t=kg(n,e);return t&&t.value},nM=function(n,e,t){var r=kg(n,e);r?r.value=t:n.next={key:e,next:n.next,value:t}},rM=function(n,e){return!!kg(n,e)},iM=function(){var e,t,r,o={assert:function(s){if(!o.has(s))throw new GO("Side channel does not contain "+KO(s))},get:function(s){if(_u&&s&&(typeof s=="object"||typeof s=="function")){if(e)return JO(e,s)}else if($u){if(t)return QO(t,s)}else if(r)return tM(r,s)},has:function(s){if(_u&&s&&(typeof s=="object"||typeof s=="function")){if(e)return XO(e,s)}else if($u){if(t)return eM(t,s)}else if(r)return rM(r,s);return!1},set:function(s,l){_u&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new _u),YO(e,s,l)):$u?(t||(t=new $u),ZO(t,s,l)):(r||(r={key:{},next:null}),nM(r,s,l))}};return o},oM=String.prototype.replace,sM=/%20/g,xd={RFC1738:"RFC1738",RFC3986:"RFC3986"},Ag={default:xd.RFC3986,formatters:{RFC1738:function(n){return oM.call(n,sM,"+")},RFC3986:function(n){return String(n)}},RFC1738:xd.RFC1738,RFC3986:xd.RFC3986},aM=Ag,Ed=Object.prototype.hasOwnProperty,jo=Array.isArray,Kr=function(){for(var n=[],e=0;e<256;++e)n.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return n}(),lM=function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(jo(r)){for(var o=[],s=0;s<r.length;++s)typeof r[s]<"u"&&o.push(r[s]);t.obj[t.prop]=o}}},Mw=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},o=0;o<e.length;++o)typeof e[o]<"u"&&(r[o]=e[o]);return r},uM=function n(e,t,r){if(!t)return e;if(typeof t!="object"){if(jo(e))e.push(t);else if(e&&typeof e=="object")(r&&(r.plainObjects||r.allowPrototypes)||!Ed.call(Object.prototype,t))&&(e[t]=!0);else return[e,t];return e}if(!e||typeof e!="object")return[e].concat(t);var o=e;return jo(e)&&!jo(t)&&(o=Mw(e,r)),jo(e)&&jo(t)?(t.forEach(function(s,l){if(Ed.call(e,l)){var u=e[l];u&&typeof u=="object"&&s&&typeof s=="object"?e[l]=n(u,s,r):e.push(s)}else e[l]=s}),e):Object.keys(t).reduce(function(s,l){var u=t[l];return Ed.call(s,l)?s[l]=n(s[l],u,r):s[l]=u,s},o)},fM=function(e,t){return Object.keys(t).reduce(function(r,o){return r[o]=t[o],r},e)},cM=function(n,e,t){var r=n.replace(/\+/g," ");if(t==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},hM=function(e,t,r,o,s){if(e.length===0)return e;var l=e;if(typeof e=="symbol"?l=Symbol.prototype.toString.call(e):typeof e!="string"&&(l=String(e)),r==="iso-8859-1")return escape(l).replace(/%u[0-9a-f]{4}/gi,function(p){return"%26%23"+parseInt(p.slice(2),16)+"%3B"});for(var u="",f=0;f<l.length;++f){var d=l.charCodeAt(f);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||s===aM.RFC1738&&(d===40||d===41)){u+=l.charAt(f);continue}if(d<128){u=u+Kr[d];continue}if(d<2048){u=u+(Kr[192|d>>6]+Kr[128|d&63]);continue}if(d<55296||d>=57344){u=u+(Kr[224|d>>12]+Kr[128|d>>6&63]+Kr[128|d&63]);continue}f+=1,d=65536+((d&1023)<<10|l.charCodeAt(f)&1023),u+=Kr[240|d>>18]+Kr[128|d>>12&63]+Kr[128|d>>6&63]+Kr[128|d&63]}return u},dM=function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],o=0;o<t.length;++o)for(var s=t[o],l=s.obj[s.prop],u=Object.keys(l),f=0;f<u.length;++f){var d=u[f],p=l[d];typeof p=="object"&&p!==null&&r.indexOf(p)===-1&&(t.push({obj:l,prop:d}),r.push(p))}return lM(t),e},pM=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},gM=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},mM=function(e,t){return[].concat(e,t)},vM=function(e,t){if(jo(e)){for(var r=[],o=0;o<e.length;o+=1)r.push(t(e[o]));return r}return t(e)},Fw={arrayToObject:Mw,assign:fM,combine:mM,compact:dM,decode:cM,encode:hM,isBuffer:gM,isRegExp:pM,maybeMap:vM,merge:uM},Nw=iM,pf=Fw,yl=Ag,yM=Object.prototype.hasOwnProperty,Sy={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},Ai=Array.isArray,bM=Array.prototype.push,Rw=function(n,e){bM.apply(n,Ai(e)?e:[e])},wM=Date.prototype.toISOString,Cy=yl.default,Tn={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:pf.encode,encodeValuesOnly:!1,format:Cy,formatter:yl.formatters[Cy],indices:!1,serializeDate:function(e){return wM.call(e)},skipNulls:!1,strictNullHandling:!1},DM=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},kd={},SM=function n(e,t,r,o,s,l,u,f,d,p,m,v,D,w,k,M){for(var R=e,I=M,z=0,b=!1;(I=I.get(kd))!==void 0&&!b;){var x=I.get(e);if(z+=1,typeof x<"u"){if(x===z)throw new RangeError("Cyclic object value");b=!0}typeof I.get(kd)>"u"&&(z=0)}if(typeof f=="function"?R=f(t,R):R instanceof Date?R=m(R):r==="comma"&&Ai(R)&&(R=pf.maybeMap(R,function(N){return N instanceof Date?m(N):N})),R===null){if(s)return u&&!w?u(t,Tn.encoder,k,"key",v):t;R=""}if(DM(R)||pf.isBuffer(R)){if(u){var T=w?t:u(t,Tn.encoder,k,"key",v);return[D(T)+"="+D(u(R,Tn.encoder,k,"value",v))]}return[D(t)+"="+D(String(R))]}var B=[];if(typeof R>"u")return B;var $;if(r==="comma"&&Ai(R))w&&u&&(R=pf.maybeMap(R,u)),$=[{value:R.length>0?R.join(",")||null:void 0}];else if(Ai(f))$=f;else{var V=Object.keys(R);$=d?V.sort(d):V}for(var J=o&&Ai(R)&&R.length===1?t+"[]":t,U=0;U<$.length;++U){var H=$[U],j=typeof H=="object"&&typeof H.value<"u"?H.value:R[H];if(!(l&&j===null)){var _=Ai(R)?typeof r=="function"?r(J,H):J:J+(p?"."+H:"["+H+"]");M.set(e,z);var C=Nw();C.set(kd,M),Rw(B,n(j,_,r,o,s,l,r==="comma"&&w&&Ai(R)?null:u,f,d,p,m,v,D,w,k,C))}}return B},CM=function(e){if(!e)return Tn;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var t=e.charset||Tn.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=yl.default;if(typeof e.format<"u"){if(!yM.call(yl.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var o=yl.formatters[r],s=Tn.filter;return(typeof e.filter=="function"||Ai(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Tn.addQueryPrefix,allowDots:typeof e.allowDots>"u"?Tn.allowDots:!!e.allowDots,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Tn.charsetSentinel,delimiter:typeof e.delimiter>"u"?Tn.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Tn.encode,encoder:typeof e.encoder=="function"?e.encoder:Tn.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Tn.encodeValuesOnly,filter:s,format:r,formatter:o,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Tn.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Tn.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Tn.strictNullHandling}},xM=function(n,e){var t=n,r=CM(e),o,s;typeof r.filter=="function"?(s=r.filter,t=s("",t)):Ai(r.filter)&&(s=r.filter,o=s);var l=[];if(typeof t!="object"||t===null)return"";var u;e&&e.arrayFormat in Sy?u=e.arrayFormat:e&&"indices"in e?u=e.indices?"indices":"repeat":u="indices";var f=Sy[u];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var d=f==="comma"&&e&&e.commaRoundTrip;o||(o=Object.keys(t)),r.sort&&o.sort(r.sort);for(var p=Nw(),m=0;m<o.length;++m){var v=o[m];r.skipNulls&&t[v]===null||Rw(l,SM(t[v],v,f,d,r.strictNullHandling,r.skipNulls,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,p))}var D=l.join(r.delimiter),w=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?w+="utf8=%26%2310003%3B&":w+="utf8=%E2%9C%93&"),D.length>0?w+D:""},ua=Fw,Rp=Object.prototype.hasOwnProperty,EM=Array.isArray,un={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:ua.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},kM=function(n){return n.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},Lw=function(n,e){return n&&typeof n=="string"&&e.comma&&n.indexOf(",")>-1?n.split(","):n},AM="utf8=%26%2310003%3B",TM="utf8=%E2%9C%93",OM=function(e,t){var r={__proto__:null},o=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=t.parameterLimit===1/0?void 0:t.parameterLimit,l=o.split(t.delimiter,s),u=-1,f,d=t.charset;if(t.charsetSentinel)for(f=0;f<l.length;++f)l[f].indexOf("utf8=")===0&&(l[f]===TM?d="utf-8":l[f]===AM&&(d="iso-8859-1"),u=f,f=l.length);for(f=0;f<l.length;++f)if(f!==u){var p=l[f],m=p.indexOf("]="),v=m===-1?p.indexOf("="):m+1,D,w;v===-1?(D=t.decoder(p,un.decoder,d,"key"),w=t.strictNullHandling?null:""):(D=t.decoder(p.slice(0,v),un.decoder,d,"key"),w=ua.maybeMap(Lw(p.slice(v+1),t),function(k){return t.decoder(k,un.decoder,d,"value")})),w&&t.interpretNumericEntities&&d==="iso-8859-1"&&(w=kM(w)),p.indexOf("[]=")>-1&&(w=EM(w)?[w]:w),Rp.call(r,D)?r[D]=ua.combine(r[D],w):r[D]=w}return r},MM=function(n,e,t,r){for(var o=r?e:Lw(e,t),s=n.length-1;s>=0;--s){var l,u=n[s];if(u==="[]"&&t.parseArrays)l=[].concat(o);else{l=t.plainObjects?Object.create(null):{};var f=u.charAt(0)==="["&&u.charAt(u.length-1)==="]"?u.slice(1,-1):u,d=parseInt(f,10);!t.parseArrays&&f===""?l={0:o}:!isNaN(d)&&u!==f&&String(d)===f&&d>=0&&t.parseArrays&&d<=t.arrayLimit?(l=[],l[d]=o):f!=="__proto__"&&(l[f]=o)}o=l}return o},FM=function(e,t,r,o){if(e){var s=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,l=/(\[[^[\]]*])/,u=/(\[[^[\]]*])/g,f=r.depth>0&&l.exec(s),d=f?s.slice(0,f.index):s,p=[];if(d){if(!r.plainObjects&&Rp.call(Object.prototype,d)&&!r.allowPrototypes)return;p.push(d)}for(var m=0;r.depth>0&&(f=u.exec(s))!==null&&m<r.depth;){if(m+=1,!r.plainObjects&&Rp.call(Object.prototype,f[1].slice(1,-1))&&!r.allowPrototypes)return;p.push(f[1])}return f&&p.push("["+s.slice(f.index)+"]"),MM(p,t,r,o)}},NM=function(e){if(!e)return un;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=typeof e.charset>"u"?un.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?un.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:un.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:un.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:un.arrayLimit,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:un.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:un.comma,decoder:typeof e.decoder=="function"?e.decoder:un.decoder,delimiter:typeof e.delimiter=="string"||ua.isRegExp(e.delimiter)?e.delimiter:un.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:un.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:un.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:un.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:un.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:un.strictNullHandling}},RM=function(n,e){var t=NM(e);if(n===""||n===null||typeof n>"u")return t.plainObjects?Object.create(null):{};for(var r=typeof n=="string"?OM(n,t):n,o=t.plainObjects?Object.create(null):{},s=Object.keys(r),l=0;l<s.length;++l){var u=s[l],f=FM(u,r[u],t,typeof n=="string");o=ua.merge(o,f,t)}return t.allowSparse===!0?o:ua.compact(o)},LM=xM,BM=RM,IM=Ag,PM={formats:IM,parse:BM,stringify:LM};const IL=ir(PM);var Lp={exports:{}};(function(n,e){(function(){function t(b){return typeof b=="function"}function r(b){return Object.prototype.toString.call(b)==="[object Array]"}function o(b){return b instanceof Date?b.getTime():b instanceof Array?b.map(o):b}function s(b,x){return b.get?b.get(x):b[x]}function l(b){return function(x,T){if(!r(T)||!T.length)return b(x,T);for(var B=0,$=T.length;B<$;B++)if(b(x,s(T,B)))return!0;return!1}}function u(b){return function(x,T){if(!r(T)||!T.length)return b(x,T);for(var B=0,$=T.length;B<$;B++)if(!b(x,s(T,B)))return!1;return!0}}function f(b,x){return b.v(b.a,x)}var d={$eq:l(function(b,x){return b(x)}),$ne:u(function(b,x){return!b(x)}),$or:function(b,x){for(var T=0,B=b.length;T<B;T++)if(f(s(b,T),x))return!0;return!1},$gt:l(function(b,x){return z.compare(o(x),b)>0}),$gte:l(function(b,x){return z.compare(o(x),b)>=0}),$lt:l(function(b,x){return z.compare(o(x),b)<0}),$lte:l(function(b,x){return z.compare(o(x),b)<=0}),$mod:l(function(b,x){return x%b[0]==b[1]}),$in:function(b,x){if(x instanceof Array){for(var T=x.length;T--;)if(~b.indexOf(o(s(x,T))))return!0}else{var B=o(x);if(B===x&&typeof x=="object"){for(var T=b.length;T--;)if(String(b[T])===String(x)&&String(x)!=="[object Object]")return!0}if(typeof B>"u"){for(var T=b.length;T--;)if(b[T]==null)return!0}for(var T=b.length;T--;){var $=I(s(b,T),void 0),V=f($,x);if(V&&String(V)!=="[object Object]"&&String(x)!=="[object Object]")return!0}return!!~b.indexOf(o(x))}return!1},$nin:function(b,x){return!d.$in(b,x)},$not:function(b,x){return!f(b,x)},$type:function(b,x){return x!=null?x instanceof b||x.constructor==b:!1},$all:function(b,x){return d.$and(b,x)},$size:function(b,x){return x?b===x.length:!1},$nor:function(b,x){for(var T=0,B=b.length;T<B;T++)if(f(s(b,T),x))return!1;return!0},$and:function(b,x){for(var T=0,B=b.length;T<B;T++)if(!f(s(b,T),x))return!1;return!0},$regex:l(function(b,x){return typeof x=="string"&&b.test(x)}),$where:function(b,x){return b.call(x,x)},$elemMatch:function(b,x){return r(x)?!!~m(x,b):f(b,x)},$exists:function(b,x){return x!=null===b}},p={$eq:function(b){return b instanceof RegExp?function(x){return typeof x=="string"&&b.test(x)}:b instanceof Function?b:r(b)&&!b.length?function(x){return r(x)&&!x.length}:b===null?function(x){return x==null}:function(x){return z.compare(o(x),b)===0}},$ne:function(b){return p.$eq(b)},$and:function(b){return b.map(R)},$all:function(b){return p.$and(b)},$or:function(b){return b.map(R)},$nor:function(b){return b.map(R)},$not:function(b){return R(b)},$regex:function(b,x){return new RegExp(b,x.$options)},$where:function(b){return typeof b=="string"?new Function("obj","return "+b):b},$elemMatch:function(b){return R(b)},$exists:function(b){return!!b}};function m(b,x){for(var T=0;T<b.length;T++)if(f(x,s(b,T)))return T;return-1}function v(b,x){return{a:b,v:x}}function D(b,x){var T=[];return w(x,b.k,0,T),T.length===1?f(b.nv,T[0]):!!~m(T,b.nv)}function w(b,x,T,B){if(T===x.length||b==null){B.push(b);return}var $=s(x,T);if(r(b)&&isNaN(Number($)))for(var V=0,J=b.length;V<J;V++)w(s(b,V),x,T,B);else w(s(b,$),x,T+1,B)}function k(b,x){return{a:{k:b,nv:x},v:D}}function M(b){return String(b.constructor)==="Object"||String(b.constructor).replace(/[\r\n\s\t]/g,"")==="functionObject(){[nativecode]}"}function R(b){b=o(b),(!b||!M(b))&&(b={$eq:b});var x=[];for(var T in b){var B=b[T];if(T!=="$options")if(d[T])p[T]&&(B=p[T](B,b)),x.push(v(o(B),d[T]));else{if(T.charCodeAt(0)===36)throw new Error("Unknown operation "+T);x.push(k(T.split("."),R(B)))}}return x.length===1?x[0]:v(x,d.$and)}function I(b,x){var T=R(b);return x&&(T={a:T,v:function(B,$){return f(B,x($))}}),T}function z(b,x,T){t(x)&&(T=x,x=void 0);var B=I(b,T);function $(V){return f(B,V)}return x?x.filter($):$}z.use=function(b){if(t(b))return b(z);for(var x in b)x.charCodeAt(0)===36&&(d[x]=b[x])},z.indexOf=function(b,x,T){return m(x,I(b,T))},z.compare=function(b,x){if(b===x)return 0;if(typeof b==typeof x){if(b>x)return 1;if(b<x)return-1}},Object.defineProperty(e,"__esModule",{value:!0}),n.exports=z,e.default=n.exports.default=z,typeof window<"u"&&(window.sift=z)})()})(Lp,Lp.exports);var zM=Lp.exports;const PL=ir(zM);var _M=/[\u1680\u2000-\u200A\u202F\u205F\u3000]/,$M=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,HM=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/,Ad={Space_Separator:_M,ID_Start:$M,ID_Continue:HM},Ut={isSpaceSeparator(n){return typeof n=="string"&&Ad.Space_Separator.test(n)},isIdStartChar(n){return typeof n=="string"&&(n>="a"&&n<="z"||n>="A"&&n<="Z"||n==="$"||n==="_"||Ad.ID_Start.test(n))},isIdContinueChar(n){return typeof n=="string"&&(n>="a"&&n<="z"||n>="A"&&n<="Z"||n>="0"&&n<="9"||n==="$"||n==="_"||n==="â"||n==="â"||Ad.ID_Continue.test(n))},isDigit(n){return typeof n=="string"&&/[0-9]/.test(n)},isHexDigit(n){return typeof n=="string"&&/[0-9A-Fa-f]/.test(n)}};let Bp,Un,Ti,Rf,So,Ir,cn,Tg,bl;var WM=function(e,t){Bp=String(e),Un="start",Ti=[],Rf=0,So=1,Ir=0,cn=void 0,Tg=void 0,bl=void 0;do cn=jM(),qM[Un]();while(cn.type!=="eof");return typeof t=="function"?Ip({"":bl},"",t):bl};function Ip(n,e,t){const r=n[e];if(r!=null&&typeof r=="object")if(Array.isArray(r))for(let o=0;o<r.length;o++){const s=String(o),l=Ip(r,s,t);l===void 0?delete r[s]:Object.defineProperty(r,s,{value:l,writable:!0,enumerable:!0,configurable:!0})}else for(const o in r){const s=Ip(r,o,t);s===void 0?delete r[o]:Object.defineProperty(r,o,{value:s,writable:!0,enumerable:!0,configurable:!0})}return t.call(n,e,r)}let rt,Ze,il,xi,ot;function jM(){for(rt="default",Ze="",il=!1,xi=1;;){ot=Ri();const n=Bw[rt]();if(n)return n}}function Ri(){if(Bp[Rf])return String.fromCodePoint(Bp.codePointAt(Rf))}function De(){const n=Ri();return n===`
`?(So++,Ir=0):n?Ir+=n.length:Ir++,n&&(Rf+=n.length),n}const Bw={default(){switch(ot){case"	":case"\v":case"\f":case" ":case"Â ":case"\uFEFF":case`
`:case"\r":case"\u2028":case"\u2029":De();return;case"/":De(),rt="comment";return;case void 0:return De(),Tt("eof")}if(Ut.isSpaceSeparator(ot)){De();return}return Bw[Un]()},comment(){switch(ot){case"*":De(),rt="multiLineComment";return;case"/":De(),rt="singleLineComment";return}throw Ot(De())},multiLineComment(){switch(ot){case"*":De(),rt="multiLineCommentAsterisk";return;case void 0:throw Ot(De())}De()},multiLineCommentAsterisk(){switch(ot){case"*":De();return;case"/":De(),rt="default";return;case void 0:throw Ot(De())}De(),rt="multiLineComment"},singleLineComment(){switch(ot){case`
`:case"\r":case"\u2028":case"\u2029":De(),rt="default";return;case void 0:return De(),Tt("eof")}De()},value(){switch(ot){case"{":case"[":return Tt("punctuator",De());case"n":return De(),$o("ull"),Tt("null",null);case"t":return De(),$o("rue"),Tt("boolean",!0);case"f":return De(),$o("alse"),Tt("boolean",!1);case"-":case"+":De()==="-"&&(xi=-1),rt="sign";return;case".":Ze=De(),rt="decimalPointLeading";return;case"0":Ze=De(),rt="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":Ze=De(),rt="decimalInteger";return;case"I":return De(),$o("nfinity"),Tt("numeric",1/0);case"N":return De(),$o("aN"),Tt("numeric",NaN);case'"':case"'":il=De()==='"',Ze="",rt="string";return}throw Ot(De())},identifierNameStartEscape(){if(ot!=="u")throw Ot(De());De();const n=Pp();switch(n){case"$":case"_":break;default:if(!Ut.isIdStartChar(n))throw xy();break}Ze+=n,rt="identifierName"},identifierName(){switch(ot){case"$":case"_":case"â":case"â":Ze+=De();return;case"\\":De(),rt="identifierNameEscape";return}if(Ut.isIdContinueChar(ot)){Ze+=De();return}return Tt("identifier",Ze)},identifierNameEscape(){if(ot!=="u")throw Ot(De());De();const n=Pp();switch(n){case"$":case"_":case"â":case"â":break;default:if(!Ut.isIdContinueChar(n))throw xy();break}Ze+=n,rt="identifierName"},sign(){switch(ot){case".":Ze=De(),rt="decimalPointLeading";return;case"0":Ze=De(),rt="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":Ze=De(),rt="decimalInteger";return;case"I":return De(),$o("nfinity"),Tt("numeric",xi*(1/0));case"N":return De(),$o("aN"),Tt("numeric",NaN)}throw Ot(De())},zero(){switch(ot){case".":Ze+=De(),rt="decimalPoint";return;case"e":case"E":Ze+=De(),rt="decimalExponent";return;case"x":case"X":Ze+=De(),rt="hexadecimal";return}return Tt("numeric",xi*0)},decimalInteger(){switch(ot){case".":Ze+=De(),rt="decimalPoint";return;case"e":case"E":Ze+=De(),rt="decimalExponent";return}if(Ut.isDigit(ot)){Ze+=De();return}return Tt("numeric",xi*Number(Ze))},decimalPointLeading(){if(Ut.isDigit(ot)){Ze+=De(),rt="decimalFraction";return}throw Ot(De())},decimalPoint(){switch(ot){case"e":case"E":Ze+=De(),rt="decimalExponent";return}if(Ut.isDigit(ot)){Ze+=De(),rt="decimalFraction";return}return Tt("numeric",xi*Number(Ze))},decimalFraction(){switch(ot){case"e":case"E":Ze+=De(),rt="decimalExponent";return}if(Ut.isDigit(ot)){Ze+=De();return}return Tt("numeric",xi*Number(Ze))},decimalExponent(){switch(ot){case"+":case"-":Ze+=De(),rt="decimalExponentSign";return}if(Ut.isDigit(ot)){Ze+=De(),rt="decimalExponentInteger";return}throw Ot(De())},decimalExponentSign(){if(Ut.isDigit(ot)){Ze+=De(),rt="decimalExponentInteger";return}throw Ot(De())},decimalExponentInteger(){if(Ut.isDigit(ot)){Ze+=De();return}return Tt("numeric",xi*Number(Ze))},hexadecimal(){if(Ut.isHexDigit(ot)){Ze+=De(),rt="hexadecimalInteger";return}throw Ot(De())},hexadecimalInteger(){if(Ut.isHexDigit(ot)){Ze+=De();return}return Tt("numeric",xi*Number(Ze))},string(){switch(ot){case"\\":De(),Ze+=UM();return;case'"':if(il)return De(),Tt("string",Ze);Ze+=De();return;case"'":if(!il)return De(),Tt("string",Ze);Ze+=De();return;case`
`:case"\r":throw Ot(De());case"\u2028":case"\u2029":KM(ot);break;case void 0:throw Ot(De())}Ze+=De()},start(){switch(ot){case"{":case"[":return Tt("punctuator",De())}rt="value"},beforePropertyName(){switch(ot){case"$":case"_":Ze=De(),rt="identifierName";return;case"\\":De(),rt="identifierNameStartEscape";return;case"}":return Tt("punctuator",De());case'"':case"'":il=De()==='"',rt="string";return}if(Ut.isIdStartChar(ot)){Ze+=De(),rt="identifierName";return}throw Ot(De())},afterPropertyName(){if(ot===":")return Tt("punctuator",De());throw Ot(De())},beforePropertyValue(){rt="value"},afterPropertyValue(){switch(ot){case",":case"}":return Tt("punctuator",De())}throw Ot(De())},beforeArrayValue(){if(ot==="]")return Tt("punctuator",De());rt="value"},afterArrayValue(){switch(ot){case",":case"]":return Tt("punctuator",De())}throw Ot(De())},end(){throw Ot(De())}};function Tt(n,e){return{type:n,value:e,line:So,column:Ir}}function $o(n){for(const e of n){if(Ri()!==e)throw Ot(De());De()}}function UM(){switch(Ri()){case"b":return De(),"\b";case"f":return De(),"\f";case"n":return De(),`
`;case"r":return De(),"\r";case"t":return De(),"	";case"v":return De(),"\v";case"0":if(De(),Ut.isDigit(Ri()))throw Ot(De());return"\0";case"x":return De(),VM();case"u":return De(),Pp();case`
`:case"\u2028":case"\u2029":return De(),"";case"\r":return De(),Ri()===`
`&&De(),"";case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":throw Ot(De());case void 0:throw Ot(De())}return De()}function VM(){let n="",e=Ri();if(!Ut.isHexDigit(e)||(n+=De(),e=Ri(),!Ut.isHexDigit(e)))throw Ot(De());return n+=De(),String.fromCodePoint(parseInt(n,16))}function Pp(){let n="",e=4;for(;e-- >0;){const t=Ri();if(!Ut.isHexDigit(t))throw Ot(De());n+=De()}return String.fromCodePoint(parseInt(n,16))}const qM={start(){if(cn.type==="eof")throw Ho();Td()},beforePropertyName(){switch(cn.type){case"identifier":case"string":Tg=cn.value,Un="afterPropertyName";return;case"punctuator":Hu();return;case"eof":throw Ho()}},afterPropertyName(){if(cn.type==="eof")throw Ho();Un="beforePropertyValue"},beforePropertyValue(){if(cn.type==="eof")throw Ho();Td()},beforeArrayValue(){if(cn.type==="eof")throw Ho();if(cn.type==="punctuator"&&cn.value==="]"){Hu();return}Td()},afterPropertyValue(){if(cn.type==="eof")throw Ho();switch(cn.value){case",":Un="beforePropertyName";return;case"}":Hu()}},afterArrayValue(){if(cn.type==="eof")throw Ho();switch(cn.value){case",":Un="beforeArrayValue";return;case"]":Hu()}},end(){}};function Td(){let n;switch(cn.type){case"punctuator":switch(cn.value){case"{":n={};break;case"[":n=[];break}break;case"null":case"boolean":case"numeric":case"string":n=cn.value;break}if(bl===void 0)bl=n;else{const e=Ti[Ti.length-1];Array.isArray(e)?e.push(n):Object.defineProperty(e,Tg,{value:n,writable:!0,enumerable:!0,configurable:!0})}if(n!==null&&typeof n=="object")Ti.push(n),Array.isArray(n)?Un="beforeArrayValue":Un="beforePropertyName";else{const e=Ti[Ti.length-1];e==null?Un="end":Array.isArray(e)?Un="afterArrayValue":Un="afterPropertyValue"}}function Hu(){Ti.pop();const n=Ti[Ti.length-1];n==null?Un="end":Array.isArray(n)?Un="afterArrayValue":Un="afterPropertyValue"}function Ot(n){return Lf(n===void 0?`JSON5: invalid end of input at ${So}:${Ir}`:`JSON5: invalid character '${Iw(n)}' at ${So}:${Ir}`)}function Ho(){return Lf(`JSON5: invalid end of input at ${So}:${Ir}`)}function xy(){return Ir-=5,Lf(`JSON5: invalid identifier character at ${So}:${Ir}`)}function KM(n){console.warn(`JSON5: '${Iw(n)}' in strings is not valid ECMAScript; consider escaping`)}function Iw(n){const e={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};if(e[n])return e[n];if(n<" "){const t=n.charCodeAt(0).toString(16);return"\\x"+("00"+t).substring(t.length)}return n}function Lf(n){const e=new SyntaxError(n);return e.lineNumber=So,e.columnNumber=Ir,e}var GM=function(e,t,r){const o=[];let s="",l,u,f="",d;if(t!=null&&typeof t=="object"&&!Array.isArray(t)&&(r=t.space,d=t.quote,t=t.replacer),typeof t=="function")u=t;else if(Array.isArray(t)){l=[];for(const k of t){let M;typeof k=="string"?M=k:(typeof k=="number"||k instanceof String||k instanceof Number)&&(M=String(k)),M!==void 0&&l.indexOf(M)<0&&l.push(M)}}return r instanceof Number?r=Number(r):r instanceof String&&(r=String(r)),typeof r=="number"?r>0&&(r=Math.min(10,Math.floor(r)),f="          ".substr(0,r)):typeof r=="string"&&(f=r.substr(0,10)),p("",{"":e});function p(k,M){let R=M[k];switch(R!=null&&(typeof R.toJSON5=="function"?R=R.toJSON5(k):typeof R.toJSON=="function"&&(R=R.toJSON(k))),u&&(R=u.call(M,k,R)),R instanceof Number?R=Number(R):R instanceof String?R=String(R):R instanceof Boolean&&(R=R.valueOf()),R){case null:return"null";case!0:return"true";case!1:return"false"}if(typeof R=="string")return m(R);if(typeof R=="number")return String(R);if(typeof R=="object")return Array.isArray(R)?w(R):v(R)}function m(k){const M={"'":.1,'"':.2},R={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};let I="";for(let b=0;b<k.length;b++){const x=k[b];switch(x){case"'":case'"':M[x]++,I+=x;continue;case"\0":if(Ut.isDigit(k[b+1])){I+="\\x00";continue}}if(R[x]){I+=R[x];continue}if(x<" "){let T=x.charCodeAt(0).toString(16);I+="\\x"+("00"+T).substring(T.length);continue}I+=x}const z=d||Object.keys(M).reduce((b,x)=>M[b]<M[x]?b:x);return I=I.replace(new RegExp(z,"g"),R[z]),z+I+z}function v(k){if(o.indexOf(k)>=0)throw TypeError("Converting circular structure to JSON5");o.push(k);let M=s;s=s+f;let R=l||Object.keys(k),I=[];for(const b of R){const x=p(b,k);if(x!==void 0){let T=D(b)+":";f!==""&&(T+=" "),T+=x,I.push(T)}}let z;if(I.length===0)z="{}";else{let b;if(f==="")b=I.join(","),z="{"+b+"}";else{let x=`,
`+s;b=I.join(x),z=`{
`+s+b+`,
`+M+"}"}}return o.pop(),s=M,z}function D(k){if(k.length===0)return m(k);const M=String.fromCodePoint(k.codePointAt(0));if(!Ut.isIdStartChar(M))return m(k);for(let R=M.length;R<k.length;R++)if(!Ut.isIdContinueChar(String.fromCodePoint(k.codePointAt(R))))return m(k);return k}function w(k){if(o.indexOf(k)>=0)throw TypeError("Converting circular structure to JSON5");o.push(k);let M=s;s=s+f;let R=[];for(let z=0;z<k.length;z++){const b=p(String(z),k);R.push(b!==void 0?b:"null")}let I;if(R.length===0)I="[]";else if(f==="")I="["+R.join(",")+"]";else{let z=`,
`+s,b=R.join(z);I=`[
`+s+b+`,
`+M+"]"}return o.pop(),s=M,I}};const JM={parse:WM,stringify:GM};var zL=JM,Od={exports:{}},Ey;function $r(){return Ey||(Ey=1,function(n,e){(function(t,r){n.exports=r()})(di,function(){var t=navigator.userAgent,r=navigator.platform,o=/gecko\/\d/i.test(t),s=/MSIE \d/.test(t),l=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(t),u=/Edge\/(\d+)/.exec(t),f=s||l||u,d=f&&(s?document.documentMode||6:+(u||l)[1]),p=!u&&/WebKit\//.test(t),m=p&&/Qt\/\d+\.\d+/.test(t),v=!u&&/Chrome\/(\d+)/.exec(t),D=v&&+v[1],w=/Opera\//.test(t),k=/Apple Computer/.test(navigator.vendor),M=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(t),R=/PhantomJS/.test(t),I=k&&(/Mobile\/\w+/.test(t)||navigator.maxTouchPoints>2),z=/Android/.test(t),b=I||z||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(t),x=I||/Mac/.test(r),T=/\bCrOS\b/.test(t),B=/win/i.test(r),$=w&&t.match(/Version\/(\d*\.\d*)/);$&&($=Number($[1])),$&&$>=15&&(w=!1,p=!0);var V=x&&(m||w&&($==null||$<12.11)),J=o||f&&d>=9;function U(i){return new RegExp("(^|\\s)"+i+"(?:$|\\s)\\s*")}var H=function(i,a){var h=i.className,c=U(a).exec(h);if(c){var g=h.slice(c.index+c[0].length);i.className=h.slice(0,c.index)+(g?c[1]+g:"")}};function j(i){for(var a=i.childNodes.length;a>0;--a)i.removeChild(i.firstChild);return i}function _(i,a){return j(i).appendChild(a)}function C(i,a,h,c){var g=document.createElement(i);if(h&&(g.className=h),c&&(g.style.cssText=c),typeof a=="string")g.appendChild(document.createTextNode(a));else if(a)for(var y=0;y<a.length;++y)g.appendChild(a[y]);return g}function N(i,a,h,c){var g=C(i,a,h,c);return g.setAttribute("role","presentation"),g}var W;document.createRange?W=function(i,a,h,c){var g=document.createRange();return g.setEnd(c||i,h),g.setStart(i,a),g}:W=function(i,a,h){var c=document.body.createTextRange();try{c.moveToElementText(i.parentNode)}catch{return c}return c.collapse(!0),c.moveEnd("character",h),c.moveStart("character",a),c};function G(i,a){if(a.nodeType==3&&(a=a.parentNode),i.contains)return i.contains(a);do if(a.nodeType==11&&(a=a.host),a==i)return!0;while(a=a.parentNode)}function te(i){var a=i.ownerDocument||i,h;try{h=i.activeElement}catch{h=a.body||null}for(;h&&h.shadowRoot&&h.shadowRoot.activeElement;)h=h.shadowRoot.activeElement;return h}function se(i,a){var h=i.className;U(a).test(h)||(i.className+=(h?" ":"")+a)}function pe(i,a){for(var h=i.split(" "),c=0;c<h.length;c++)h[c]&&!U(h[c]).test(a)&&(a+=" "+h[c]);return a}var oe=function(i){i.select()};I?oe=function(i){i.selectionStart=0,i.selectionEnd=i.value.length}:f&&(oe=function(i){try{i.select()}catch{}});function le(i){return i.display.wrapper.ownerDocument}function ae(i){return fe(i.display.wrapper)}function fe(i){return i.getRootNode?i.getRootNode():i.ownerDocument}function ce(i){return le(i).defaultView}function ee(i){var a=Array.prototype.slice.call(arguments,1);return function(){return i.apply(null,a)}}function ue(i,a,h){a||(a={});for(var c in i)i.hasOwnProperty(c)&&(h!==!1||!a.hasOwnProperty(c))&&(a[c]=i[c]);return a}function he(i,a,h,c,g){a==null&&(a=i.search(/[^\s\u00a0]/),a==-1&&(a=i.length));for(var y=c||0,S=g||0;;){var E=i.indexOf("	",y);if(E<0||E>=a)return S+(a-y);S+=E-y,S+=h-S%h,y=E+1}}var ve=function(){this.id=null,this.f=null,this.time=0,this.handler=ee(this.onTimeout,this)};ve.prototype.onTimeout=function(i){i.id=0,i.time<=+new Date?i.f():setTimeout(i.handler,i.time-+new Date)},ve.prototype.set=function(i,a){this.f=a;var h=+new Date+i;(!this.id||h<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,i),this.time=h)};function we(i,a){for(var h=0;h<i.length;++h)if(i[h]==a)return h;return-1}var Pe=50,Be={toString:function(){return"CodeMirror.Pass"}},Ie={scroll:!1},$e={origin:"*mouse"},Ge={origin:"+move"};function Ke(i,a,h){for(var c=0,g=0;;){var y=i.indexOf("	",c);y==-1&&(y=i.length);var S=y-c;if(y==i.length||g+S>=a)return c+Math.min(S,a-g);if(g+=y-c,g+=h-g%h,c=y+1,g>=a)return c}}var Ht=[""];function Et(i){for(;Ht.length<=i;)Ht.push(L(Ht)+" ");return Ht[i]}function L(i){return i[i.length-1]}function Y(i,a){for(var h=[],c=0;c<i.length;c++)h[c]=a(i[c],c);return h}function P(i,a,h){for(var c=0,g=h(a);c<i.length&&h(i[c])<=g;)c++;i.splice(c,0,a)}function X(){}function q(i,a){var h;return Object.create?h=Object.create(i):(X.prototype=i,h=new X),a&&ue(a,h),h}var re=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function me(i){return/\w/.test(i)||i>"Â"&&(i.toUpperCase()!=i.toLowerCase()||re.test(i))}function Se(i,a){return a?a.source.indexOf("\\w")>-1&&me(i)?!0:a.test(i):me(i)}function Ee(i){for(var a in i)if(i.hasOwnProperty(a)&&i[a])return!1;return!0}var Ue=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function _e(i){return i.charCodeAt(0)>=768&&Ue.test(i)}function it(i,a,h){for(;(h<0?a>0:a<i.length)&&_e(i.charAt(a));)a+=h;return a}function lt(i,a,h){for(var c=a>h?-1:1;;){if(a==h)return a;var g=(a+h)/2,y=c<0?Math.ceil(g):Math.floor(g);if(y==a)return i(y)?a:h;i(y)?h=y:a=y+c}}function ut(i,a,h,c){if(!i)return c(a,h,"ltr",0);for(var g=!1,y=0;y<i.length;++y){var S=i[y];(S.from<h&&S.to>a||a==h&&S.to==a)&&(c(Math.max(S.from,a),Math.min(S.to,h),S.level==1?"rtl":"ltr",y),g=!0)}g||c(a,h,"ltr")}var yt=null;function Mt(i,a,h){var c;yt=null;for(var g=0;g<i.length;++g){var y=i[g];if(y.from<a&&y.to>a)return g;y.to==a&&(y.from!=y.to&&h=="before"?c=g:yt=g),y.from==a&&(y.from!=y.to&&h!="before"?c=g:yt=g)}return c??yt}var Ln=function(){var i="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",a="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function h(O){return O<=247?i.charAt(O):1424<=O&&O<=1524?"R":1536<=O&&O<=1785?a.charAt(O-1536):1774<=O&&O<=2220?"r":8192<=O&&O<=8203?"w":O==8204?"b":"L"}var c=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,g=/[stwN]/,y=/[LRr]/,S=/[Lb1n]/,E=/[1n]/;function A(O,K,Z){this.level=O,this.from=K,this.to=Z}return function(O,K){var Z=K=="ltr"?"L":"R";if(O.length==0||K=="ltr"&&!c.test(O))return!1;for(var ie=O.length,ne=[],ge=0;ge<ie;++ge)ne.push(h(O.charCodeAt(ge)));for(var be=0,xe=Z;be<ie;++be){var Ae=ne[be];Ae=="m"?ne[be]=xe:xe=Ae}for(var Ne=0,Te=Z;Ne<ie;++Ne){var Re=ne[Ne];Re=="1"&&Te=="r"?ne[Ne]="n":y.test(Re)&&(Te=Re,Re=="r"&&(ne[Ne]="R"))}for(var Ve=1,We=ne[0];Ve<ie-1;++Ve){var et=ne[Ve];et=="+"&&We=="1"&&ne[Ve+1]=="1"?ne[Ve]="1":et==","&&We==ne[Ve+1]&&(We=="1"||We=="n")&&(ne[Ve]=We),We=et}for(var St=0;St<ie;++St){var tn=ne[St];if(tn==",")ne[St]="N";else if(tn=="%"){var Ft=void 0;for(Ft=St+1;Ft<ie&&ne[Ft]=="%";++Ft);for(var Xn=St&&ne[St-1]=="!"||Ft<ie&&ne[Ft]=="1"?"1":"N",_n=St;_n<Ft;++_n)ne[_n]=Xn;St=Ft-1}}for(var Wt=0,$n=Z;Wt<ie;++Wt){var ln=ne[Wt];$n=="L"&&ln=="1"?ne[Wt]="L":y.test(ln)&&($n=ln)}for(var Gt=0;Gt<ie;++Gt)if(g.test(ne[Gt])){var jt=void 0;for(jt=Gt+1;jt<ie&&g.test(ne[jt]);++jt);for(var Bt=(Gt?ne[Gt-1]:Z)=="L",Hn=(jt<ie?ne[jt]:Z)=="L",Ls=Bt==Hn?Bt?"L":"R":Z,Yi=Gt;Yi<jt;++Yi)ne[Yi]=Ls;Gt=jt-1}for(var gn=[],qr,nn=0;nn<ie;)if(S.test(ne[nn])){var Bh=nn;for(++nn;nn<ie&&S.test(ne[nn]);++nn);gn.push(new A(0,Bh,nn))}else{var wi=nn,Io=gn.length,Po=K=="rtl"?1:0;for(++nn;nn<ie&&ne[nn]!="L";++nn);for(var kn=wi;kn<nn;)if(E.test(ne[kn])){wi<kn&&(gn.splice(Io,0,new A(1,wi,kn)),Io+=Po);var Bs=kn;for(++kn;kn<nn&&E.test(ne[kn]);++kn);gn.splice(Io,0,new A(2,Bs,kn)),Io+=Po,wi=kn}else++kn;wi<nn&&gn.splice(Io,0,new A(1,wi,nn))}return K=="ltr"&&(gn[0].level==1&&(qr=O.match(/^\s+/))&&(gn[0].from=qr[0].length,gn.unshift(new A(0,0,qr[0].length))),L(gn).level==1&&(qr=O.match(/\s+$/))&&(L(gn).to-=qr[0].length,gn.push(new A(0,ie-qr[0].length,ie)))),K=="rtl"?gn.reverse():gn}}();function je(i,a){var h=i.order;return h==null&&(h=i.order=Ln(i.text,a)),h}var ko=[],He=function(i,a,h){if(i.addEventListener)i.addEventListener(a,h,!1);else if(i.attachEvent)i.attachEvent("on"+a,h);else{var c=i._handlers||(i._handlers={});c[a]=(c[a]||ko).concat(h)}};function pr(i,a){return i._handlers&&i._handlers[a]||ko}function qt(i,a,h){if(i.removeEventListener)i.removeEventListener(a,h,!1);else if(i.detachEvent)i.detachEvent("on"+a,h);else{var c=i._handlers,g=c&&c[a];if(g){var y=we(g,h);y>-1&&(c[a]=g.slice(0,y).concat(g.slice(y+1)))}}}function kt(i,a){var h=pr(i,a);if(h.length)for(var c=Array.prototype.slice.call(arguments,2),g=0;g<h.length;++g)h[g].apply(null,c)}function Ct(i,a,h){return typeof a=="string"&&(a={type:a,preventDefault:function(){this.defaultPrevented=!0}}),kt(i,h||a.type,i,a),Bn(a)||a.codemirrorIgnore}function an(i){var a=i._handlers&&i._handlers.cursorActivity;if(a)for(var h=i.curOp.cursorActivityHandlers||(i.curOp.cursorActivityHandlers=[]),c=0;c<a.length;++c)we(h,a[c])==-1&&h.push(a[c])}function Kt(i,a){return pr(i,a).length>0}function Jn(i){i.prototype.on=function(a,h){He(this,a,h)},i.prototype.off=function(a,h){qt(this,a,h)}}function Rt(i){i.preventDefault?i.preventDefault():i.returnValue=!1}function us(i){i.stopPropagation?i.stopPropagation():i.cancelBubble=!0}function Bn(i){return i.defaultPrevented!=null?i.defaultPrevented:i.returnValue==!1}function zi(i){Rt(i),us(i)}function Da(i){return i.target||i.srcElement}function Er(i){var a=i.which;return a==null&&(i.button&1?a=1:i.button&2?a=3:i.button&4&&(a=2)),x&&i.ctrlKey&&a==1&&(a=3),a}var Wc=function(){if(f&&d<9)return!1;var i=C("div");return"draggable"in i||"dragDrop"in i}(),fs;function tu(i){if(fs==null){var a=C("span","â");_(i,C("span",[a,document.createTextNode("x")])),i.firstChild.offsetHeight!=0&&(fs=a.offsetWidth<=1&&a.offsetHeight>2&&!(f&&d<8))}var h=fs?C("span","â"):C("span","Â ",null,"display: inline-block; width: 1px; margin-right: -1px");return h.setAttribute("cm-text",""),h}var Sa;function _i(i){if(Sa!=null)return Sa;var a=_(i,document.createTextNode("AØ®A")),h=W(a,0,1).getBoundingClientRect(),c=W(a,1,2).getBoundingClientRect();return j(i),!h||h.left==h.right?!1:Sa=c.right-h.right<3}var gr=`

b`.split(/\n/).length!=3?function(i){for(var a=0,h=[],c=i.length;a<=c;){var g=i.indexOf(`
`,a);g==-1&&(g=i.length);var y=i.slice(a,i.charAt(g-1)=="\r"?g-1:g),S=y.indexOf("\r");S!=-1?(h.push(y.slice(0,S)),a+=S+1):(h.push(y),a=g+1)}return h}:function(i){return i.split(/\r\n?|\n/)},$i=window.getSelection?function(i){try{return i.selectionStart!=i.selectionEnd}catch{return!1}}:function(i){var a;try{a=i.ownerDocument.selection.createRange()}catch{}return!a||a.parentElement()!=i?!1:a.compareEndPoints("StartToEnd",a)!=0},nu=function(){var i=C("div");return"oncopy"in i?!0:(i.setAttribute("oncopy","return;"),typeof i.oncopy=="function")}(),kr=null;function jc(i){if(kr!=null)return kr;var a=_(i,C("span","x")),h=a.getBoundingClientRect(),c=W(a,0,1).getBoundingClientRect();return kr=Math.abs(h.left-c.left)>1}var cs={},Ar={};function Tr(i,a){arguments.length>2&&(a.dependencies=Array.prototype.slice.call(arguments,2)),cs[i]=a}function Ao(i,a){Ar[i]=a}function hs(i){if(typeof i=="string"&&Ar.hasOwnProperty(i))i=Ar[i];else if(i&&typeof i.name=="string"&&Ar.hasOwnProperty(i.name)){var a=Ar[i.name];typeof a=="string"&&(a={name:a}),i=q(a,i),i.name=a.name}else{if(typeof i=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(i))return hs("application/xml");if(typeof i=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(i))return hs("application/json")}return typeof i=="string"?{name:i}:i||{name:"null"}}function ds(i,a){a=hs(a);var h=cs[a.name];if(!h)return ds(i,"text/plain");var c=h(i,a);if(Hi.hasOwnProperty(a.name)){var g=Hi[a.name];for(var y in g)g.hasOwnProperty(y)&&(c.hasOwnProperty(y)&&(c["_"+y]=c[y]),c[y]=g[y])}if(c.name=a.name,a.helperType&&(c.helperType=a.helperType),a.modeProps)for(var S in a.modeProps)c[S]=a.modeProps[S];return c}var Hi={};function ps(i,a){var h=Hi.hasOwnProperty(i)?Hi[i]:Hi[i]={};ue(a,h)}function Wr(i,a){if(a===!0)return a;if(i.copyState)return i.copyState(a);var h={};for(var c in a){var g=a[c];g instanceof Array&&(g=g.concat([])),h[c]=g}return h}function Ca(i,a){for(var h;i.innerMode&&(h=i.innerMode(a),!(!h||h.mode==i));)a=h.state,i=h.mode;return h||{mode:i,state:a}}function gs(i,a,h){return i.startState?i.startState(a,h):!0}var Lt=function(i,a,h){this.pos=this.start=0,this.string=i,this.tabSize=a||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=h};Lt.prototype.eol=function(){return this.pos>=this.string.length},Lt.prototype.sol=function(){return this.pos==this.lineStart},Lt.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Lt.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Lt.prototype.eat=function(i){var a=this.string.charAt(this.pos),h;if(typeof i=="string"?h=a==i:h=a&&(i.test?i.test(a):i(a)),h)return++this.pos,a},Lt.prototype.eatWhile=function(i){for(var a=this.pos;this.eat(i););return this.pos>a},Lt.prototype.eatSpace=function(){for(var i=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>i},Lt.prototype.skipToEnd=function(){this.pos=this.string.length},Lt.prototype.skipTo=function(i){var a=this.string.indexOf(i,this.pos);if(a>-1)return this.pos=a,!0},Lt.prototype.backUp=function(i){this.pos-=i},Lt.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=he(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?he(this.string,this.lineStart,this.tabSize):0)},Lt.prototype.indentation=function(){return he(this.string,null,this.tabSize)-(this.lineStart?he(this.string,this.lineStart,this.tabSize):0)},Lt.prototype.match=function(i,a,h){if(typeof i=="string"){var c=function(S){return h?S.toLowerCase():S},g=this.string.substr(this.pos,i.length);if(c(g)==c(i))return a!==!1&&(this.pos+=i.length),!0}else{var y=this.string.slice(this.pos).match(i);return y&&y.index>0?null:(y&&a!==!1&&(this.pos+=y[0].length),y)}},Lt.prototype.current=function(){return this.string.slice(this.start,this.pos)},Lt.prototype.hideFirstChars=function(i,a){this.lineStart+=i;try{return a()}finally{this.lineStart-=i}},Lt.prototype.lookAhead=function(i){var a=this.lineOracle;return a&&a.lookAhead(i)},Lt.prototype.baseToken=function(){var i=this.lineOracle;return i&&i.baseToken(this.pos)};function ze(i,a){if(a-=i.first,a<0||a>=i.size)throw new Error("There is no line "+(a+i.first)+" in the document.");for(var h=i;!h.lines;)for(var c=0;;++c){var g=h.children[c],y=g.chunkSize();if(a<y){h=g;break}a-=y}return h.lines[a]}function pi(i,a,h){var c=[],g=a.line;return i.iter(a.line,h.line+1,function(y){var S=y.text;g==h.line&&(S=S.slice(0,h.ch)),g==a.line&&(S=S.slice(a.ch)),c.push(S),++g}),c}function xa(i,a,h){var c=[];return i.iter(a,h,function(g){c.push(g.text)}),c}function or(i,a){var h=a-i.height;if(h)for(var c=i;c;c=c.parent)c.height+=h}function F(i){if(i.parent==null)return null;for(var a=i.parent,h=we(a.lines,i),c=a.parent;c;a=c,c=c.parent)for(var g=0;c.children[g]!=a;++g)h+=c.children[g].chunkSize();return h+a.first}function Q(i,a){var h=i.first;e:do{for(var c=0;c<i.children.length;++c){var g=i.children[c],y=g.height;if(a<y){i=g;continue e}a-=y,h+=g.chunkSize()}return h}while(!i.lines);for(var S=0;S<i.lines.length;++S){var E=i.lines[S],A=E.height;if(a<A)break;a-=A}return h+S}function ye(i,a){return a>=i.first&&a<i.first+i.size}function Ce(i,a){return String(i.lineNumberFormatter(a+i.firstLineNumber))}function de(i,a,h){if(h===void 0&&(h=null),!(this instanceof de))return new de(i,a,h);this.line=i,this.ch=a,this.sticky=h}function Oe(i,a){return i.line-a.line||i.ch-a.ch}function ht(i,a){return i.sticky==a.sticky&&Oe(i,a)==0}function Xt(i){return de(i.line,i.ch)}function In(i,a){return Oe(i,a)<0?a:i}function ms(i,a){return Oe(i,a)<0?i:a}function tm(i,a){return Math.max(i.first,Math.min(a,i.first+i.size-1))}function Qe(i,a){if(a.line<i.first)return de(i.first,0);var h=i.first+i.size-1;return a.line>h?de(h,ze(i,h).text.length):MS(a,ze(i,a.line).text.length)}function MS(i,a){var h=i.ch;return h==null||h>a?de(i.line,a):h<0?de(i.line,0):i}function nm(i,a){for(var h=[],c=0;c<a.length;c++)h[c]=Qe(i,a[c]);return h}var ru=function(i,a){this.state=i,this.lookAhead=a},jr=function(i,a,h,c){this.state=a,this.doc=i,this.line=h,this.maxLookAhead=c||0,this.baseTokens=null,this.baseTokenPos=1};jr.prototype.lookAhead=function(i){var a=this.doc.getLine(this.line+i);return a!=null&&i>this.maxLookAhead&&(this.maxLookAhead=i),a},jr.prototype.baseToken=function(i){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=i;)this.baseTokenPos+=2;var a=this.baseTokens[this.baseTokenPos+1];return{type:a&&a.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-i}},jr.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},jr.fromSaved=function(i,a,h){return a instanceof ru?new jr(i,Wr(i.mode,a.state),h,a.lookAhead):new jr(i,Wr(i.mode,a),h)},jr.prototype.save=function(i){var a=i!==!1?Wr(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new ru(a,this.maxLookAhead):a};function rm(i,a,h,c){var g=[i.state.modeGen],y={};um(i,a.text,i.doc.mode,h,function(O,K){return g.push(O,K)},y,c);for(var S=h.state,E=function(O){h.baseTokens=g;var K=i.state.overlays[O],Z=1,ie=0;h.state=!0,um(i,a.text,K.mode,h,function(ne,ge){for(var be=Z;ie<ne;){var xe=g[Z];xe>ne&&g.splice(Z,1,ne,g[Z+1],xe),Z+=2,ie=Math.min(ne,xe)}if(ge)if(K.opaque)g.splice(be,Z-be,ne,"overlay "+ge),Z=be+2;else for(;be<Z;be+=2){var Ae=g[be+1];g[be+1]=(Ae?Ae+" ":"")+"overlay "+ge}},y),h.state=S,h.baseTokens=null,h.baseTokenPos=1},A=0;A<i.state.overlays.length;++A)E(A);return{styles:g,classes:y.bgClass||y.textClass?y:null}}function im(i,a,h){if(!a.styles||a.styles[0]!=i.state.modeGen){var c=Ea(i,F(a)),g=a.text.length>i.options.maxHighlightLength&&Wr(i.doc.mode,c.state),y=rm(i,a,c);g&&(c.state=g),a.stateAfter=c.save(!g),a.styles=y.styles,y.classes?a.styleClasses=y.classes:a.styleClasses&&(a.styleClasses=null),h===i.doc.highlightFrontier&&(i.doc.modeFrontier=Math.max(i.doc.modeFrontier,++i.doc.highlightFrontier))}return a.styles}function Ea(i,a,h){var c=i.doc,g=i.display;if(!c.mode.startState)return new jr(c,!0,a);var y=FS(i,a,h),S=y>c.first&&ze(c,y-1).stateAfter,E=S?jr.fromSaved(c,S,y):new jr(c,gs(c.mode),y);return c.iter(y,a,function(A){Uc(i,A.text,E);var O=E.line;A.stateAfter=O==a-1||O%5==0||O>=g.viewFrom&&O<g.viewTo?E.save():null,E.nextLine()}),h&&(c.modeFrontier=E.line),E}function Uc(i,a,h,c){var g=i.doc.mode,y=new Lt(a,i.options.tabSize,h);for(y.start=y.pos=c||0,a==""&&om(g,h.state);!y.eol();)Vc(g,y,h.state),y.start=y.pos}function om(i,a){if(i.blankLine)return i.blankLine(a);if(i.innerMode){var h=Ca(i,a);if(h.mode.blankLine)return h.mode.blankLine(h.state)}}function Vc(i,a,h,c){for(var g=0;g<10;g++){c&&(c[0]=Ca(i,h).mode);var y=i.token(a,h);if(a.pos>a.start)return y}throw new Error("Mode "+i.name+" failed to advance stream.")}var sm=function(i,a,h){this.start=i.start,this.end=i.pos,this.string=i.current(),this.type=a||null,this.state=h};function am(i,a,h,c){var g=i.doc,y=g.mode,S;a=Qe(g,a);var E=ze(g,a.line),A=Ea(i,a.line,h),O=new Lt(E.text,i.options.tabSize,A),K;for(c&&(K=[]);(c||O.pos<a.ch)&&!O.eol();)O.start=O.pos,S=Vc(y,O,A.state),c&&K.push(new sm(O,S,Wr(g.mode,A.state)));return c?K:new sm(O,S,A.state)}function lm(i,a){if(i)for(;;){var h=i.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!h)break;i=i.slice(0,h.index)+i.slice(h.index+h[0].length);var c=h[1]?"bgClass":"textClass";a[c]==null?a[c]=h[2]:new RegExp("(?:^|\\s)"+h[2]+"(?:$|\\s)").test(a[c])||(a[c]+=" "+h[2])}return i}function um(i,a,h,c,g,y,S){var E=h.flattenSpans;E==null&&(E=i.options.flattenSpans);var A=0,O=null,K=new Lt(a,i.options.tabSize,c),Z,ie=i.options.addModeClass&&[null];for(a==""&&lm(om(h,c.state),y);!K.eol();){if(K.pos>i.options.maxHighlightLength?(E=!1,S&&Uc(i,a,c,K.pos),K.pos=a.length,Z=null):Z=lm(Vc(h,K,c.state,ie),y),ie){var ne=ie[0].name;ne&&(Z="m-"+(Z?ne+" "+Z:ne))}if(!E||O!=Z){for(;A<K.start;)A=Math.min(K.start,A+5e3),g(A,O);O=Z}K.start=K.pos}for(;A<K.pos;){var ge=Math.min(K.pos,A+5e3);g(ge,O),A=ge}}function FS(i,a,h){for(var c,g,y=i.doc,S=h?-1:a-(i.doc.mode.innerMode?1e3:100),E=a;E>S;--E){if(E<=y.first)return y.first;var A=ze(y,E-1),O=A.stateAfter;if(O&&(!h||E+(O instanceof ru?O.lookAhead:0)<=y.modeFrontier))return E;var K=he(A.text,null,i.options.tabSize);(g==null||c>K)&&(g=E-1,c=K)}return g}function NS(i,a){if(i.modeFrontier=Math.min(i.modeFrontier,a),!(i.highlightFrontier<a-10)){for(var h=i.first,c=a-1;c>h;c--){var g=ze(i,c).stateAfter;if(g&&(!(g instanceof ru)||c+g.lookAhead<a)){h=c+1;break}}i.highlightFrontier=Math.min(i.highlightFrontier,h)}}var fm=!1,gi=!1;function RS(){fm=!0}function LS(){gi=!0}function iu(i,a,h){this.marker=i,this.from=a,this.to=h}function ka(i,a){if(i)for(var h=0;h<i.length;++h){var c=i[h];if(c.marker==a)return c}}function BS(i,a){for(var h,c=0;c<i.length;++c)i[c]!=a&&(h||(h=[])).push(i[c]);return h}function IS(i,a,h){var c=h&&window.WeakSet&&(h.markedSpans||(h.markedSpans=new WeakSet));c&&i.markedSpans&&c.has(i.markedSpans)?i.markedSpans.push(a):(i.markedSpans=i.markedSpans?i.markedSpans.concat([a]):[a],c&&c.add(i.markedSpans)),a.marker.attachLine(i)}function PS(i,a,h){var c;if(i)for(var g=0;g<i.length;++g){var y=i[g],S=y.marker,E=y.from==null||(S.inclusiveLeft?y.from<=a:y.from<a);if(E||y.from==a&&S.type=="bookmark"&&(!h||!y.marker.insertLeft)){var A=y.to==null||(S.inclusiveRight?y.to>=a:y.to>a);(c||(c=[])).push(new iu(S,y.from,A?null:y.to))}}return c}function zS(i,a,h){var c;if(i)for(var g=0;g<i.length;++g){var y=i[g],S=y.marker,E=y.to==null||(S.inclusiveRight?y.to>=a:y.to>a);if(E||y.from==a&&S.type=="bookmark"&&(!h||y.marker.insertLeft)){var A=y.from==null||(S.inclusiveLeft?y.from<=a:y.from<a);(c||(c=[])).push(new iu(S,A?null:y.from-a,y.to==null?null:y.to-a))}}return c}function qc(i,a){if(a.full)return null;var h=ye(i,a.from.line)&&ze(i,a.from.line).markedSpans,c=ye(i,a.to.line)&&ze(i,a.to.line).markedSpans;if(!h&&!c)return null;var g=a.from.ch,y=a.to.ch,S=Oe(a.from,a.to)==0,E=PS(h,g,S),A=zS(c,y,S),O=a.text.length==1,K=L(a.text).length+(O?g:0);if(E)for(var Z=0;Z<E.length;++Z){var ie=E[Z];if(ie.to==null){var ne=ka(A,ie.marker);ne?O&&(ie.to=ne.to==null?null:ne.to+K):ie.to=g}}if(A)for(var ge=0;ge<A.length;++ge){var be=A[ge];if(be.to!=null&&(be.to+=K),be.from==null){var xe=ka(E,be.marker);xe||(be.from=K,O&&(E||(E=[])).push(be))}else be.from+=K,O&&(E||(E=[])).push(be)}E&&(E=cm(E)),A&&A!=E&&(A=cm(A));var Ae=[E];if(!O){var Ne=a.text.length-2,Te;if(Ne>0&&E)for(var Re=0;Re<E.length;++Re)E[Re].to==null&&(Te||(Te=[])).push(new iu(E[Re].marker,null,null));for(var Ve=0;Ve<Ne;++Ve)Ae.push(Te);Ae.push(A)}return Ae}function cm(i){for(var a=0;a<i.length;++a){var h=i[a];h.from!=null&&h.from==h.to&&h.marker.clearWhenEmpty!==!1&&i.splice(a--,1)}return i.length?i:null}function _S(i,a,h){var c=null;if(i.iter(a.line,h.line+1,function(ne){if(ne.markedSpans)for(var ge=0;ge<ne.markedSpans.length;++ge){var be=ne.markedSpans[ge].marker;be.readOnly&&(!c||we(c,be)==-1)&&(c||(c=[])).push(be)}}),!c)return null;for(var g=[{from:a,to:h}],y=0;y<c.length;++y)for(var S=c[y],E=S.find(0),A=0;A<g.length;++A){var O=g[A];if(!(Oe(O.to,E.from)<0||Oe(O.from,E.to)>0)){var K=[A,1],Z=Oe(O.from,E.from),ie=Oe(O.to,E.to);(Z<0||!S.inclusiveLeft&&!Z)&&K.push({from:O.from,to:E.from}),(ie>0||!S.inclusiveRight&&!ie)&&K.push({from:E.to,to:O.to}),g.splice.apply(g,K),A+=K.length-3}}return g}function hm(i){var a=i.markedSpans;if(a){for(var h=0;h<a.length;++h)a[h].marker.detachLine(i);i.markedSpans=null}}function dm(i,a){if(a){for(var h=0;h<a.length;++h)a[h].marker.attachLine(i);i.markedSpans=a}}function ou(i){return i.inclusiveLeft?-1:0}function su(i){return i.inclusiveRight?1:0}function Kc(i,a){var h=i.lines.length-a.lines.length;if(h!=0)return h;var c=i.find(),g=a.find(),y=Oe(c.from,g.from)||ou(i)-ou(a);if(y)return-y;var S=Oe(c.to,g.to)||su(i)-su(a);return S||a.id-i.id}function pm(i,a){var h=gi&&i.markedSpans,c;if(h)for(var g=void 0,y=0;y<h.length;++y)g=h[y],g.marker.collapsed&&(a?g.from:g.to)==null&&(!c||Kc(c,g.marker)<0)&&(c=g.marker);return c}function gm(i){return pm(i,!0)}function au(i){return pm(i,!1)}function $S(i,a){var h=gi&&i.markedSpans,c;if(h)for(var g=0;g<h.length;++g){var y=h[g];y.marker.collapsed&&(y.from==null||y.from<a)&&(y.to==null||y.to>a)&&(!c||Kc(c,y.marker)<0)&&(c=y.marker)}return c}function mm(i,a,h,c,g){var y=ze(i,a),S=gi&&y.markedSpans;if(S)for(var E=0;E<S.length;++E){var A=S[E];if(A.marker.collapsed){var O=A.marker.find(0),K=Oe(O.from,h)||ou(A.marker)-ou(g),Z=Oe(O.to,c)||su(A.marker)-su(g);if(!(K>=0&&Z<=0||K<=0&&Z>=0)&&(K<=0&&(A.marker.inclusiveRight&&g.inclusiveLeft?Oe(O.to,h)>=0:Oe(O.to,h)>0)||K>=0&&(A.marker.inclusiveRight&&g.inclusiveLeft?Oe(O.from,c)<=0:Oe(O.from,c)<0)))return!0}}}function Or(i){for(var a;a=gm(i);)i=a.find(-1,!0).line;return i}function HS(i){for(var a;a=au(i);)i=a.find(1,!0).line;return i}function WS(i){for(var a,h;a=au(i);)i=a.find(1,!0).line,(h||(h=[])).push(i);return h}function Gc(i,a){var h=ze(i,a),c=Or(h);return h==c?a:F(c)}function vm(i,a){if(a>i.lastLine())return a;var h=ze(i,a),c;if(!Wi(i,h))return a;for(;c=au(h);)h=c.find(1,!0).line;return F(h)+1}function Wi(i,a){var h=gi&&a.markedSpans;if(h){for(var c=void 0,g=0;g<h.length;++g)if(c=h[g],!!c.marker.collapsed){if(c.from==null)return!0;if(!c.marker.widgetNode&&c.from==0&&c.marker.inclusiveLeft&&Jc(i,a,c))return!0}}}function Jc(i,a,h){if(h.to==null){var c=h.marker.find(1,!0);return Jc(i,c.line,ka(c.line.markedSpans,h.marker))}if(h.marker.inclusiveRight&&h.to==a.text.length)return!0;for(var g=void 0,y=0;y<a.markedSpans.length;++y)if(g=a.markedSpans[y],g.marker.collapsed&&!g.marker.widgetNode&&g.from==h.to&&(g.to==null||g.to!=h.from)&&(g.marker.inclusiveLeft||h.marker.inclusiveRight)&&Jc(i,a,g))return!0}function mi(i){i=Or(i);for(var a=0,h=i.parent,c=0;c<h.lines.length;++c){var g=h.lines[c];if(g==i)break;a+=g.height}for(var y=h.parent;y;h=y,y=h.parent)for(var S=0;S<y.children.length;++S){var E=y.children[S];if(E==h)break;a+=E.height}return a}function lu(i){if(i.height==0)return 0;for(var a=i.text.length,h,c=i;h=gm(c);){var g=h.find(0,!0);c=g.from.line,a+=g.from.ch-g.to.ch}for(c=i;h=au(c);){var y=h.find(0,!0);a-=c.text.length-y.from.ch,c=y.to.line,a+=c.text.length-y.to.ch}return a}function Yc(i){var a=i.display,h=i.doc;a.maxLine=ze(h,h.first),a.maxLineLength=lu(a.maxLine),a.maxLineChanged=!0,h.iter(function(c){var g=lu(c);g>a.maxLineLength&&(a.maxLineLength=g,a.maxLine=c)})}var vs=function(i,a,h){this.text=i,dm(this,a),this.height=h?h(this):1};vs.prototype.lineNo=function(){return F(this)},Jn(vs);function jS(i,a,h,c){i.text=a,i.stateAfter&&(i.stateAfter=null),i.styles&&(i.styles=null),i.order!=null&&(i.order=null),hm(i),dm(i,h);var g=c?c(i):1;g!=i.height&&or(i,g)}function US(i){i.parent=null,hm(i)}var VS={},qS={};function ym(i,a){if(!i||/^\s*$/.test(i))return null;var h=a.addModeClass?qS:VS;return h[i]||(h[i]=i.replace(/\S+/g,"cm-$&"))}function bm(i,a){var h=N("span",null,null,p?"padding-right: .1px":null),c={pre:N("pre",[h],"CodeMirror-line"),content:h,col:0,pos:0,cm:i,trailingSpace:!1,splitSpaces:i.getOption("lineWrapping")};a.measure={};for(var g=0;g<=(a.rest?a.rest.length:0);g++){var y=g?a.rest[g-1]:a.line,S=void 0;c.pos=0,c.addToken=GS,_i(i.display.measure)&&(S=je(y,i.doc.direction))&&(c.addToken=YS(c.addToken,S)),c.map=[];var E=a!=i.display.externalMeasured&&F(y);XS(y,c,im(i,y,E)),y.styleClasses&&(y.styleClasses.bgClass&&(c.bgClass=pe(y.styleClasses.bgClass,c.bgClass||"")),y.styleClasses.textClass&&(c.textClass=pe(y.styleClasses.textClass,c.textClass||""))),c.map.length==0&&c.map.push(0,0,c.content.appendChild(tu(i.display.measure))),g==0?(a.measure.map=c.map,a.measure.cache={}):((a.measure.maps||(a.measure.maps=[])).push(c.map),(a.measure.caches||(a.measure.caches=[])).push({}))}if(p){var A=c.content.lastChild;(/\bcm-tab\b/.test(A.className)||A.querySelector&&A.querySelector(".cm-tab"))&&(c.content.className="cm-tab-wrap-hack")}return kt(i,"renderLine",i,a.line,c.pre),c.pre.className&&(c.textClass=pe(c.pre.className,c.textClass||"")),c}function KS(i){var a=C("span","â¢","cm-invalidchar");return a.title="\\u"+i.charCodeAt(0).toString(16),a.setAttribute("aria-label",a.title),a}function GS(i,a,h,c,g,y,S){if(a){var E=i.splitSpaces?JS(a,i.trailingSpace):a,A=i.cm.state.specialChars,O=!1,K;if(!A.test(a))i.col+=a.length,K=document.createTextNode(E),i.map.push(i.pos,i.pos+a.length,K),f&&d<9&&(O=!0),i.pos+=a.length;else{K=document.createDocumentFragment();for(var Z=0;;){A.lastIndex=Z;var ie=A.exec(a),ne=ie?ie.index-Z:a.length-Z;if(ne){var ge=document.createTextNode(E.slice(Z,Z+ne));f&&d<9?K.appendChild(C("span",[ge])):K.appendChild(ge),i.map.push(i.pos,i.pos+ne,ge),i.col+=ne,i.pos+=ne}if(!ie)break;Z+=ne+1;var be=void 0;if(ie[0]=="	"){var xe=i.cm.options.tabSize,Ae=xe-i.col%xe;be=K.appendChild(C("span",Et(Ae),"cm-tab")),be.setAttribute("role","presentation"),be.setAttribute("cm-text","	"),i.col+=Ae}else ie[0]=="\r"||ie[0]==`
`?(be=K.appendChild(C("span",ie[0]=="\r"?"â":"â¤","cm-invalidchar")),be.setAttribute("cm-text",ie[0]),i.col+=1):(be=i.cm.options.specialCharPlaceholder(ie[0]),be.setAttribute("cm-text",ie[0]),f&&d<9?K.appendChild(C("span",[be])):K.appendChild(be),i.col+=1);i.map.push(i.pos,i.pos+1,be),i.pos++}}if(i.trailingSpace=E.charCodeAt(a.length-1)==32,h||c||g||O||y||S){var Ne=h||"";c&&(Ne+=c),g&&(Ne+=g);var Te=C("span",[K],Ne,y);if(S)for(var Re in S)S.hasOwnProperty(Re)&&Re!="style"&&Re!="class"&&Te.setAttribute(Re,S[Re]);return i.content.appendChild(Te)}i.content.appendChild(K)}}function JS(i,a){if(i.length>1&&!/  /.test(i))return i;for(var h=a,c="",g=0;g<i.length;g++){var y=i.charAt(g);y==" "&&h&&(g==i.length-1||i.charCodeAt(g+1)==32)&&(y="Â "),c+=y,h=y==" "}return c}function YS(i,a){return function(h,c,g,y,S,E,A){g=g?g+" cm-force-border":"cm-force-border";for(var O=h.pos,K=O+c.length;;){for(var Z=void 0,ie=0;ie<a.length&&(Z=a[ie],!(Z.to>O&&Z.from<=O));ie++);if(Z.to>=K)return i(h,c,g,y,S,E,A);i(h,c.slice(0,Z.to-O),g,y,null,E,A),y=null,c=c.slice(Z.to-O),O=Z.to}}}function wm(i,a,h,c){var g=!c&&h.widgetNode;g&&i.map.push(i.pos,i.pos+a,g),!c&&i.cm.display.input.needsContentAttribute&&(g||(g=i.content.appendChild(document.createElement("span"))),g.setAttribute("cm-marker",h.id)),g&&(i.cm.display.input.setUneditable(g),i.content.appendChild(g)),i.pos+=a,i.trailingSpace=!1}function XS(i,a,h){var c=i.markedSpans,g=i.text,y=0;if(!c){for(var S=1;S<h.length;S+=2)a.addToken(a,g.slice(y,y=h[S]),ym(h[S+1],a.cm.options));return}for(var E=g.length,A=0,O=1,K="",Z,ie,ne=0,ge,be,xe,Ae,Ne;;){if(ne==A){ge=be=xe=ie="",Ne=null,Ae=null,ne=1/0;for(var Te=[],Re=void 0,Ve=0;Ve<c.length;++Ve){var We=c[Ve],et=We.marker;if(et.type=="bookmark"&&We.from==A&&et.widgetNode)Te.push(et);else if(We.from<=A&&(We.to==null||We.to>A||et.collapsed&&We.to==A&&We.from==A)){if(We.to!=null&&We.to!=A&&ne>We.to&&(ne=We.to,be=""),et.className&&(ge+=" "+et.className),et.css&&(ie=(ie?ie+";":"")+et.css),et.startStyle&&We.from==A&&(xe+=" "+et.startStyle),et.endStyle&&We.to==ne&&(Re||(Re=[])).push(et.endStyle,We.to),et.title&&((Ne||(Ne={})).title=et.title),et.attributes)for(var St in et.attributes)(Ne||(Ne={}))[St]=et.attributes[St];et.collapsed&&(!Ae||Kc(Ae.marker,et)<0)&&(Ae=We)}else We.from>A&&ne>We.from&&(ne=We.from)}if(Re)for(var tn=0;tn<Re.length;tn+=2)Re[tn+1]==ne&&(be+=" "+Re[tn]);if(!Ae||Ae.from==A)for(var Ft=0;Ft<Te.length;++Ft)wm(a,0,Te[Ft]);if(Ae&&(Ae.from||0)==A){if(wm(a,(Ae.to==null?E+1:Ae.to)-A,Ae.marker,Ae.from==null),Ae.to==null)return;Ae.to==A&&(Ae=!1)}}if(A>=E)break;for(var Xn=Math.min(E,ne);;){if(K){var _n=A+K.length;if(!Ae){var Wt=_n>Xn?K.slice(0,Xn-A):K;a.addToken(a,Wt,Z?Z+ge:ge,xe,A+Wt.length==ne?be:"",ie,Ne)}if(_n>=Xn){K=K.slice(Xn-A),A=Xn;break}A=_n,xe=""}K=g.slice(y,y=h[O++]),Z=ym(h[O++],a.cm.options)}}}function Dm(i,a,h){this.line=a,this.rest=WS(a),this.size=this.rest?F(L(this.rest))-h+1:1,this.node=this.text=null,this.hidden=Wi(i,a)}function uu(i,a,h){for(var c=[],g,y=a;y<h;y=g){var S=new Dm(i.doc,ze(i.doc,y),y);g=y+S.size,c.push(S)}return c}var ys=null;function QS(i){ys?ys.ops.push(i):i.ownsGroup=ys={ops:[i],delayedCallbacks:[]}}function ZS(i){var a=i.delayedCallbacks,h=0;do{for(;h<a.length;h++)a[h].call(null);for(var c=0;c<i.ops.length;c++){var g=i.ops[c];if(g.cursorActivityHandlers)for(;g.cursorActivityCalled<g.cursorActivityHandlers.length;)g.cursorActivityHandlers[g.cursorActivityCalled++].call(null,g.cm)}}while(h<a.length)}function eC(i,a){var h=i.ownsGroup;if(h)try{ZS(h)}finally{ys=null,a(h)}}var Aa=null;function Qt(i,a){var h=pr(i,a);if(h.length){var c=Array.prototype.slice.call(arguments,2),g;ys?g=ys.delayedCallbacks:Aa?g=Aa:(g=Aa=[],setTimeout(tC,0));for(var y=function(E){g.push(function(){return h[E].apply(null,c)})},S=0;S<h.length;++S)y(S)}}function tC(){var i=Aa;Aa=null;for(var a=0;a<i.length;++a)i[a]()}function Sm(i,a,h,c){for(var g=0;g<a.changes.length;g++){var y=a.changes[g];y=="text"?rC(i,a):y=="gutter"?xm(i,a,h,c):y=="class"?Xc(i,a):y=="widget"&&iC(i,a,c)}a.changes=null}function Ta(i){return i.node==i.text&&(i.node=C("div",null,null,"position: relative"),i.text.parentNode&&i.text.parentNode.replaceChild(i.node,i.text),i.node.appendChild(i.text),f&&d<8&&(i.node.style.zIndex=2)),i.node}function nC(i,a){var h=a.bgClass?a.bgClass+" "+(a.line.bgClass||""):a.line.bgClass;if(h&&(h+=" CodeMirror-linebackground"),a.background)h?a.background.className=h:(a.background.parentNode.removeChild(a.background),a.background=null);else if(h){var c=Ta(a);a.background=c.insertBefore(C("div",null,h),c.firstChild),i.display.input.setUneditable(a.background)}}function Cm(i,a){var h=i.display.externalMeasured;return h&&h.line==a.line?(i.display.externalMeasured=null,a.measure=h.measure,h.built):bm(i,a)}function rC(i,a){var h=a.text.className,c=Cm(i,a);a.text==a.node&&(a.node=c.pre),a.text.parentNode.replaceChild(c.pre,a.text),a.text=c.pre,c.bgClass!=a.bgClass||c.textClass!=a.textClass?(a.bgClass=c.bgClass,a.textClass=c.textClass,Xc(i,a)):h&&(a.text.className=h)}function Xc(i,a){nC(i,a),a.line.wrapClass?Ta(a).className=a.line.wrapClass:a.node!=a.text&&(a.node.className="");var h=a.textClass?a.textClass+" "+(a.line.textClass||""):a.line.textClass;a.text.className=h||""}function xm(i,a,h,c){if(a.gutter&&(a.node.removeChild(a.gutter),a.gutter=null),a.gutterBackground&&(a.node.removeChild(a.gutterBackground),a.gutterBackground=null),a.line.gutterClass){var g=Ta(a);a.gutterBackground=C("div",null,"CodeMirror-gutter-background "+a.line.gutterClass,"left: "+(i.options.fixedGutter?c.fixedPos:-c.gutterTotalWidth)+"px; width: "+c.gutterTotalWidth+"px"),i.display.input.setUneditable(a.gutterBackground),g.insertBefore(a.gutterBackground,a.text)}var y=a.line.gutterMarkers;if(i.options.lineNumbers||y){var S=Ta(a),E=a.gutter=C("div",null,"CodeMirror-gutter-wrapper","left: "+(i.options.fixedGutter?c.fixedPos:-c.gutterTotalWidth)+"px");if(E.setAttribute("aria-hidden","true"),i.display.input.setUneditable(E),S.insertBefore(E,a.text),a.line.gutterClass&&(E.className+=" "+a.line.gutterClass),i.options.lineNumbers&&(!y||!y["CodeMirror-linenumbers"])&&(a.lineNumber=E.appendChild(C("div",Ce(i.options,h),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+c.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+i.display.lineNumInnerWidth+"px"))),y)for(var A=0;A<i.display.gutterSpecs.length;++A){var O=i.display.gutterSpecs[A].className,K=y.hasOwnProperty(O)&&y[O];K&&E.appendChild(C("div",[K],"CodeMirror-gutter-elt","left: "+c.gutterLeft[O]+"px; width: "+c.gutterWidth[O]+"px"))}}}function iC(i,a,h){a.alignable&&(a.alignable=null);for(var c=U("CodeMirror-linewidget"),g=a.node.firstChild,y=void 0;g;g=y)y=g.nextSibling,c.test(g.className)&&a.node.removeChild(g);Em(i,a,h)}function oC(i,a,h,c){var g=Cm(i,a);return a.text=a.node=g.pre,g.bgClass&&(a.bgClass=g.bgClass),g.textClass&&(a.textClass=g.textClass),Xc(i,a),xm(i,a,h,c),Em(i,a,c),a.node}function Em(i,a,h){if(km(i,a.line,a,h,!0),a.rest)for(var c=0;c<a.rest.length;c++)km(i,a.rest[c],a,h,!1)}function km(i,a,h,c,g){if(a.widgets)for(var y=Ta(h),S=0,E=a.widgets;S<E.length;++S){var A=E[S],O=C("div",[A.node],"CodeMirror-linewidget"+(A.className?" "+A.className:""));A.handleMouseEvents||O.setAttribute("cm-ignore-events","true"),sC(A,O,h,c),i.display.input.setUneditable(O),g&&A.above?y.insertBefore(O,h.gutter||h.text):y.appendChild(O),Qt(A,"redraw")}}function sC(i,a,h,c){if(i.noHScroll){(h.alignable||(h.alignable=[])).push(a);var g=c.wrapperWidth;a.style.left=c.fixedPos+"px",i.coverGutter||(g-=c.gutterTotalWidth,a.style.paddingLeft=c.gutterTotalWidth+"px"),a.style.width=g+"px"}i.coverGutter&&(a.style.zIndex=5,a.style.position="relative",i.noHScroll||(a.style.marginLeft=-c.gutterTotalWidth+"px"))}function Oa(i){if(i.height!=null)return i.height;var a=i.doc.cm;if(!a)return 0;if(!G(document.body,i.node)){var h="position: relative;";i.coverGutter&&(h+="margin-left: -"+a.display.gutters.offsetWidth+"px;"),i.noHScroll&&(h+="width: "+a.display.wrapper.clientWidth+"px;"),_(a.display.measure,C("div",[i.node],null,h))}return i.height=i.node.parentNode.offsetHeight}function vi(i,a){for(var h=Da(a);h!=i.wrapper;h=h.parentNode)if(!h||h.nodeType==1&&h.getAttribute("cm-ignore-events")=="true"||h.parentNode==i.sizer&&h!=i.mover)return!0}function fu(i){return i.lineSpace.offsetTop}function Qc(i){return i.mover.offsetHeight-i.lineSpace.offsetHeight}function Am(i){if(i.cachedPaddingH)return i.cachedPaddingH;var a=_(i.measure,C("pre","x","CodeMirror-line-like")),h=window.getComputedStyle?window.getComputedStyle(a):a.currentStyle,c={left:parseInt(h.paddingLeft),right:parseInt(h.paddingRight)};return!isNaN(c.left)&&!isNaN(c.right)&&(i.cachedPaddingH=c),c}function Ur(i){return Pe-i.display.nativeBarWidth}function To(i){return i.display.scroller.clientWidth-Ur(i)-i.display.barWidth}function Zc(i){return i.display.scroller.clientHeight-Ur(i)-i.display.barHeight}function aC(i,a,h){var c=i.options.lineWrapping,g=c&&To(i);if(!a.measure.heights||c&&a.measure.width!=g){var y=a.measure.heights=[];if(c){a.measure.width=g;for(var S=a.text.firstChild.getClientRects(),E=0;E<S.length-1;E++){var A=S[E],O=S[E+1];Math.abs(A.bottom-O.bottom)>2&&y.push((A.bottom+O.top)/2-h.top)}}y.push(h.bottom-h.top)}}function Tm(i,a,h){if(i.line==a)return{map:i.measure.map,cache:i.measure.cache};if(i.rest){for(var c=0;c<i.rest.length;c++)if(i.rest[c]==a)return{map:i.measure.maps[c],cache:i.measure.caches[c]};for(var g=0;g<i.rest.length;g++)if(F(i.rest[g])>h)return{map:i.measure.maps[g],cache:i.measure.caches[g],before:!0}}}function lC(i,a){a=Or(a);var h=F(a),c=i.display.externalMeasured=new Dm(i.doc,a,h);c.lineN=h;var g=c.built=bm(i,c);return c.text=g.pre,_(i.display.lineMeasure,g.pre),c}function Om(i,a,h,c){return Vr(i,bs(i,a),h,c)}function eh(i,a){if(a>=i.display.viewFrom&&a<i.display.viewTo)return i.display.view[Fo(i,a)];var h=i.display.externalMeasured;if(h&&a>=h.lineN&&a<h.lineN+h.size)return h}function bs(i,a){var h=F(a),c=eh(i,h);c&&!c.text?c=null:c&&c.changes&&(Sm(i,c,h,oh(i)),i.curOp.forceUpdate=!0),c||(c=lC(i,a));var g=Tm(c,a,h);return{line:a,view:c,rect:null,map:g.map,cache:g.cache,before:g.before,hasHeights:!1}}function Vr(i,a,h,c,g){a.before&&(h=-1);var y=h+(c||""),S;return a.cache.hasOwnProperty(y)?S=a.cache[y]:(a.rect||(a.rect=a.view.text.getBoundingClientRect()),a.hasHeights||(aC(i,a.view,a.rect),a.hasHeights=!0),S=fC(i,a,h,c),S.bogus||(a.cache[y]=S)),{left:S.left,right:S.right,top:g?S.rtop:S.top,bottom:g?S.rbottom:S.bottom}}var Mm={left:0,right:0,top:0,bottom:0};function Fm(i,a,h){for(var c,g,y,S,E,A,O=0;O<i.length;O+=3)if(E=i[O],A=i[O+1],a<E?(g=0,y=1,S="left"):a<A?(g=a-E,y=g+1):(O==i.length-3||a==A&&i[O+3]>a)&&(y=A-E,g=y-1,a>=A&&(S="right")),g!=null){if(c=i[O+2],E==A&&h==(c.insertLeft?"left":"right")&&(S=h),h=="left"&&g==0)for(;O&&i[O-2]==i[O-3]&&i[O-1].insertLeft;)c=i[(O-=3)+2],S="left";if(h=="right"&&g==A-E)for(;O<i.length-3&&i[O+3]==i[O+4]&&!i[O+5].insertLeft;)c=i[(O+=3)+2],S="right";break}return{node:c,start:g,end:y,collapse:S,coverStart:E,coverEnd:A}}function uC(i,a){var h=Mm;if(a=="left")for(var c=0;c<i.length&&(h=i[c]).left==h.right;c++);else for(var g=i.length-1;g>=0&&(h=i[g]).left==h.right;g--);return h}function fC(i,a,h,c){var g=Fm(a.map,h,c),y=g.node,S=g.start,E=g.end,A=g.collapse,O;if(y.nodeType==3){for(var K=0;K<4;K++){for(;S&&_e(a.line.text.charAt(g.coverStart+S));)--S;for(;g.coverStart+E<g.coverEnd&&_e(a.line.text.charAt(g.coverStart+E));)++E;if(f&&d<9&&S==0&&E==g.coverEnd-g.coverStart?O=y.parentNode.getBoundingClientRect():O=uC(W(y,S,E).getClientRects(),c),O.left||O.right||S==0)break;E=S,S=S-1,A="right"}f&&d<11&&(O=cC(i.display.measure,O))}else{S>0&&(A=c="right");var Z;i.options.lineWrapping&&(Z=y.getClientRects()).length>1?O=Z[c=="right"?Z.length-1:0]:O=y.getBoundingClientRect()}if(f&&d<9&&!S&&(!O||!O.left&&!O.right)){var ie=y.parentNode.getClientRects()[0];ie?O={left:ie.left,right:ie.left+Ds(i.display),top:ie.top,bottom:ie.bottom}:O=Mm}for(var ne=O.top-a.rect.top,ge=O.bottom-a.rect.top,be=(ne+ge)/2,xe=a.view.measure.heights,Ae=0;Ae<xe.length-1&&!(be<xe[Ae]);Ae++);var Ne=Ae?xe[Ae-1]:0,Te=xe[Ae],Re={left:(A=="right"?O.right:O.left)-a.rect.left,right:(A=="left"?O.left:O.right)-a.rect.left,top:Ne,bottom:Te};return!O.left&&!O.right&&(Re.bogus=!0),i.options.singleCursorHeightPerLine||(Re.rtop=ne,Re.rbottom=ge),Re}function cC(i,a){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!jc(i))return a;var h=screen.logicalXDPI/screen.deviceXDPI,c=screen.logicalYDPI/screen.deviceYDPI;return{left:a.left*h,right:a.right*h,top:a.top*c,bottom:a.bottom*c}}function Nm(i){if(i.measure&&(i.measure.cache={},i.measure.heights=null,i.rest))for(var a=0;a<i.rest.length;a++)i.measure.caches[a]={}}function Rm(i){i.display.externalMeasure=null,j(i.display.lineMeasure);for(var a=0;a<i.display.view.length;a++)Nm(i.display.view[a])}function Ma(i){Rm(i),i.display.cachedCharWidth=i.display.cachedTextHeight=i.display.cachedPaddingH=null,i.options.lineWrapping||(i.display.maxLineChanged=!0),i.display.lineNumChars=null}function Lm(i){return v&&z?-(i.body.getBoundingClientRect().left-parseInt(getComputedStyle(i.body).marginLeft)):i.defaultView.pageXOffset||(i.documentElement||i.body).scrollLeft}function Bm(i){return v&&z?-(i.body.getBoundingClientRect().top-parseInt(getComputedStyle(i.body).marginTop)):i.defaultView.pageYOffset||(i.documentElement||i.body).scrollTop}function th(i){var a=Or(i),h=a.widgets,c=0;if(h)for(var g=0;g<h.length;++g)h[g].above&&(c+=Oa(h[g]));return c}function cu(i,a,h,c,g){if(!g){var y=th(a);h.top+=y,h.bottom+=y}if(c=="line")return h;c||(c="local");var S=mi(a);if(c=="local"?S+=fu(i.display):S-=i.display.viewOffset,c=="page"||c=="window"){var E=i.display.lineSpace.getBoundingClientRect();S+=E.top+(c=="window"?0:Bm(le(i)));var A=E.left+(c=="window"?0:Lm(le(i)));h.left+=A,h.right+=A}return h.top+=S,h.bottom+=S,h}function Im(i,a,h){if(h=="div")return a;var c=a.left,g=a.top;if(h=="page")c-=Lm(le(i)),g-=Bm(le(i));else if(h=="local"||!h){var y=i.display.sizer.getBoundingClientRect();c+=y.left,g+=y.top}var S=i.display.lineSpace.getBoundingClientRect();return{left:c-S.left,top:g-S.top}}function hu(i,a,h,c,g){return c||(c=ze(i.doc,a.line)),cu(i,c,Om(i,c,a.ch,g),h)}function Mr(i,a,h,c,g,y){c=c||ze(i.doc,a.line),g||(g=bs(i,c));function S(ge,be){var xe=Vr(i,g,ge,be?"right":"left",y);return be?xe.left=xe.right:xe.right=xe.left,cu(i,c,xe,h)}var E=je(c,i.doc.direction),A=a.ch,O=a.sticky;if(A>=c.text.length?(A=c.text.length,O="before"):A<=0&&(A=0,O="after"),!E)return S(O=="before"?A-1:A,O=="before");function K(ge,be,xe){var Ae=E[be],Ne=Ae.level==1;return S(xe?ge-1:ge,Ne!=xe)}var Z=Mt(E,A,O),ie=yt,ne=K(A,Z,O=="before");return ie!=null&&(ne.other=K(A,ie,O!="before")),ne}function Pm(i,a){var h=0;a=Qe(i.doc,a),i.options.lineWrapping||(h=Ds(i.display)*a.ch);var c=ze(i.doc,a.line),g=mi(c)+fu(i.display);return{left:h,right:h,top:g,bottom:g+c.height}}function nh(i,a,h,c,g){var y=de(i,a,h);return y.xRel=g,c&&(y.outside=c),y}function rh(i,a,h){var c=i.doc;if(h+=i.display.viewOffset,h<0)return nh(c.first,0,null,-1,-1);var g=Q(c,h),y=c.first+c.size-1;if(g>y)return nh(c.first+c.size-1,ze(c,y).text.length,null,1,1);a<0&&(a=0);for(var S=ze(c,g);;){var E=hC(i,S,g,a,h),A=$S(S,E.ch+(E.xRel>0||E.outside>0?1:0));if(!A)return E;var O=A.find(1);if(O.line==g)return O;S=ze(c,g=O.line)}}function zm(i,a,h,c){c-=th(a);var g=a.text.length,y=lt(function(S){return Vr(i,h,S-1).bottom<=c},g,0);return g=lt(function(S){return Vr(i,h,S).top>c},y,g),{begin:y,end:g}}function _m(i,a,h,c){h||(h=bs(i,a));var g=cu(i,a,Vr(i,h,c),"line").top;return zm(i,a,h,g)}function ih(i,a,h,c){return i.bottom<=h?!1:i.top>h?!0:(c?i.left:i.right)>a}function hC(i,a,h,c,g){g-=mi(a);var y=bs(i,a),S=th(a),E=0,A=a.text.length,O=!0,K=je(a,i.doc.direction);if(K){var Z=(i.options.lineWrapping?pC:dC)(i,a,h,y,K,c,g);O=Z.level!=1,E=O?Z.from:Z.to-1,A=O?Z.to:Z.from-1}var ie=null,ne=null,ge=lt(function(Ve){var We=Vr(i,y,Ve);return We.top+=S,We.bottom+=S,ih(We,c,g,!1)?(We.top<=g&&We.left<=c&&(ie=Ve,ne=We),!0):!1},E,A),be,xe,Ae=!1;if(ne){var Ne=c-ne.left<ne.right-c,Te=Ne==O;ge=ie+(Te?0:1),xe=Te?"after":"before",be=Ne?ne.left:ne.right}else{!O&&(ge==A||ge==E)&&ge++,xe=ge==0?"after":ge==a.text.length?"before":Vr(i,y,ge-(O?1:0)).bottom+S<=g==O?"after":"before";var Re=Mr(i,de(h,ge,xe),"line",a,y);be=Re.left,Ae=g<Re.top?-1:g>=Re.bottom?1:0}return ge=it(a.text,ge,1),nh(h,ge,xe,Ae,c-be)}function dC(i,a,h,c,g,y,S){var E=lt(function(Z){var ie=g[Z],ne=ie.level!=1;return ih(Mr(i,de(h,ne?ie.to:ie.from,ne?"before":"after"),"line",a,c),y,S,!0)},0,g.length-1),A=g[E];if(E>0){var O=A.level!=1,K=Mr(i,de(h,O?A.from:A.to,O?"after":"before"),"line",a,c);ih(K,y,S,!0)&&K.top>S&&(A=g[E-1])}return A}function pC(i,a,h,c,g,y,S){var E=zm(i,a,c,S),A=E.begin,O=E.end;/\s/.test(a.text.charAt(O-1))&&O--;for(var K=null,Z=null,ie=0;ie<g.length;ie++){var ne=g[ie];if(!(ne.from>=O||ne.to<=A)){var ge=ne.level!=1,be=Vr(i,c,ge?Math.min(O,ne.to)-1:Math.max(A,ne.from)).right,xe=be<y?y-be+1e9:be-y;(!K||Z>xe)&&(K=ne,Z=xe)}}return K||(K=g[g.length-1]),K.from<A&&(K={from:A,to:K.to,level:K.level}),K.to>O&&(K={from:K.from,to:O,level:K.level}),K}var Oo;function ws(i){if(i.cachedTextHeight!=null)return i.cachedTextHeight;if(Oo==null){Oo=C("pre",null,"CodeMirror-line-like");for(var a=0;a<49;++a)Oo.appendChild(document.createTextNode("x")),Oo.appendChild(C("br"));Oo.appendChild(document.createTextNode("x"))}_(i.measure,Oo);var h=Oo.offsetHeight/50;return h>3&&(i.cachedTextHeight=h),j(i.measure),h||1}function Ds(i){if(i.cachedCharWidth!=null)return i.cachedCharWidth;var a=C("span","xxxxxxxxxx"),h=C("pre",[a],"CodeMirror-line-like");_(i.measure,h);var c=a.getBoundingClientRect(),g=(c.right-c.left)/10;return g>2&&(i.cachedCharWidth=g),g||10}function oh(i){for(var a=i.display,h={},c={},g=a.gutters.clientLeft,y=a.gutters.firstChild,S=0;y;y=y.nextSibling,++S){var E=i.display.gutterSpecs[S].className;h[E]=y.offsetLeft+y.clientLeft+g,c[E]=y.clientWidth}return{fixedPos:sh(a),gutterTotalWidth:a.gutters.offsetWidth,gutterLeft:h,gutterWidth:c,wrapperWidth:a.wrapper.clientWidth}}function sh(i){return i.scroller.getBoundingClientRect().left-i.sizer.getBoundingClientRect().left}function $m(i){var a=ws(i.display),h=i.options.lineWrapping,c=h&&Math.max(5,i.display.scroller.clientWidth/Ds(i.display)-3);return function(g){if(Wi(i.doc,g))return 0;var y=0;if(g.widgets)for(var S=0;S<g.widgets.length;S++)g.widgets[S].height&&(y+=g.widgets[S].height);return h?y+(Math.ceil(g.text.length/c)||1)*a:y+a}}function ah(i){var a=i.doc,h=$m(i);a.iter(function(c){var g=h(c);g!=c.height&&or(c,g)})}function Mo(i,a,h,c){var g=i.display;if(!h&&Da(a).getAttribute("cm-not-content")=="true")return null;var y,S,E=g.lineSpace.getBoundingClientRect();try{y=a.clientX-E.left,S=a.clientY-E.top}catch{return null}var A=rh(i,y,S),O;if(c&&A.xRel>0&&(O=ze(i.doc,A.line).text).length==A.ch){var K=he(O,O.length,i.options.tabSize)-O.length;A=de(A.line,Math.max(0,Math.round((y-Am(i.display).left)/Ds(i.display))-K))}return A}function Fo(i,a){if(a>=i.display.viewTo||(a-=i.display.viewFrom,a<0))return null;for(var h=i.display.view,c=0;c<h.length;c++)if(a-=h[c].size,a<0)return c}function Pn(i,a,h,c){a==null&&(a=i.doc.first),h==null&&(h=i.doc.first+i.doc.size),c||(c=0);var g=i.display;if(c&&h<g.viewTo&&(g.updateLineNumbers==null||g.updateLineNumbers>a)&&(g.updateLineNumbers=a),i.curOp.viewChanged=!0,a>=g.viewTo)gi&&Gc(i.doc,a)<g.viewTo&&Ui(i);else if(h<=g.viewFrom)gi&&vm(i.doc,h+c)>g.viewFrom?Ui(i):(g.viewFrom+=c,g.viewTo+=c);else if(a<=g.viewFrom&&h>=g.viewTo)Ui(i);else if(a<=g.viewFrom){var y=du(i,h,h+c,1);y?(g.view=g.view.slice(y.index),g.viewFrom=y.lineN,g.viewTo+=c):Ui(i)}else if(h>=g.viewTo){var S=du(i,a,a,-1);S?(g.view=g.view.slice(0,S.index),g.viewTo=S.lineN):Ui(i)}else{var E=du(i,a,a,-1),A=du(i,h,h+c,1);E&&A?(g.view=g.view.slice(0,E.index).concat(uu(i,E.lineN,A.lineN)).concat(g.view.slice(A.index)),g.viewTo+=c):Ui(i)}var O=g.externalMeasured;O&&(h<O.lineN?O.lineN+=c:a<O.lineN+O.size&&(g.externalMeasured=null))}function ji(i,a,h){i.curOp.viewChanged=!0;var c=i.display,g=i.display.externalMeasured;if(g&&a>=g.lineN&&a<g.lineN+g.size&&(c.externalMeasured=null),!(a<c.viewFrom||a>=c.viewTo)){var y=c.view[Fo(i,a)];if(y.node!=null){var S=y.changes||(y.changes=[]);we(S,h)==-1&&S.push(h)}}}function Ui(i){i.display.viewFrom=i.display.viewTo=i.doc.first,i.display.view=[],i.display.viewOffset=0}function du(i,a,h,c){var g=Fo(i,a),y,S=i.display.view;if(!gi||h==i.doc.first+i.doc.size)return{index:g,lineN:h};for(var E=i.display.viewFrom,A=0;A<g;A++)E+=S[A].size;if(E!=a){if(c>0){if(g==S.length-1)return null;y=E+S[g].size-a,g++}else y=E-a;a+=y,h+=y}for(;Gc(i.doc,h)!=h;){if(g==(c<0?0:S.length-1))return null;h+=c*S[g-(c<0?1:0)].size,g+=c}return{index:g,lineN:h}}function gC(i,a,h){var c=i.display,g=c.view;g.length==0||a>=c.viewTo||h<=c.viewFrom?(c.view=uu(i,a,h),c.viewFrom=a):(c.viewFrom>a?c.view=uu(i,a,c.viewFrom).concat(c.view):c.viewFrom<a&&(c.view=c.view.slice(Fo(i,a))),c.viewFrom=a,c.viewTo<h?c.view=c.view.concat(uu(i,c.viewTo,h)):c.viewTo>h&&(c.view=c.view.slice(0,Fo(i,h)))),c.viewTo=h}function Hm(i){for(var a=i.display.view,h=0,c=0;c<a.length;c++){var g=a[c];!g.hidden&&(!g.node||g.changes)&&++h}return h}function Fa(i){i.display.input.showSelection(i.display.input.prepareSelection())}function Wm(i,a){a===void 0&&(a=!0);var h=i.doc,c={},g=c.cursors=document.createDocumentFragment(),y=c.selection=document.createDocumentFragment(),S=i.options.$customCursor;S&&(a=!0);for(var E=0;E<h.sel.ranges.length;E++)if(!(!a&&E==h.sel.primIndex)){var A=h.sel.ranges[E];if(!(A.from().line>=i.display.viewTo||A.to().line<i.display.viewFrom)){var O=A.empty();if(S){var K=S(i,A);K&&lh(i,K,g)}else(O||i.options.showCursorWhenSelecting)&&lh(i,A.head,g);O||mC(i,A,y)}}return c}function lh(i,a,h){var c=Mr(i,a,"div",null,null,!i.options.singleCursorHeightPerLine),g=h.appendChild(C("div","Â ","CodeMirror-cursor"));if(g.style.left=c.left+"px",g.style.top=c.top+"px",g.style.height=Math.max(0,c.bottom-c.top)*i.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(i.getWrapperElement().className)){var y=hu(i,a,"div",null,null),S=y.right-y.left;g.style.width=(S>0?S:i.defaultCharWidth())+"px"}if(c.other){var E=h.appendChild(C("div","Â ","CodeMirror-cursor CodeMirror-secondarycursor"));E.style.display="",E.style.left=c.other.left+"px",E.style.top=c.other.top+"px",E.style.height=(c.other.bottom-c.other.top)*.85+"px"}}function pu(i,a){return i.top-a.top||i.left-a.left}function mC(i,a,h){var c=i.display,g=i.doc,y=document.createDocumentFragment(),S=Am(i.display),E=S.left,A=Math.max(c.sizerWidth,To(i)-c.sizer.offsetLeft)-S.right,O=g.direction=="ltr";function K(Te,Re,Ve,We){Re<0&&(Re=0),Re=Math.round(Re),We=Math.round(We),y.appendChild(C("div",null,"CodeMirror-selected","position: absolute; left: "+Te+`px;
                             top: `+Re+"px; width: "+(Ve??A-Te)+`px;
                             height: `+(We-Re)+"px"))}function Z(Te,Re,Ve){var We=ze(g,Te),et=We.text.length,St,tn;function Ft(Wt,$n){return hu(i,de(Te,Wt),"div",We,$n)}function Xn(Wt,$n,ln){var Gt=_m(i,We,null,Wt),jt=$n=="ltr"==(ln=="after")?"left":"right",Bt=ln=="after"?Gt.begin:Gt.end-(/\s/.test(We.text.charAt(Gt.end-1))?2:1);return Ft(Bt,jt)[jt]}var _n=je(We,g.direction);return ut(_n,Re||0,Ve??et,function(Wt,$n,ln,Gt){var jt=ln=="ltr",Bt=Ft(Wt,jt?"left":"right"),Hn=Ft($n-1,jt?"right":"left"),Ls=Re==null&&Wt==0,Yi=Ve==null&&$n==et,gn=Gt==0,qr=!_n||Gt==_n.length-1;if(Hn.top-Bt.top<=3){var nn=(O?Ls:Yi)&&gn,Bh=(O?Yi:Ls)&&qr,wi=nn?E:(jt?Bt:Hn).left,Io=Bh?A:(jt?Hn:Bt).right;K(wi,Bt.top,Io-wi,Bt.bottom)}else{var Po,kn,Bs,Ih;jt?(Po=O&&Ls&&gn?E:Bt.left,kn=O?A:Xn(Wt,ln,"before"),Bs=O?E:Xn($n,ln,"after"),Ih=O&&Yi&&qr?A:Hn.right):(Po=O?Xn(Wt,ln,"before"):E,kn=!O&&Ls&&gn?A:Bt.right,Bs=!O&&Yi&&qr?E:Hn.left,Ih=O?Xn($n,ln,"after"):A),K(Po,Bt.top,kn-Po,Bt.bottom),Bt.bottom<Hn.top&&K(E,Bt.bottom,null,Hn.top),K(Bs,Hn.top,Ih-Bs,Hn.bottom)}(!St||pu(Bt,St)<0)&&(St=Bt),pu(Hn,St)<0&&(St=Hn),(!tn||pu(Bt,tn)<0)&&(tn=Bt),pu(Hn,tn)<0&&(tn=Hn)}),{start:St,end:tn}}var ie=a.from(),ne=a.to();if(ie.line==ne.line)Z(ie.line,ie.ch,ne.ch);else{var ge=ze(g,ie.line),be=ze(g,ne.line),xe=Or(ge)==Or(be),Ae=Z(ie.line,ie.ch,xe?ge.text.length+1:null).end,Ne=Z(ne.line,xe?0:null,ne.ch).start;xe&&(Ae.top<Ne.top-2?(K(Ae.right,Ae.top,null,Ae.bottom),K(E,Ne.top,Ne.left,Ne.bottom)):K(Ae.right,Ae.top,Ne.left-Ae.right,Ae.bottom)),Ae.bottom<Ne.top&&K(E,Ae.bottom,null,Ne.top)}h.appendChild(y)}function uh(i){if(i.state.focused){var a=i.display;clearInterval(a.blinker);var h=!0;a.cursorDiv.style.visibility="",i.options.cursorBlinkRate>0?a.blinker=setInterval(function(){i.hasFocus()||Ss(i),a.cursorDiv.style.visibility=(h=!h)?"":"hidden"},i.options.cursorBlinkRate):i.options.cursorBlinkRate<0&&(a.cursorDiv.style.visibility="hidden")}}function jm(i){i.hasFocus()||(i.display.input.focus(),i.state.focused||ch(i))}function fh(i){i.state.delayingBlurEvent=!0,setTimeout(function(){i.state.delayingBlurEvent&&(i.state.delayingBlurEvent=!1,i.state.focused&&Ss(i))},100)}function ch(i,a){i.state.delayingBlurEvent&&!i.state.draggingText&&(i.state.delayingBlurEvent=!1),i.options.readOnly!="nocursor"&&(i.state.focused||(kt(i,"focus",i,a),i.state.focused=!0,se(i.display.wrapper,"CodeMirror-focused"),!i.curOp&&i.display.selForContextMenu!=i.doc.sel&&(i.display.input.reset(),p&&setTimeout(function(){return i.display.input.reset(!0)},20)),i.display.input.receivedFocus()),uh(i))}function Ss(i,a){i.state.delayingBlurEvent||(i.state.focused&&(kt(i,"blur",i,a),i.state.focused=!1,H(i.display.wrapper,"CodeMirror-focused")),clearInterval(i.display.blinker),setTimeout(function(){i.state.focused||(i.display.shift=!1)},150))}function gu(i){for(var a=i.display,h=a.lineDiv.offsetTop,c=Math.max(0,a.scroller.getBoundingClientRect().top),g=a.lineDiv.getBoundingClientRect().top,y=0,S=0;S<a.view.length;S++){var E=a.view[S],A=i.options.lineWrapping,O=void 0,K=0;if(!E.hidden){if(g+=E.line.height,f&&d<8){var Z=E.node.offsetTop+E.node.offsetHeight;O=Z-h,h=Z}else{var ie=E.node.getBoundingClientRect();O=ie.bottom-ie.top,!A&&E.text.firstChild&&(K=E.text.firstChild.getBoundingClientRect().right-ie.left-1)}var ne=E.line.height-O;if((ne>.005||ne<-.005)&&(g<c&&(y-=ne),or(E.line,O),Um(E.line),E.rest))for(var ge=0;ge<E.rest.length;ge++)Um(E.rest[ge]);if(K>i.display.sizerWidth){var be=Math.ceil(K/Ds(i.display));be>i.display.maxLineLength&&(i.display.maxLineLength=be,i.display.maxLine=E.line,i.display.maxLineChanged=!0)}}}Math.abs(y)>2&&(a.scroller.scrollTop+=y)}function Um(i){if(i.widgets)for(var a=0;a<i.widgets.length;++a){var h=i.widgets[a],c=h.node.parentNode;c&&(h.height=c.offsetHeight)}}function mu(i,a,h){var c=h&&h.top!=null?Math.max(0,h.top):i.scroller.scrollTop;c=Math.floor(c-fu(i));var g=h&&h.bottom!=null?h.bottom:c+i.wrapper.clientHeight,y=Q(a,c),S=Q(a,g);if(h&&h.ensure){var E=h.ensure.from.line,A=h.ensure.to.line;E<y?(y=E,S=Q(a,mi(ze(a,E))+i.wrapper.clientHeight)):Math.min(A,a.lastLine())>=S&&(y=Q(a,mi(ze(a,A))-i.wrapper.clientHeight),S=A)}return{from:y,to:Math.max(S,y+1)}}function vC(i,a){if(!Ct(i,"scrollCursorIntoView")){var h=i.display,c=h.sizer.getBoundingClientRect(),g=null,y=h.wrapper.ownerDocument;if(a.top+c.top<0?g=!0:a.bottom+c.top>(y.defaultView.innerHeight||y.documentElement.clientHeight)&&(g=!1),g!=null&&!R){var S=C("div","â",null,`position: absolute;
                         top: `+(a.top-h.viewOffset-fu(i.display))+`px;
                         height: `+(a.bottom-a.top+Ur(i)+h.barHeight)+`px;
                         left: `+a.left+"px; width: "+Math.max(2,a.right-a.left)+"px;");i.display.lineSpace.appendChild(S),S.scrollIntoView(g),i.display.lineSpace.removeChild(S)}}}function yC(i,a,h,c){c==null&&(c=0);var g;!i.options.lineWrapping&&a==h&&(h=a.sticky=="before"?de(a.line,a.ch+1,"before"):a,a=a.ch?de(a.line,a.sticky=="before"?a.ch-1:a.ch,"after"):a);for(var y=0;y<5;y++){var S=!1,E=Mr(i,a),A=!h||h==a?E:Mr(i,h);g={left:Math.min(E.left,A.left),top:Math.min(E.top,A.top)-c,right:Math.max(E.left,A.left),bottom:Math.max(E.bottom,A.bottom)+c};var O=hh(i,g),K=i.doc.scrollTop,Z=i.doc.scrollLeft;if(O.scrollTop!=null&&(Ra(i,O.scrollTop),Math.abs(i.doc.scrollTop-K)>1&&(S=!0)),O.scrollLeft!=null&&(No(i,O.scrollLeft),Math.abs(i.doc.scrollLeft-Z)>1&&(S=!0)),!S)break}return g}function bC(i,a){var h=hh(i,a);h.scrollTop!=null&&Ra(i,h.scrollTop),h.scrollLeft!=null&&No(i,h.scrollLeft)}function hh(i,a){var h=i.display,c=ws(i.display);a.top<0&&(a.top=0);var g=i.curOp&&i.curOp.scrollTop!=null?i.curOp.scrollTop:h.scroller.scrollTop,y=Zc(i),S={};a.bottom-a.top>y&&(a.bottom=a.top+y);var E=i.doc.height+Qc(h),A=a.top<c,O=a.bottom>E-c;if(a.top<g)S.scrollTop=A?0:a.top;else if(a.bottom>g+y){var K=Math.min(a.top,(O?E:a.bottom)-y);K!=g&&(S.scrollTop=K)}var Z=i.options.fixedGutter?0:h.gutters.offsetWidth,ie=i.curOp&&i.curOp.scrollLeft!=null?i.curOp.scrollLeft:h.scroller.scrollLeft-Z,ne=To(i)-h.gutters.offsetWidth,ge=a.right-a.left>ne;return ge&&(a.right=a.left+ne),a.left<10?S.scrollLeft=0:a.left<ie?S.scrollLeft=Math.max(0,a.left+Z-(ge?0:10)):a.right>ne+ie-3&&(S.scrollLeft=a.right+(ge?0:10)-ne),S}function dh(i,a){a!=null&&(vu(i),i.curOp.scrollTop=(i.curOp.scrollTop==null?i.doc.scrollTop:i.curOp.scrollTop)+a)}function Cs(i){vu(i);var a=i.getCursor();i.curOp.scrollToPos={from:a,to:a,margin:i.options.cursorScrollMargin}}function Na(i,a,h){(a!=null||h!=null)&&vu(i),a!=null&&(i.curOp.scrollLeft=a),h!=null&&(i.curOp.scrollTop=h)}function wC(i,a){vu(i),i.curOp.scrollToPos=a}function vu(i){var a=i.curOp.scrollToPos;if(a){i.curOp.scrollToPos=null;var h=Pm(i,a.from),c=Pm(i,a.to);Vm(i,h,c,a.margin)}}function Vm(i,a,h,c){var g=hh(i,{left:Math.min(a.left,h.left),top:Math.min(a.top,h.top)-c,right:Math.max(a.right,h.right),bottom:Math.max(a.bottom,h.bottom)+c});Na(i,g.scrollLeft,g.scrollTop)}function Ra(i,a){Math.abs(i.doc.scrollTop-a)<2||(o||gh(i,{top:a}),qm(i,a,!0),o&&gh(i),Ia(i,100))}function qm(i,a,h){a=Math.max(0,Math.min(i.display.scroller.scrollHeight-i.display.scroller.clientHeight,a)),!(i.display.scroller.scrollTop==a&&!h)&&(i.doc.scrollTop=a,i.display.scrollbars.setScrollTop(a),i.display.scroller.scrollTop!=a&&(i.display.scroller.scrollTop=a))}function No(i,a,h,c){a=Math.max(0,Math.min(a,i.display.scroller.scrollWidth-i.display.scroller.clientWidth)),!((h?a==i.doc.scrollLeft:Math.abs(i.doc.scrollLeft-a)<2)&&!c)&&(i.doc.scrollLeft=a,Xm(i),i.display.scroller.scrollLeft!=a&&(i.display.scroller.scrollLeft=a),i.display.scrollbars.setScrollLeft(a))}function La(i){var a=i.display,h=a.gutters.offsetWidth,c=Math.round(i.doc.height+Qc(i.display));return{clientHeight:a.scroller.clientHeight,viewHeight:a.wrapper.clientHeight,scrollWidth:a.scroller.scrollWidth,clientWidth:a.scroller.clientWidth,viewWidth:a.wrapper.clientWidth,barLeft:i.options.fixedGutter?h:0,docHeight:c,scrollHeight:c+Ur(i)+a.barHeight,nativeBarWidth:a.nativeBarWidth,gutterWidth:h}}var Ro=function(i,a,h){this.cm=h;var c=this.vert=C("div",[C("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),g=this.horiz=C("div",[C("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");c.tabIndex=g.tabIndex=-1,i(c),i(g),He(c,"scroll",function(){c.clientHeight&&a(c.scrollTop,"vertical")}),He(g,"scroll",function(){g.clientWidth&&a(g.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,f&&d<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Ro.prototype.update=function(i){var a=i.scrollWidth>i.clientWidth+1,h=i.scrollHeight>i.clientHeight+1,c=i.nativeBarWidth;if(h){this.vert.style.display="block",this.vert.style.bottom=a?c+"px":"0";var g=i.viewHeight-(a?c:0);this.vert.firstChild.style.height=Math.max(0,i.scrollHeight-i.clientHeight+g)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(a){this.horiz.style.display="block",this.horiz.style.right=h?c+"px":"0",this.horiz.style.left=i.barLeft+"px";var y=i.viewWidth-i.barLeft-(h?c:0);this.horiz.firstChild.style.width=Math.max(0,i.scrollWidth-i.clientWidth+y)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&i.clientHeight>0&&(c==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:h?c:0,bottom:a?c:0}},Ro.prototype.setScrollLeft=function(i){this.horiz.scrollLeft!=i&&(this.horiz.scrollLeft=i),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Ro.prototype.setScrollTop=function(i){this.vert.scrollTop!=i&&(this.vert.scrollTop=i),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Ro.prototype.zeroWidthHack=function(){var i=x&&!M?"12px":"18px";this.horiz.style.height=this.vert.style.width=i,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new ve,this.disableVert=new ve},Ro.prototype.enableZeroWidthBar=function(i,a,h){i.style.visibility="";function c(){var g=i.getBoundingClientRect(),y=h=="vert"?document.elementFromPoint(g.right-1,(g.top+g.bottom)/2):document.elementFromPoint((g.right+g.left)/2,g.bottom-1);y!=i?i.style.visibility="hidden":a.set(1e3,c)}a.set(1e3,c)},Ro.prototype.clear=function(){var i=this.horiz.parentNode;i.removeChild(this.horiz),i.removeChild(this.vert)};var Ba=function(){};Ba.prototype.update=function(){return{bottom:0,right:0}},Ba.prototype.setScrollLeft=function(){},Ba.prototype.setScrollTop=function(){},Ba.prototype.clear=function(){};function xs(i,a){a||(a=La(i));var h=i.display.barWidth,c=i.display.barHeight;Km(i,a);for(var g=0;g<4&&h!=i.display.barWidth||c!=i.display.barHeight;g++)h!=i.display.barWidth&&i.options.lineWrapping&&gu(i),Km(i,La(i)),h=i.display.barWidth,c=i.display.barHeight}function Km(i,a){var h=i.display,c=h.scrollbars.update(a);h.sizer.style.paddingRight=(h.barWidth=c.right)+"px",h.sizer.style.paddingBottom=(h.barHeight=c.bottom)+"px",h.heightForcer.style.borderBottom=c.bottom+"px solid transparent",c.right&&c.bottom?(h.scrollbarFiller.style.display="block",h.scrollbarFiller.style.height=c.bottom+"px",h.scrollbarFiller.style.width=c.right+"px"):h.scrollbarFiller.style.display="",c.bottom&&i.options.coverGutterNextToScrollbar&&i.options.fixedGutter?(h.gutterFiller.style.display="block",h.gutterFiller.style.height=c.bottom+"px",h.gutterFiller.style.width=a.gutterWidth+"px"):h.gutterFiller.style.display=""}var Gm={native:Ro,null:Ba};function Jm(i){i.display.scrollbars&&(i.display.scrollbars.clear(),i.display.scrollbars.addClass&&H(i.display.wrapper,i.display.scrollbars.addClass)),i.display.scrollbars=new Gm[i.options.scrollbarStyle](function(a){i.display.wrapper.insertBefore(a,i.display.scrollbarFiller),He(a,"mousedown",function(){i.state.focused&&setTimeout(function(){return i.display.input.focus()},0)}),a.setAttribute("cm-not-content","true")},function(a,h){h=="horizontal"?No(i,a):Ra(i,a)},i),i.display.scrollbars.addClass&&se(i.display.wrapper,i.display.scrollbars.addClass)}var DC=0;function Lo(i){i.curOp={cm:i,viewChanged:!1,startHeight:i.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++DC,markArrays:null},QS(i.curOp)}function Bo(i){var a=i.curOp;a&&eC(a,function(h){for(var c=0;c<h.ops.length;c++)h.ops[c].cm.curOp=null;SC(h)})}function SC(i){for(var a=i.ops,h=0;h<a.length;h++)CC(a[h]);for(var c=0;c<a.length;c++)xC(a[c]);for(var g=0;g<a.length;g++)EC(a[g]);for(var y=0;y<a.length;y++)kC(a[y]);for(var S=0;S<a.length;S++)AC(a[S])}function CC(i){var a=i.cm,h=a.display;OC(a),i.updateMaxLine&&Yc(a),i.mustUpdate=i.viewChanged||i.forceUpdate||i.scrollTop!=null||i.scrollToPos&&(i.scrollToPos.from.line<h.viewFrom||i.scrollToPos.to.line>=h.viewTo)||h.maxLineChanged&&a.options.lineWrapping,i.update=i.mustUpdate&&new yu(a,i.mustUpdate&&{top:i.scrollTop,ensure:i.scrollToPos},i.forceUpdate)}function xC(i){i.updatedDisplay=i.mustUpdate&&ph(i.cm,i.update)}function EC(i){var a=i.cm,h=a.display;i.updatedDisplay&&gu(a),i.barMeasure=La(a),h.maxLineChanged&&!a.options.lineWrapping&&(i.adjustWidthTo=Om(a,h.maxLine,h.maxLine.text.length).left+3,a.display.sizerWidth=i.adjustWidthTo,i.barMeasure.scrollWidth=Math.max(h.scroller.clientWidth,h.sizer.offsetLeft+i.adjustWidthTo+Ur(a)+a.display.barWidth),i.maxScrollLeft=Math.max(0,h.sizer.offsetLeft+i.adjustWidthTo-To(a))),(i.updatedDisplay||i.selectionChanged)&&(i.preparedSelection=h.input.prepareSelection())}function kC(i){var a=i.cm;i.adjustWidthTo!=null&&(a.display.sizer.style.minWidth=i.adjustWidthTo+"px",i.maxScrollLeft<a.doc.scrollLeft&&No(a,Math.min(a.display.scroller.scrollLeft,i.maxScrollLeft),!0),a.display.maxLineChanged=!1);var h=i.focus&&i.focus==te(ae(a));i.preparedSelection&&a.display.input.showSelection(i.preparedSelection,h),(i.updatedDisplay||i.startHeight!=a.doc.height)&&xs(a,i.barMeasure),i.updatedDisplay&&vh(a,i.barMeasure),i.selectionChanged&&uh(a),a.state.focused&&i.updateInput&&a.display.input.reset(i.typing),h&&jm(i.cm)}function AC(i){var a=i.cm,h=a.display,c=a.doc;if(i.updatedDisplay&&Ym(a,i.update),h.wheelStartX!=null&&(i.scrollTop!=null||i.scrollLeft!=null||i.scrollToPos)&&(h.wheelStartX=h.wheelStartY=null),i.scrollTop!=null&&qm(a,i.scrollTop,i.forceScroll),i.scrollLeft!=null&&No(a,i.scrollLeft,!0,!0),i.scrollToPos){var g=yC(a,Qe(c,i.scrollToPos.from),Qe(c,i.scrollToPos.to),i.scrollToPos.margin);vC(a,g)}var y=i.maybeHiddenMarkers,S=i.maybeUnhiddenMarkers;if(y)for(var E=0;E<y.length;++E)y[E].lines.length||kt(y[E],"hide");if(S)for(var A=0;A<S.length;++A)S[A].lines.length&&kt(S[A],"unhide");h.wrapper.offsetHeight&&(c.scrollTop=a.display.scroller.scrollTop),i.changeObjs&&kt(a,"changes",a,i.changeObjs),i.update&&i.update.finish()}function Yn(i,a){if(i.curOp)return a();Lo(i);try{return a()}finally{Bo(i)}}function Zt(i,a){return function(){if(i.curOp)return a.apply(i,arguments);Lo(i);try{return a.apply(i,arguments)}finally{Bo(i)}}}function En(i){return function(){if(this.curOp)return i.apply(this,arguments);Lo(this);try{return i.apply(this,arguments)}finally{Bo(this)}}}function en(i){return function(){var a=this.cm;if(!a||a.curOp)return i.apply(this,arguments);Lo(a);try{return i.apply(this,arguments)}finally{Bo(a)}}}function Ia(i,a){i.doc.highlightFrontier<i.display.viewTo&&i.state.highlight.set(a,ee(TC,i))}function TC(i){var a=i.doc;if(!(a.highlightFrontier>=i.display.viewTo)){var h=+new Date+i.options.workTime,c=Ea(i,a.highlightFrontier),g=[];a.iter(c.line,Math.min(a.first+a.size,i.display.viewTo+500),function(y){if(c.line>=i.display.viewFrom){var S=y.styles,E=y.text.length>i.options.maxHighlightLength?Wr(a.mode,c.state):null,A=rm(i,y,c,!0);E&&(c.state=E),y.styles=A.styles;var O=y.styleClasses,K=A.classes;K?y.styleClasses=K:O&&(y.styleClasses=null);for(var Z=!S||S.length!=y.styles.length||O!=K&&(!O||!K||O.bgClass!=K.bgClass||O.textClass!=K.textClass),ie=0;!Z&&ie<S.length;++ie)Z=S[ie]!=y.styles[ie];Z&&g.push(c.line),y.stateAfter=c.save(),c.nextLine()}else y.text.length<=i.options.maxHighlightLength&&Uc(i,y.text,c),y.stateAfter=c.line%5==0?c.save():null,c.nextLine();if(+new Date>h)return Ia(i,i.options.workDelay),!0}),a.highlightFrontier=c.line,a.modeFrontier=Math.max(a.modeFrontier,c.line),g.length&&Yn(i,function(){for(var y=0;y<g.length;y++)ji(i,g[y],"text")})}}var yu=function(i,a,h){var c=i.display;this.viewport=a,this.visible=mu(c,i.doc,a),this.editorIsHidden=!c.wrapper.offsetWidth,this.wrapperHeight=c.wrapper.clientHeight,this.wrapperWidth=c.wrapper.clientWidth,this.oldDisplayWidth=To(i),this.force=h,this.dims=oh(i),this.events=[]};yu.prototype.signal=function(i,a){Kt(i,a)&&this.events.push(arguments)},yu.prototype.finish=function(){for(var i=0;i<this.events.length;i++)kt.apply(null,this.events[i])};function OC(i){var a=i.display;!a.scrollbarsClipped&&a.scroller.offsetWidth&&(a.nativeBarWidth=a.scroller.offsetWidth-a.scroller.clientWidth,a.heightForcer.style.height=Ur(i)+"px",a.sizer.style.marginBottom=-a.nativeBarWidth+"px",a.sizer.style.borderRightWidth=Ur(i)+"px",a.scrollbarsClipped=!0)}function MC(i){if(i.hasFocus())return null;var a=te(ae(i));if(!a||!G(i.display.lineDiv,a))return null;var h={activeElt:a};if(window.getSelection){var c=ce(i).getSelection();c.anchorNode&&c.extend&&G(i.display.lineDiv,c.anchorNode)&&(h.anchorNode=c.anchorNode,h.anchorOffset=c.anchorOffset,h.focusNode=c.focusNode,h.focusOffset=c.focusOffset)}return h}function FC(i){if(!(!i||!i.activeElt||i.activeElt==te(fe(i.activeElt)))&&(i.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(i.activeElt.nodeName)&&i.anchorNode&&G(document.body,i.anchorNode)&&G(document.body,i.focusNode))){var a=i.activeElt.ownerDocument,h=a.defaultView.getSelection(),c=a.createRange();c.setEnd(i.anchorNode,i.anchorOffset),c.collapse(!1),h.removeAllRanges(),h.addRange(c),h.extend(i.focusNode,i.focusOffset)}}function ph(i,a){var h=i.display,c=i.doc;if(a.editorIsHidden)return Ui(i),!1;if(!a.force&&a.visible.from>=h.viewFrom&&a.visible.to<=h.viewTo&&(h.updateLineNumbers==null||h.updateLineNumbers>=h.viewTo)&&h.renderedView==h.view&&Hm(i)==0)return!1;Qm(i)&&(Ui(i),a.dims=oh(i));var g=c.first+c.size,y=Math.max(a.visible.from-i.options.viewportMargin,c.first),S=Math.min(g,a.visible.to+i.options.viewportMargin);h.viewFrom<y&&y-h.viewFrom<20&&(y=Math.max(c.first,h.viewFrom)),h.viewTo>S&&h.viewTo-S<20&&(S=Math.min(g,h.viewTo)),gi&&(y=Gc(i.doc,y),S=vm(i.doc,S));var E=y!=h.viewFrom||S!=h.viewTo||h.lastWrapHeight!=a.wrapperHeight||h.lastWrapWidth!=a.wrapperWidth;gC(i,y,S),h.viewOffset=mi(ze(i.doc,h.viewFrom)),i.display.mover.style.top=h.viewOffset+"px";var A=Hm(i);if(!E&&A==0&&!a.force&&h.renderedView==h.view&&(h.updateLineNumbers==null||h.updateLineNumbers>=h.viewTo))return!1;var O=MC(i);return A>4&&(h.lineDiv.style.display="none"),NC(i,h.updateLineNumbers,a.dims),A>4&&(h.lineDiv.style.display=""),h.renderedView=h.view,FC(O),j(h.cursorDiv),j(h.selectionDiv),h.gutters.style.height=h.sizer.style.minHeight=0,E&&(h.lastWrapHeight=a.wrapperHeight,h.lastWrapWidth=a.wrapperWidth,Ia(i,400)),h.updateLineNumbers=null,!0}function Ym(i,a){for(var h=a.viewport,c=!0;;c=!1){if(!c||!i.options.lineWrapping||a.oldDisplayWidth==To(i)){if(h&&h.top!=null&&(h={top:Math.min(i.doc.height+Qc(i.display)-Zc(i),h.top)}),a.visible=mu(i.display,i.doc,h),a.visible.from>=i.display.viewFrom&&a.visible.to<=i.display.viewTo)break}else c&&(a.visible=mu(i.display,i.doc,h));if(!ph(i,a))break;gu(i);var g=La(i);Fa(i),xs(i,g),vh(i,g),a.force=!1}a.signal(i,"update",i),(i.display.viewFrom!=i.display.reportedViewFrom||i.display.viewTo!=i.display.reportedViewTo)&&(a.signal(i,"viewportChange",i,i.display.viewFrom,i.display.viewTo),i.display.reportedViewFrom=i.display.viewFrom,i.display.reportedViewTo=i.display.viewTo)}function gh(i,a){var h=new yu(i,a);if(ph(i,h)){gu(i),Ym(i,h);var c=La(i);Fa(i),xs(i,c),vh(i,c),h.finish()}}function NC(i,a,h){var c=i.display,g=i.options.lineNumbers,y=c.lineDiv,S=y.firstChild;function E(ge){var be=ge.nextSibling;return p&&x&&i.display.currentWheelTarget==ge?ge.style.display="none":ge.parentNode.removeChild(ge),be}for(var A=c.view,O=c.viewFrom,K=0;K<A.length;K++){var Z=A[K];if(!Z.hidden)if(!Z.node||Z.node.parentNode!=y){var ie=oC(i,Z,O,h);y.insertBefore(ie,S)}else{for(;S!=Z.node;)S=E(S);var ne=g&&a!=null&&a<=O&&Z.lineNumber;Z.changes&&(we(Z.changes,"gutter")>-1&&(ne=!1),Sm(i,Z,O,h)),ne&&(j(Z.lineNumber),Z.lineNumber.appendChild(document.createTextNode(Ce(i.options,O)))),S=Z.node.nextSibling}O+=Z.size}for(;S;)S=E(S)}function mh(i){var a=i.gutters.offsetWidth;i.sizer.style.marginLeft=a+"px",Qt(i,"gutterChanged",i)}function vh(i,a){i.display.sizer.style.minHeight=a.docHeight+"px",i.display.heightForcer.style.top=a.docHeight+"px",i.display.gutters.style.height=a.docHeight+i.display.barHeight+Ur(i)+"px"}function Xm(i){var a=i.display,h=a.view;if(!(!a.alignWidgets&&(!a.gutters.firstChild||!i.options.fixedGutter))){for(var c=sh(a)-a.scroller.scrollLeft+i.doc.scrollLeft,g=a.gutters.offsetWidth,y=c+"px",S=0;S<h.length;S++)if(!h[S].hidden){i.options.fixedGutter&&(h[S].gutter&&(h[S].gutter.style.left=y),h[S].gutterBackground&&(h[S].gutterBackground.style.left=y));var E=h[S].alignable;if(E)for(var A=0;A<E.length;A++)E[A].style.left=y}i.options.fixedGutter&&(a.gutters.style.left=c+g+"px")}}function Qm(i){if(!i.options.lineNumbers)return!1;var a=i.doc,h=Ce(i.options,a.first+a.size-1),c=i.display;if(h.length!=c.lineNumChars){var g=c.measure.appendChild(C("div",[C("div",h)],"CodeMirror-linenumber CodeMirror-gutter-elt")),y=g.firstChild.offsetWidth,S=g.offsetWidth-y;return c.lineGutter.style.width="",c.lineNumInnerWidth=Math.max(y,c.lineGutter.offsetWidth-S)+1,c.lineNumWidth=c.lineNumInnerWidth+S,c.lineNumChars=c.lineNumInnerWidth?h.length:-1,c.lineGutter.style.width=c.lineNumWidth+"px",mh(i.display),!0}return!1}function yh(i,a){for(var h=[],c=!1,g=0;g<i.length;g++){var y=i[g],S=null;if(typeof y!="string"&&(S=y.style,y=y.className),y=="CodeMirror-linenumbers")if(a)c=!0;else continue;h.push({className:y,style:S})}return a&&!c&&h.push({className:"CodeMirror-linenumbers",style:null}),h}function Zm(i){var a=i.gutters,h=i.gutterSpecs;j(a),i.lineGutter=null;for(var c=0;c<h.length;++c){var g=h[c],y=g.className,S=g.style,E=a.appendChild(C("div",null,"CodeMirror-gutter "+y));S&&(E.style.cssText=S),y=="CodeMirror-linenumbers"&&(i.lineGutter=E,E.style.width=(i.lineNumWidth||1)+"px")}a.style.display=h.length?"":"none",mh(i)}function Pa(i){Zm(i.display),Pn(i),Xm(i)}function RC(i,a,h,c){var g=this;this.input=h,g.scrollbarFiller=C("div",null,"CodeMirror-scrollbar-filler"),g.scrollbarFiller.setAttribute("cm-not-content","true"),g.gutterFiller=C("div",null,"CodeMirror-gutter-filler"),g.gutterFiller.setAttribute("cm-not-content","true"),g.lineDiv=N("div",null,"CodeMirror-code"),g.selectionDiv=C("div",null,null,"position: relative; z-index: 1"),g.cursorDiv=C("div",null,"CodeMirror-cursors"),g.measure=C("div",null,"CodeMirror-measure"),g.lineMeasure=C("div",null,"CodeMirror-measure"),g.lineSpace=N("div",[g.measure,g.lineMeasure,g.selectionDiv,g.cursorDiv,g.lineDiv],null,"position: relative; outline: none");var y=N("div",[g.lineSpace],"CodeMirror-lines");g.mover=C("div",[y],null,"position: relative"),g.sizer=C("div",[g.mover],"CodeMirror-sizer"),g.sizerWidth=null,g.heightForcer=C("div",null,null,"position: absolute; height: "+Pe+"px; width: 1px;"),g.gutters=C("div",null,"CodeMirror-gutters"),g.lineGutter=null,g.scroller=C("div",[g.sizer,g.heightForcer,g.gutters],"CodeMirror-scroll"),g.scroller.setAttribute("tabIndex","-1"),g.wrapper=C("div",[g.scrollbarFiller,g.gutterFiller,g.scroller],"CodeMirror"),v&&D>=105&&(g.wrapper.style.clipPath="inset(0px)"),g.wrapper.setAttribute("translate","no"),f&&d<8&&(g.gutters.style.zIndex=-1,g.scroller.style.paddingRight=0),!p&&!(o&&b)&&(g.scroller.draggable=!0),i&&(i.appendChild?i.appendChild(g.wrapper):i(g.wrapper)),g.viewFrom=g.viewTo=a.first,g.reportedViewFrom=g.reportedViewTo=a.first,g.view=[],g.renderedView=null,g.externalMeasured=null,g.viewOffset=0,g.lastWrapHeight=g.lastWrapWidth=0,g.updateLineNumbers=null,g.nativeBarWidth=g.barHeight=g.barWidth=0,g.scrollbarsClipped=!1,g.lineNumWidth=g.lineNumInnerWidth=g.lineNumChars=null,g.alignWidgets=!1,g.cachedCharWidth=g.cachedTextHeight=g.cachedPaddingH=null,g.maxLine=null,g.maxLineLength=0,g.maxLineChanged=!1,g.wheelDX=g.wheelDY=g.wheelStartX=g.wheelStartY=null,g.shift=!1,g.selForContextMenu=null,g.activeTouch=null,g.gutterSpecs=yh(c.gutters,c.lineNumbers),Zm(g),h.init(g)}var bu=0,yi=null;f?yi=-.53:o?yi=15:v?yi=-.7:k&&(yi=-1/3);function ev(i){var a=i.wheelDeltaX,h=i.wheelDeltaY;return a==null&&i.detail&&i.axis==i.HORIZONTAL_AXIS&&(a=i.detail),h==null&&i.detail&&i.axis==i.VERTICAL_AXIS?h=i.detail:h==null&&(h=i.wheelDelta),{x:a,y:h}}function LC(i){var a=ev(i);return a.x*=yi,a.y*=yi,a}function tv(i,a){v&&D==102&&(i.display.chromeScrollHack==null?i.display.sizer.style.pointerEvents="none":clearTimeout(i.display.chromeScrollHack),i.display.chromeScrollHack=setTimeout(function(){i.display.chromeScrollHack=null,i.display.sizer.style.pointerEvents=""},100));var h=ev(a),c=h.x,g=h.y,y=yi;a.deltaMode===0&&(c=a.deltaX,g=a.deltaY,y=1);var S=i.display,E=S.scroller,A=E.scrollWidth>E.clientWidth,O=E.scrollHeight>E.clientHeight;if(c&&A||g&&O){if(g&&x&&p){e:for(var K=a.target,Z=S.view;K!=E;K=K.parentNode)for(var ie=0;ie<Z.length;ie++)if(Z[ie].node==K){i.display.currentWheelTarget=K;break e}}if(c&&!o&&!w&&y!=null){g&&O&&Ra(i,Math.max(0,E.scrollTop+g*y)),No(i,Math.max(0,E.scrollLeft+c*y)),(!g||g&&O)&&Rt(a),S.wheelStartX=null;return}if(g&&y!=null){var ne=g*y,ge=i.doc.scrollTop,be=ge+S.wrapper.clientHeight;ne<0?ge=Math.max(0,ge+ne-50):be=Math.min(i.doc.height,be+ne+50),gh(i,{top:ge,bottom:be})}bu<20&&a.deltaMode!==0&&(S.wheelStartX==null?(S.wheelStartX=E.scrollLeft,S.wheelStartY=E.scrollTop,S.wheelDX=c,S.wheelDY=g,setTimeout(function(){if(S.wheelStartX!=null){var xe=E.scrollLeft-S.wheelStartX,Ae=E.scrollTop-S.wheelStartY,Ne=Ae&&S.wheelDY&&Ae/S.wheelDY||xe&&S.wheelDX&&xe/S.wheelDX;S.wheelStartX=S.wheelStartY=null,Ne&&(yi=(yi*bu+Ne)/(bu+1),++bu)}},200)):(S.wheelDX+=c,S.wheelDY+=g))}}var sr=function(i,a){this.ranges=i,this.primIndex=a};sr.prototype.primary=function(){return this.ranges[this.primIndex]},sr.prototype.equals=function(i){if(i==this)return!0;if(i.primIndex!=this.primIndex||i.ranges.length!=this.ranges.length)return!1;for(var a=0;a<this.ranges.length;a++){var h=this.ranges[a],c=i.ranges[a];if(!ht(h.anchor,c.anchor)||!ht(h.head,c.head))return!1}return!0},sr.prototype.deepCopy=function(){for(var i=[],a=0;a<this.ranges.length;a++)i[a]=new dt(Xt(this.ranges[a].anchor),Xt(this.ranges[a].head));return new sr(i,this.primIndex)},sr.prototype.somethingSelected=function(){for(var i=0;i<this.ranges.length;i++)if(!this.ranges[i].empty())return!0;return!1},sr.prototype.contains=function(i,a){a||(a=i);for(var h=0;h<this.ranges.length;h++){var c=this.ranges[h];if(Oe(a,c.from())>=0&&Oe(i,c.to())<=0)return h}return-1};var dt=function(i,a){this.anchor=i,this.head=a};dt.prototype.from=function(){return ms(this.anchor,this.head)},dt.prototype.to=function(){return In(this.anchor,this.head)},dt.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function Fr(i,a,h){var c=i&&i.options.selectionsMayTouch,g=a[h];a.sort(function(ie,ne){return Oe(ie.from(),ne.from())}),h=we(a,g);for(var y=1;y<a.length;y++){var S=a[y],E=a[y-1],A=Oe(E.to(),S.from());if(c&&!S.empty()?A>0:A>=0){var O=ms(E.from(),S.from()),K=In(E.to(),S.to()),Z=E.empty()?S.from()==S.head:E.from()==E.head;y<=h&&--h,a.splice(--y,2,new dt(Z?K:O,Z?O:K))}}return new sr(a,h)}function Vi(i,a){return new sr([new dt(i,a||i)],0)}function qi(i){return i.text?de(i.from.line+i.text.length-1,L(i.text).length+(i.text.length==1?i.from.ch:0)):i.to}function nv(i,a){if(Oe(i,a.from)<0)return i;if(Oe(i,a.to)<=0)return qi(a);var h=i.line+a.text.length-(a.to.line-a.from.line)-1,c=i.ch;return i.line==a.to.line&&(c+=qi(a).ch-a.to.ch),de(h,c)}function bh(i,a){for(var h=[],c=0;c<i.sel.ranges.length;c++){var g=i.sel.ranges[c];h.push(new dt(nv(g.anchor,a),nv(g.head,a)))}return Fr(i.cm,h,i.sel.primIndex)}function rv(i,a,h){return i.line==a.line?de(h.line,i.ch-a.ch+h.ch):de(h.line+(i.line-a.line),i.ch)}function BC(i,a,h){for(var c=[],g=de(i.first,0),y=g,S=0;S<a.length;S++){var E=a[S],A=rv(E.from,g,y),O=rv(qi(E),g,y);if(g=E.to,y=O,h=="around"){var K=i.sel.ranges[S],Z=Oe(K.head,K.anchor)<0;c[S]=new dt(Z?O:A,Z?A:O)}else c[S]=new dt(A,A)}return new sr(c,i.sel.primIndex)}function wh(i){i.doc.mode=ds(i.options,i.doc.modeOption),za(i)}function za(i){i.doc.iter(function(a){a.stateAfter&&(a.stateAfter=null),a.styles&&(a.styles=null)}),i.doc.modeFrontier=i.doc.highlightFrontier=i.doc.first,Ia(i,100),i.state.modeGen++,i.curOp&&Pn(i)}function iv(i,a){return a.from.ch==0&&a.to.ch==0&&L(a.text)==""&&(!i.cm||i.cm.options.wholeLineUpdateBefore)}function Dh(i,a,h,c){function g(Ne){return h?h[Ne]:null}function y(Ne,Te,Re){jS(Ne,Te,Re,c),Qt(Ne,"change",Ne,a)}function S(Ne,Te){for(var Re=[],Ve=Ne;Ve<Te;++Ve)Re.push(new vs(O[Ve],g(Ve),c));return Re}var E=a.from,A=a.to,O=a.text,K=ze(i,E.line),Z=ze(i,A.line),ie=L(O),ne=g(O.length-1),ge=A.line-E.line;if(a.full)i.insert(0,S(0,O.length)),i.remove(O.length,i.size-O.length);else if(iv(i,a)){var be=S(0,O.length-1);y(Z,Z.text,ne),ge&&i.remove(E.line,ge),be.length&&i.insert(E.line,be)}else if(K==Z)if(O.length==1)y(K,K.text.slice(0,E.ch)+ie+K.text.slice(A.ch),ne);else{var xe=S(1,O.length-1);xe.push(new vs(ie+K.text.slice(A.ch),ne,c)),y(K,K.text.slice(0,E.ch)+O[0],g(0)),i.insert(E.line+1,xe)}else if(O.length==1)y(K,K.text.slice(0,E.ch)+O[0]+Z.text.slice(A.ch),g(0)),i.remove(E.line+1,ge);else{y(K,K.text.slice(0,E.ch)+O[0],g(0)),y(Z,ie+Z.text.slice(A.ch),ne);var Ae=S(1,O.length-1);ge>1&&i.remove(E.line+1,ge-1),i.insert(E.line+1,Ae)}Qt(i,"change",i,a)}function Ki(i,a,h){function c(g,y,S){if(g.linked)for(var E=0;E<g.linked.length;++E){var A=g.linked[E];if(A.doc!=y){var O=S&&A.sharedHist;h&&!O||(a(A.doc,O),c(A.doc,g,O))}}}c(i,null,!0)}function ov(i,a){if(a.cm)throw new Error("This document is already in use.");i.doc=a,a.cm=i,ah(i),wh(i),sv(i),i.options.direction=a.direction,i.options.lineWrapping||Yc(i),i.options.mode=a.modeOption,Pn(i)}function sv(i){(i.doc.direction=="rtl"?se:H)(i.display.lineDiv,"CodeMirror-rtl")}function IC(i){Yn(i,function(){sv(i),Pn(i)})}function wu(i){this.done=[],this.undone=[],this.undoDepth=i?i.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=i?i.maxGeneration:1}function Sh(i,a){var h={from:Xt(a.from),to:qi(a),text:pi(i,a.from,a.to)};return uv(i,h,a.from.line,a.to.line+1),Ki(i,function(c){return uv(c,h,a.from.line,a.to.line+1)},!0),h}function av(i){for(;i.length;){var a=L(i);if(a.ranges)i.pop();else break}}function PC(i,a){if(a)return av(i.done),L(i.done);if(i.done.length&&!L(i.done).ranges)return L(i.done);if(i.done.length>1&&!i.done[i.done.length-2].ranges)return i.done.pop(),L(i.done)}function lv(i,a,h,c){var g=i.history;g.undone.length=0;var y=+new Date,S,E;if((g.lastOp==c||g.lastOrigin==a.origin&&a.origin&&(a.origin.charAt(0)=="+"&&g.lastModTime>y-(i.cm?i.cm.options.historyEventDelay:500)||a.origin.charAt(0)=="*"))&&(S=PC(g,g.lastOp==c)))E=L(S.changes),Oe(a.from,a.to)==0&&Oe(a.from,E.to)==0?E.to=qi(a):S.changes.push(Sh(i,a));else{var A=L(g.done);for((!A||!A.ranges)&&Du(i.sel,g.done),S={changes:[Sh(i,a)],generation:g.generation},g.done.push(S);g.done.length>g.undoDepth;)g.done.shift(),g.done[0].ranges||g.done.shift()}g.done.push(h),g.generation=++g.maxGeneration,g.lastModTime=g.lastSelTime=y,g.lastOp=g.lastSelOp=c,g.lastOrigin=g.lastSelOrigin=a.origin,E||kt(i,"historyAdded")}function zC(i,a,h,c){var g=a.charAt(0);return g=="*"||g=="+"&&h.ranges.length==c.ranges.length&&h.somethingSelected()==c.somethingSelected()&&new Date-i.history.lastSelTime<=(i.cm?i.cm.options.historyEventDelay:500)}function _C(i,a,h,c){var g=i.history,y=c&&c.origin;h==g.lastSelOp||y&&g.lastSelOrigin==y&&(g.lastModTime==g.lastSelTime&&g.lastOrigin==y||zC(i,y,L(g.done),a))?g.done[g.done.length-1]=a:Du(a,g.done),g.lastSelTime=+new Date,g.lastSelOrigin=y,g.lastSelOp=h,c&&c.clearRedo!==!1&&av(g.undone)}function Du(i,a){var h=L(a);h&&h.ranges&&h.equals(i)||a.push(i)}function uv(i,a,h,c){var g=a["spans_"+i.id],y=0;i.iter(Math.max(i.first,h),Math.min(i.first+i.size,c),function(S){S.markedSpans&&((g||(g=a["spans_"+i.id]={}))[y]=S.markedSpans),++y})}function $C(i){if(!i)return null;for(var a,h=0;h<i.length;++h)i[h].marker.explicitlyCleared?a||(a=i.slice(0,h)):a&&a.push(i[h]);return a?a.length?a:null:i}function HC(i,a){var h=a["spans_"+i.id];if(!h)return null;for(var c=[],g=0;g<a.text.length;++g)c.push($C(h[g]));return c}function fv(i,a){var h=HC(i,a),c=qc(i,a);if(!h)return c;if(!c)return h;for(var g=0;g<h.length;++g){var y=h[g],S=c[g];if(y&&S)e:for(var E=0;E<S.length;++E){for(var A=S[E],O=0;O<y.length;++O)if(y[O].marker==A.marker)continue e;y.push(A)}else S&&(h[g]=S)}return h}function Es(i,a,h){for(var c=[],g=0;g<i.length;++g){var y=i[g];if(y.ranges){c.push(h?sr.prototype.deepCopy.call(y):y);continue}var S=y.changes,E=[];c.push({changes:E});for(var A=0;A<S.length;++A){var O=S[A],K=void 0;if(E.push({from:O.from,to:O.to,text:O.text}),a)for(var Z in O)(K=Z.match(/^spans_(\d+)$/))&&we(a,Number(K[1]))>-1&&(L(E)[Z]=O[Z],delete O[Z])}}return c}function Ch(i,a,h,c){if(c){var g=i.anchor;if(h){var y=Oe(a,g)<0;y!=Oe(h,g)<0?(g=a,a=h):y!=Oe(a,h)<0&&(a=h)}return new dt(g,a)}else return new dt(h||a,a)}function Su(i,a,h,c,g){g==null&&(g=i.cm&&(i.cm.display.shift||i.extend)),pn(i,new sr([Ch(i.sel.primary(),a,h,g)],0),c)}function cv(i,a,h){for(var c=[],g=i.cm&&(i.cm.display.shift||i.extend),y=0;y<i.sel.ranges.length;y++)c[y]=Ch(i.sel.ranges[y],a[y],null,g);var S=Fr(i.cm,c,i.sel.primIndex);pn(i,S,h)}function xh(i,a,h,c){var g=i.sel.ranges.slice(0);g[a]=h,pn(i,Fr(i.cm,g,i.sel.primIndex),c)}function hv(i,a,h,c){pn(i,Vi(a,h),c)}function WC(i,a,h){var c={ranges:a.ranges,update:function(g){this.ranges=[];for(var y=0;y<g.length;y++)this.ranges[y]=new dt(Qe(i,g[y].anchor),Qe(i,g[y].head))},origin:h&&h.origin};return kt(i,"beforeSelectionChange",i,c),i.cm&&kt(i.cm,"beforeSelectionChange",i.cm,c),c.ranges!=a.ranges?Fr(i.cm,c.ranges,c.ranges.length-1):a}function dv(i,a,h){var c=i.history.done,g=L(c);g&&g.ranges?(c[c.length-1]=a,Cu(i,a,h)):pn(i,a,h)}function pn(i,a,h){Cu(i,a,h),_C(i,i.sel,i.cm?i.cm.curOp.id:NaN,h)}function Cu(i,a,h){(Kt(i,"beforeSelectionChange")||i.cm&&Kt(i.cm,"beforeSelectionChange"))&&(a=WC(i,a,h));var c=h&&h.bias||(Oe(a.primary().head,i.sel.primary().head)<0?-1:1);pv(i,mv(i,a,c,!0)),!(h&&h.scroll===!1)&&i.cm&&i.cm.getOption("readOnly")!="nocursor"&&Cs(i.cm)}function pv(i,a){a.equals(i.sel)||(i.sel=a,i.cm&&(i.cm.curOp.updateInput=1,i.cm.curOp.selectionChanged=!0,an(i.cm)),Qt(i,"cursorActivity",i))}function gv(i){pv(i,mv(i,i.sel,null,!1))}function mv(i,a,h,c){for(var g,y=0;y<a.ranges.length;y++){var S=a.ranges[y],E=a.ranges.length==i.sel.ranges.length&&i.sel.ranges[y],A=xu(i,S.anchor,E&&E.anchor,h,c),O=S.head==S.anchor?A:xu(i,S.head,E&&E.head,h,c);(g||A!=S.anchor||O!=S.head)&&(g||(g=a.ranges.slice(0,y)),g[y]=new dt(A,O))}return g?Fr(i.cm,g,a.primIndex):a}function ks(i,a,h,c,g){var y=ze(i,a.line);if(y.markedSpans)for(var S=0;S<y.markedSpans.length;++S){var E=y.markedSpans[S],A=E.marker,O="selectLeft"in A?!A.selectLeft:A.inclusiveLeft,K="selectRight"in A?!A.selectRight:A.inclusiveRight;if((E.from==null||(O?E.from<=a.ch:E.from<a.ch))&&(E.to==null||(K?E.to>=a.ch:E.to>a.ch))){if(g&&(kt(A,"beforeCursorEnter"),A.explicitlyCleared))if(y.markedSpans){--S;continue}else break;if(!A.atomic)continue;if(h){var Z=A.find(c<0?1:-1),ie=void 0;if((c<0?K:O)&&(Z=vv(i,Z,-c,Z&&Z.line==a.line?y:null)),Z&&Z.line==a.line&&(ie=Oe(Z,h))&&(c<0?ie<0:ie>0))return ks(i,Z,a,c,g)}var ne=A.find(c<0?-1:1);return(c<0?O:K)&&(ne=vv(i,ne,c,ne.line==a.line?y:null)),ne?ks(i,ne,a,c,g):null}}return a}function xu(i,a,h,c,g){var y=c||1,S=ks(i,a,h,y,g)||!g&&ks(i,a,h,y,!0)||ks(i,a,h,-y,g)||!g&&ks(i,a,h,-y,!0);return S||(i.cantEdit=!0,de(i.first,0))}function vv(i,a,h,c){return h<0&&a.ch==0?a.line>i.first?Qe(i,de(a.line-1)):null:h>0&&a.ch==(c||ze(i,a.line)).text.length?a.line<i.first+i.size-1?de(a.line+1,0):null:new de(a.line,a.ch+h)}function yv(i){i.setSelection(de(i.firstLine(),0),de(i.lastLine()),Ie)}function bv(i,a,h){var c={canceled:!1,from:a.from,to:a.to,text:a.text,origin:a.origin,cancel:function(){return c.canceled=!0}};return h&&(c.update=function(g,y,S,E){g&&(c.from=Qe(i,g)),y&&(c.to=Qe(i,y)),S&&(c.text=S),E!==void 0&&(c.origin=E)}),kt(i,"beforeChange",i,c),i.cm&&kt(i.cm,"beforeChange",i.cm,c),c.canceled?(i.cm&&(i.cm.curOp.updateInput=2),null):{from:c.from,to:c.to,text:c.text,origin:c.origin}}function As(i,a,h){if(i.cm){if(!i.cm.curOp)return Zt(i.cm,As)(i,a,h);if(i.cm.state.suppressEdits)return}if(!((Kt(i,"beforeChange")||i.cm&&Kt(i.cm,"beforeChange"))&&(a=bv(i,a,!0),!a))){var c=fm&&!h&&_S(i,a.from,a.to);if(c)for(var g=c.length-1;g>=0;--g)wv(i,{from:c[g].from,to:c[g].to,text:g?[""]:a.text,origin:a.origin});else wv(i,a)}}function wv(i,a){if(!(a.text.length==1&&a.text[0]==""&&Oe(a.from,a.to)==0)){var h=bh(i,a);lv(i,a,h,i.cm?i.cm.curOp.id:NaN),_a(i,a,h,qc(i,a));var c=[];Ki(i,function(g,y){!y&&we(c,g.history)==-1&&(xv(g.history,a),c.push(g.history)),_a(g,a,null,qc(g,a))})}}function Eu(i,a,h){var c=i.cm&&i.cm.state.suppressEdits;if(!(c&&!h)){for(var g=i.history,y,S=i.sel,E=a=="undo"?g.done:g.undone,A=a=="undo"?g.undone:g.done,O=0;O<E.length&&(y=E[O],!(h?y.ranges&&!y.equals(i.sel):!y.ranges));O++);if(O!=E.length){for(g.lastOrigin=g.lastSelOrigin=null;;)if(y=E.pop(),y.ranges){if(Du(y,A),h&&!y.equals(i.sel)){pn(i,y,{clearRedo:!1});return}S=y}else if(c){E.push(y);return}else break;var K=[];Du(S,A),A.push({changes:K,generation:g.generation}),g.generation=y.generation||++g.maxGeneration;for(var Z=Kt(i,"beforeChange")||i.cm&&Kt(i.cm,"beforeChange"),ie=function(be){var xe=y.changes[be];if(xe.origin=a,Z&&!bv(i,xe,!1))return E.length=0,{};K.push(Sh(i,xe));var Ae=be?bh(i,xe):L(E);_a(i,xe,Ae,fv(i,xe)),!be&&i.cm&&i.cm.scrollIntoView({from:xe.from,to:qi(xe)});var Ne=[];Ki(i,function(Te,Re){!Re&&we(Ne,Te.history)==-1&&(xv(Te.history,xe),Ne.push(Te.history)),_a(Te,xe,null,fv(Te,xe))})},ne=y.changes.length-1;ne>=0;--ne){var ge=ie(ne);if(ge)return ge.v}}}}function Dv(i,a){if(a!=0&&(i.first+=a,i.sel=new sr(Y(i.sel.ranges,function(g){return new dt(de(g.anchor.line+a,g.anchor.ch),de(g.head.line+a,g.head.ch))}),i.sel.primIndex),i.cm)){Pn(i.cm,i.first,i.first-a,a);for(var h=i.cm.display,c=h.viewFrom;c<h.viewTo;c++)ji(i.cm,c,"gutter")}}function _a(i,a,h,c){if(i.cm&&!i.cm.curOp)return Zt(i.cm,_a)(i,a,h,c);if(a.to.line<i.first){Dv(i,a.text.length-1-(a.to.line-a.from.line));return}if(!(a.from.line>i.lastLine())){if(a.from.line<i.first){var g=a.text.length-1-(i.first-a.from.line);Dv(i,g),a={from:de(i.first,0),to:de(a.to.line+g,a.to.ch),text:[L(a.text)],origin:a.origin}}var y=i.lastLine();a.to.line>y&&(a={from:a.from,to:de(y,ze(i,y).text.length),text:[a.text[0]],origin:a.origin}),a.removed=pi(i,a.from,a.to),h||(h=bh(i,a)),i.cm?jC(i.cm,a,c):Dh(i,a,c),Cu(i,h,Ie),i.cantEdit&&xu(i,de(i.firstLine(),0))&&(i.cantEdit=!1)}}function jC(i,a,h){var c=i.doc,g=i.display,y=a.from,S=a.to,E=!1,A=y.line;i.options.lineWrapping||(A=F(Or(ze(c,y.line))),c.iter(A,S.line+1,function(ne){if(ne==g.maxLine)return E=!0,!0})),c.sel.contains(a.from,a.to)>-1&&an(i),Dh(c,a,h,$m(i)),i.options.lineWrapping||(c.iter(A,y.line+a.text.length,function(ne){var ge=lu(ne);ge>g.maxLineLength&&(g.maxLine=ne,g.maxLineLength=ge,g.maxLineChanged=!0,E=!1)}),E&&(i.curOp.updateMaxLine=!0)),NS(c,y.line),Ia(i,400);var O=a.text.length-(S.line-y.line)-1;a.full?Pn(i):y.line==S.line&&a.text.length==1&&!iv(i.doc,a)?ji(i,y.line,"text"):Pn(i,y.line,S.line+1,O);var K=Kt(i,"changes"),Z=Kt(i,"change");if(Z||K){var ie={from:y,to:S,text:a.text,removed:a.removed,origin:a.origin};Z&&Qt(i,"change",i,ie),K&&(i.curOp.changeObjs||(i.curOp.changeObjs=[])).push(ie)}i.display.selForContextMenu=null}function Ts(i,a,h,c,g){var y;c||(c=h),Oe(c,h)<0&&(y=[c,h],h=y[0],c=y[1]),typeof a=="string"&&(a=i.splitLines(a)),As(i,{from:h,to:c,text:a,origin:g})}function Sv(i,a,h,c){h<i.line?i.line+=c:a<i.line&&(i.line=a,i.ch=0)}function Cv(i,a,h,c){for(var g=0;g<i.length;++g){var y=i[g],S=!0;if(y.ranges){y.copied||(y=i[g]=y.deepCopy(),y.copied=!0);for(var E=0;E<y.ranges.length;E++)Sv(y.ranges[E].anchor,a,h,c),Sv(y.ranges[E].head,a,h,c);continue}for(var A=0;A<y.changes.length;++A){var O=y.changes[A];if(h<O.from.line)O.from=de(O.from.line+c,O.from.ch),O.to=de(O.to.line+c,O.to.ch);else if(a<=O.to.line){S=!1;break}}S||(i.splice(0,g+1),g=0)}}function xv(i,a){var h=a.from.line,c=a.to.line,g=a.text.length-(c-h)-1;Cv(i.done,h,c,g),Cv(i.undone,h,c,g)}function $a(i,a,h,c){var g=a,y=a;return typeof a=="number"?y=ze(i,tm(i,a)):g=F(a),g==null?null:(c(y,g)&&i.cm&&ji(i.cm,g,h),y)}function Ha(i){this.lines=i,this.parent=null;for(var a=0,h=0;h<i.length;++h)i[h].parent=this,a+=i[h].height;this.height=a}Ha.prototype={chunkSize:function(){return this.lines.length},removeInner:function(i,a){for(var h=i,c=i+a;h<c;++h){var g=this.lines[h];this.height-=g.height,US(g),Qt(g,"delete")}this.lines.splice(i,a)},collapse:function(i){i.push.apply(i,this.lines)},insertInner:function(i,a,h){this.height+=h,this.lines=this.lines.slice(0,i).concat(a).concat(this.lines.slice(i));for(var c=0;c<a.length;++c)a[c].parent=this},iterN:function(i,a,h){for(var c=i+a;i<c;++i)if(h(this.lines[i]))return!0}};function Wa(i){this.children=i;for(var a=0,h=0,c=0;c<i.length;++c){var g=i[c];a+=g.chunkSize(),h+=g.height,g.parent=this}this.size=a,this.height=h,this.parent=null}Wa.prototype={chunkSize:function(){return this.size},removeInner:function(i,a){this.size-=a;for(var h=0;h<this.children.length;++h){var c=this.children[h],g=c.chunkSize();if(i<g){var y=Math.min(a,g-i),S=c.height;if(c.removeInner(i,y),this.height-=S-c.height,g==y&&(this.children.splice(h--,1),c.parent=null),(a-=y)==0)break;i=0}else i-=g}if(this.size-a<25&&(this.children.length>1||!(this.children[0]instanceof Ha))){var E=[];this.collapse(E),this.children=[new Ha(E)],this.children[0].parent=this}},collapse:function(i){for(var a=0;a<this.children.length;++a)this.children[a].collapse(i)},insertInner:function(i,a,h){this.size+=a.length,this.height+=h;for(var c=0;c<this.children.length;++c){var g=this.children[c],y=g.chunkSize();if(i<=y){if(g.insertInner(i,a,h),g.lines&&g.lines.length>50){for(var S=g.lines.length%25+25,E=S;E<g.lines.length;){var A=new Ha(g.lines.slice(E,E+=25));g.height-=A.height,this.children.splice(++c,0,A),A.parent=this}g.lines=g.lines.slice(0,S),this.maybeSpill()}break}i-=y}},maybeSpill:function(){if(!(this.children.length<=10)){var i=this;do{var a=i.children.splice(i.children.length-5,5),h=new Wa(a);if(i.parent){i.size-=h.size,i.height-=h.height;var g=we(i.parent.children,i);i.parent.children.splice(g+1,0,h)}else{var c=new Wa(i.children);c.parent=i,i.children=[c,h],i=c}h.parent=i.parent}while(i.children.length>10);i.parent.maybeSpill()}},iterN:function(i,a,h){for(var c=0;c<this.children.length;++c){var g=this.children[c],y=g.chunkSize();if(i<y){var S=Math.min(a,y-i);if(g.iterN(i,S,h))return!0;if((a-=S)==0)break;i=0}else i-=y}}};var ja=function(i,a,h){if(h)for(var c in h)h.hasOwnProperty(c)&&(this[c]=h[c]);this.doc=i,this.node=a};ja.prototype.clear=function(){var i=this.doc.cm,a=this.line.widgets,h=this.line,c=F(h);if(!(c==null||!a)){for(var g=0;g<a.length;++g)a[g]==this&&a.splice(g--,1);a.length||(h.widgets=null);var y=Oa(this);or(h,Math.max(0,h.height-y)),i&&(Yn(i,function(){Ev(i,h,-y),ji(i,c,"widget")}),Qt(i,"lineWidgetCleared",i,this,c))}},ja.prototype.changed=function(){var i=this,a=this.height,h=this.doc.cm,c=this.line;this.height=null;var g=Oa(this)-a;g&&(Wi(this.doc,c)||or(c,c.height+g),h&&Yn(h,function(){h.curOp.forceUpdate=!0,Ev(h,c,g),Qt(h,"lineWidgetChanged",h,i,F(c))}))},Jn(ja);function Ev(i,a,h){mi(a)<(i.curOp&&i.curOp.scrollTop||i.doc.scrollTop)&&dh(i,h)}function UC(i,a,h,c){var g=new ja(i,h,c),y=i.cm;return y&&g.noHScroll&&(y.display.alignWidgets=!0),$a(i,a,"widget",function(S){var E=S.widgets||(S.widgets=[]);if(g.insertAt==null?E.push(g):E.splice(Math.min(E.length,Math.max(0,g.insertAt)),0,g),g.line=S,y&&!Wi(i,S)){var A=mi(S)<i.scrollTop;or(S,S.height+Oa(g)),A&&dh(y,g.height),y.curOp.forceUpdate=!0}return!0}),y&&Qt(y,"lineWidgetAdded",y,g,typeof a=="number"?a:F(a)),g}var kv=0,Gi=function(i,a){this.lines=[],this.type=a,this.doc=i,this.id=++kv};Gi.prototype.clear=function(){if(!this.explicitlyCleared){var i=this.doc.cm,a=i&&!i.curOp;if(a&&Lo(i),Kt(this,"clear")){var h=this.find();h&&Qt(this,"clear",h.from,h.to)}for(var c=null,g=null,y=0;y<this.lines.length;++y){var S=this.lines[y],E=ka(S.markedSpans,this);i&&!this.collapsed?ji(i,F(S),"text"):i&&(E.to!=null&&(g=F(S)),E.from!=null&&(c=F(S))),S.markedSpans=BS(S.markedSpans,E),E.from==null&&this.collapsed&&!Wi(this.doc,S)&&i&&or(S,ws(i.display))}if(i&&this.collapsed&&!i.options.lineWrapping)for(var A=0;A<this.lines.length;++A){var O=Or(this.lines[A]),K=lu(O);K>i.display.maxLineLength&&(i.display.maxLine=O,i.display.maxLineLength=K,i.display.maxLineChanged=!0)}c!=null&&i&&this.collapsed&&Pn(i,c,g+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,i&&gv(i.doc)),i&&Qt(i,"markerCleared",i,this,c,g),a&&Bo(i),this.parent&&this.parent.clear()}},Gi.prototype.find=function(i,a){i==null&&this.type=="bookmark"&&(i=1);for(var h,c,g=0;g<this.lines.length;++g){var y=this.lines[g],S=ka(y.markedSpans,this);if(S.from!=null&&(h=de(a?y:F(y),S.from),i==-1))return h;if(S.to!=null&&(c=de(a?y:F(y),S.to),i==1))return c}return h&&{from:h,to:c}},Gi.prototype.changed=function(){var i=this,a=this.find(-1,!0),h=this,c=this.doc.cm;!a||!c||Yn(c,function(){var g=a.line,y=F(a.line),S=eh(c,y);if(S&&(Nm(S),c.curOp.selectionChanged=c.curOp.forceUpdate=!0),c.curOp.updateMaxLine=!0,!Wi(h.doc,g)&&h.height!=null){var E=h.height;h.height=null;var A=Oa(h)-E;A&&or(g,g.height+A)}Qt(c,"markerChanged",c,i)})},Gi.prototype.attachLine=function(i){if(!this.lines.length&&this.doc.cm){var a=this.doc.cm.curOp;(!a.maybeHiddenMarkers||we(a.maybeHiddenMarkers,this)==-1)&&(a.maybeUnhiddenMarkers||(a.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(i)},Gi.prototype.detachLine=function(i){if(this.lines.splice(we(this.lines,i),1),!this.lines.length&&this.doc.cm){var a=this.doc.cm.curOp;(a.maybeHiddenMarkers||(a.maybeHiddenMarkers=[])).push(this)}},Jn(Gi);function Os(i,a,h,c,g){if(c&&c.shared)return VC(i,a,h,c,g);if(i.cm&&!i.cm.curOp)return Zt(i.cm,Os)(i,a,h,c,g);var y=new Gi(i,g),S=Oe(a,h);if(c&&ue(c,y,!1),S>0||S==0&&y.clearWhenEmpty!==!1)return y;if(y.replacedWith&&(y.collapsed=!0,y.widgetNode=N("span",[y.replacedWith],"CodeMirror-widget"),c.handleMouseEvents||y.widgetNode.setAttribute("cm-ignore-events","true"),c.insertLeft&&(y.widgetNode.insertLeft=!0)),y.collapsed){if(mm(i,a.line,a,h,y)||a.line!=h.line&&mm(i,h.line,a,h,y))throw new Error("Inserting collapsed marker partially overlapping an existing one");LS()}y.addToHistory&&lv(i,{from:a,to:h,origin:"markText"},i.sel,NaN);var E=a.line,A=i.cm,O;if(i.iter(E,h.line+1,function(Z){A&&y.collapsed&&!A.options.lineWrapping&&Or(Z)==A.display.maxLine&&(O=!0),y.collapsed&&E!=a.line&&or(Z,0),IS(Z,new iu(y,E==a.line?a.ch:null,E==h.line?h.ch:null),i.cm&&i.cm.curOp),++E}),y.collapsed&&i.iter(a.line,h.line+1,function(Z){Wi(i,Z)&&or(Z,0)}),y.clearOnEnter&&He(y,"beforeCursorEnter",function(){return y.clear()}),y.readOnly&&(RS(),(i.history.done.length||i.history.undone.length)&&i.clearHistory()),y.collapsed&&(y.id=++kv,y.atomic=!0),A){if(O&&(A.curOp.updateMaxLine=!0),y.collapsed)Pn(A,a.line,h.line+1);else if(y.className||y.startStyle||y.endStyle||y.css||y.attributes||y.title)for(var K=a.line;K<=h.line;K++)ji(A,K,"text");y.atomic&&gv(A.doc),Qt(A,"markerAdded",A,y)}return y}var Ua=function(i,a){this.markers=i,this.primary=a;for(var h=0;h<i.length;++h)i[h].parent=this};Ua.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var i=0;i<this.markers.length;++i)this.markers[i].clear();Qt(this,"clear")}},Ua.prototype.find=function(i,a){return this.primary.find(i,a)},Jn(Ua);function VC(i,a,h,c,g){c=ue(c),c.shared=!1;var y=[Os(i,a,h,c,g)],S=y[0],E=c.widgetNode;return Ki(i,function(A){E&&(c.widgetNode=E.cloneNode(!0)),y.push(Os(A,Qe(A,a),Qe(A,h),c,g));for(var O=0;O<A.linked.length;++O)if(A.linked[O].isParent)return;S=L(y)}),new Ua(y,S)}function Av(i){return i.findMarks(de(i.first,0),i.clipPos(de(i.lastLine())),function(a){return a.parent})}function qC(i,a){for(var h=0;h<a.length;h++){var c=a[h],g=c.find(),y=i.clipPos(g.from),S=i.clipPos(g.to);if(Oe(y,S)){var E=Os(i,y,S,c.primary,c.primary.type);c.markers.push(E),E.parent=c}}}function KC(i){for(var a=function(c){var g=i[c],y=[g.primary.doc];Ki(g.primary.doc,function(A){return y.push(A)});for(var S=0;S<g.markers.length;S++){var E=g.markers[S];we(y,E.doc)==-1&&(E.parent=null,g.markers.splice(S--,1))}},h=0;h<i.length;h++)a(h)}var GC=0,zn=function(i,a,h,c,g){if(!(this instanceof zn))return new zn(i,a,h,c,g);h==null&&(h=0),Wa.call(this,[new Ha([new vs("",null)])]),this.first=h,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=h;var y=de(h,0);this.sel=Vi(y),this.history=new wu(null),this.id=++GC,this.modeOption=a,this.lineSep=c,this.direction=g=="rtl"?"rtl":"ltr",this.extend=!1,typeof i=="string"&&(i=this.splitLines(i)),Dh(this,{from:y,to:y,text:i}),pn(this,Vi(y),Ie)};zn.prototype=q(Wa.prototype,{constructor:zn,iter:function(i,a,h){h?this.iterN(i-this.first,a-i,h):this.iterN(this.first,this.first+this.size,i)},insert:function(i,a){for(var h=0,c=0;c<a.length;++c)h+=a[c].height;this.insertInner(i-this.first,a,h)},remove:function(i,a){this.removeInner(i-this.first,a)},getValue:function(i){var a=xa(this,this.first,this.first+this.size);return i===!1?a:a.join(i||this.lineSeparator())},setValue:en(function(i){var a=de(this.first,0),h=this.first+this.size-1;As(this,{from:a,to:de(h,ze(this,h).text.length),text:this.splitLines(i),origin:"setValue",full:!0},!0),this.cm&&Na(this.cm,0,0),pn(this,Vi(a),Ie)}),replaceRange:function(i,a,h,c){a=Qe(this,a),h=h?Qe(this,h):a,Ts(this,i,a,h,c)},getRange:function(i,a,h){var c=pi(this,Qe(this,i),Qe(this,a));return h===!1?c:h===""?c.join(""):c.join(h||this.lineSeparator())},getLine:function(i){var a=this.getLineHandle(i);return a&&a.text},getLineHandle:function(i){if(ye(this,i))return ze(this,i)},getLineNumber:function(i){return F(i)},getLineHandleVisualStart:function(i){return typeof i=="number"&&(i=ze(this,i)),Or(i)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(i){return Qe(this,i)},getCursor:function(i){var a=this.sel.primary(),h;return i==null||i=="head"?h=a.head:i=="anchor"?h=a.anchor:i=="end"||i=="to"||i===!1?h=a.to():h=a.from(),h},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:en(function(i,a,h){hv(this,Qe(this,typeof i=="number"?de(i,a||0):i),null,h)}),setSelection:en(function(i,a,h){hv(this,Qe(this,i),Qe(this,a||i),h)}),extendSelection:en(function(i,a,h){Su(this,Qe(this,i),a&&Qe(this,a),h)}),extendSelections:en(function(i,a){cv(this,nm(this,i),a)}),extendSelectionsBy:en(function(i,a){var h=Y(this.sel.ranges,i);cv(this,nm(this,h),a)}),setSelections:en(function(i,a,h){if(i.length){for(var c=[],g=0;g<i.length;g++)c[g]=new dt(Qe(this,i[g].anchor),Qe(this,i[g].head||i[g].anchor));a==null&&(a=Math.min(i.length-1,this.sel.primIndex)),pn(this,Fr(this.cm,c,a),h)}}),addSelection:en(function(i,a,h){var c=this.sel.ranges.slice(0);c.push(new dt(Qe(this,i),Qe(this,a||i))),pn(this,Fr(this.cm,c,c.length-1),h)}),getSelection:function(i){for(var a=this.sel.ranges,h,c=0;c<a.length;c++){var g=pi(this,a[c].from(),a[c].to());h=h?h.concat(g):g}return i===!1?h:h.join(i||this.lineSeparator())},getSelections:function(i){for(var a=[],h=this.sel.ranges,c=0;c<h.length;c++){var g=pi(this,h[c].from(),h[c].to());i!==!1&&(g=g.join(i||this.lineSeparator())),a[c]=g}return a},replaceSelection:function(i,a,h){for(var c=[],g=0;g<this.sel.ranges.length;g++)c[g]=i;this.replaceSelections(c,a,h||"+input")},replaceSelections:en(function(i,a,h){for(var c=[],g=this.sel,y=0;y<g.ranges.length;y++){var S=g.ranges[y];c[y]={from:S.from(),to:S.to(),text:this.splitLines(i[y]),origin:h}}for(var E=a&&a!="end"&&BC(this,c,a),A=c.length-1;A>=0;A--)As(this,c[A]);E?dv(this,E):this.cm&&Cs(this.cm)}),undo:en(function(){Eu(this,"undo")}),redo:en(function(){Eu(this,"redo")}),undoSelection:en(function(){Eu(this,"undo",!0)}),redoSelection:en(function(){Eu(this,"redo",!0)}),setExtending:function(i){this.extend=i},getExtending:function(){return this.extend},historySize:function(){for(var i=this.history,a=0,h=0,c=0;c<i.done.length;c++)i.done[c].ranges||++a;for(var g=0;g<i.undone.length;g++)i.undone[g].ranges||++h;return{undo:a,redo:h}},clearHistory:function(){var i=this;this.history=new wu(this.history),Ki(this,function(a){return a.history=i.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(i){return i&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(i){return this.history.generation==(i||this.cleanGeneration)},getHistory:function(){return{done:Es(this.history.done),undone:Es(this.history.undone)}},setHistory:function(i){var a=this.history=new wu(this.history);a.done=Es(i.done.slice(0),null,!0),a.undone=Es(i.undone.slice(0),null,!0)},setGutterMarker:en(function(i,a,h){return $a(this,i,"gutter",function(c){var g=c.gutterMarkers||(c.gutterMarkers={});return g[a]=h,!h&&Ee(g)&&(c.gutterMarkers=null),!0})}),clearGutter:en(function(i){var a=this;this.iter(function(h){h.gutterMarkers&&h.gutterMarkers[i]&&$a(a,h,"gutter",function(){return h.gutterMarkers[i]=null,Ee(h.gutterMarkers)&&(h.gutterMarkers=null),!0})})}),lineInfo:function(i){var a;if(typeof i=="number"){if(!ye(this,i)||(a=i,i=ze(this,i),!i))return null}else if(a=F(i),a==null)return null;return{line:a,handle:i,text:i.text,gutterMarkers:i.gutterMarkers,textClass:i.textClass,bgClass:i.bgClass,wrapClass:i.wrapClass,widgets:i.widgets}},addLineClass:en(function(i,a,h){return $a(this,i,a=="gutter"?"gutter":"class",function(c){var g=a=="text"?"textClass":a=="background"?"bgClass":a=="gutter"?"gutterClass":"wrapClass";if(!c[g])c[g]=h;else{if(U(h).test(c[g]))return!1;c[g]+=" "+h}return!0})}),removeLineClass:en(function(i,a,h){return $a(this,i,a=="gutter"?"gutter":"class",function(c){var g=a=="text"?"textClass":a=="background"?"bgClass":a=="gutter"?"gutterClass":"wrapClass",y=c[g];if(y)if(h==null)c[g]=null;else{var S=y.match(U(h));if(!S)return!1;var E=S.index+S[0].length;c[g]=y.slice(0,S.index)+(!S.index||E==y.length?"":" ")+y.slice(E)||null}else return!1;return!0})}),addLineWidget:en(function(i,a,h){return UC(this,i,a,h)}),removeLineWidget:function(i){i.clear()},markText:function(i,a,h){return Os(this,Qe(this,i),Qe(this,a),h,h&&h.type||"range")},setBookmark:function(i,a){var h={replacedWith:a&&(a.nodeType==null?a.widget:a),insertLeft:a&&a.insertLeft,clearWhenEmpty:!1,shared:a&&a.shared,handleMouseEvents:a&&a.handleMouseEvents};return i=Qe(this,i),Os(this,i,i,h,"bookmark")},findMarksAt:function(i){i=Qe(this,i);var a=[],h=ze(this,i.line).markedSpans;if(h)for(var c=0;c<h.length;++c){var g=h[c];(g.from==null||g.from<=i.ch)&&(g.to==null||g.to>=i.ch)&&a.push(g.marker.parent||g.marker)}return a},findMarks:function(i,a,h){i=Qe(this,i),a=Qe(this,a);var c=[],g=i.line;return this.iter(i.line,a.line+1,function(y){var S=y.markedSpans;if(S)for(var E=0;E<S.length;E++){var A=S[E];!(A.to!=null&&g==i.line&&i.ch>=A.to||A.from==null&&g!=i.line||A.from!=null&&g==a.line&&A.from>=a.ch)&&(!h||h(A.marker))&&c.push(A.marker.parent||A.marker)}++g}),c},getAllMarks:function(){var i=[];return this.iter(function(a){var h=a.markedSpans;if(h)for(var c=0;c<h.length;++c)h[c].from!=null&&i.push(h[c].marker)}),i},posFromIndex:function(i){var a,h=this.first,c=this.lineSeparator().length;return this.iter(function(g){var y=g.text.length+c;if(y>i)return a=i,!0;i-=y,++h}),Qe(this,de(h,a))},indexFromPos:function(i){i=Qe(this,i);var a=i.ch;if(i.line<this.first||i.ch<0)return 0;var h=this.lineSeparator().length;return this.iter(this.first,i.line,function(c){a+=c.text.length+h}),a},copy:function(i){var a=new zn(xa(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return a.scrollTop=this.scrollTop,a.scrollLeft=this.scrollLeft,a.sel=this.sel,a.extend=!1,i&&(a.history.undoDepth=this.history.undoDepth,a.setHistory(this.getHistory())),a},linkedDoc:function(i){i||(i={});var a=this.first,h=this.first+this.size;i.from!=null&&i.from>a&&(a=i.from),i.to!=null&&i.to<h&&(h=i.to);var c=new zn(xa(this,a,h),i.mode||this.modeOption,a,this.lineSep,this.direction);return i.sharedHist&&(c.history=this.history),(this.linked||(this.linked=[])).push({doc:c,sharedHist:i.sharedHist}),c.linked=[{doc:this,isParent:!0,sharedHist:i.sharedHist}],qC(c,Av(this)),c},unlinkDoc:function(i){if(i instanceof At&&(i=i.doc),this.linked)for(var a=0;a<this.linked.length;++a){var h=this.linked[a];if(h.doc==i){this.linked.splice(a,1),i.unlinkDoc(this),KC(Av(this));break}}if(i.history==this.history){var c=[i.id];Ki(i,function(g){return c.push(g.id)},!0),i.history=new wu(null),i.history.done=Es(this.history.done,c),i.history.undone=Es(this.history.undone,c)}},iterLinkedDocs:function(i){Ki(this,i)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(i){return this.lineSep?i.split(this.lineSep):gr(i)},lineSeparator:function(){return this.lineSep||`
`},setDirection:en(function(i){i!="rtl"&&(i="ltr"),i!=this.direction&&(this.direction=i,this.iter(function(a){return a.order=null}),this.cm&&IC(this.cm))})}),zn.prototype.eachLine=zn.prototype.iter;var Tv=0;function JC(i){var a=this;if(Ov(a),!(Ct(a,i)||vi(a.display,i))){Rt(i),f&&(Tv=+new Date);var h=Mo(a,i,!0),c=i.dataTransfer.files;if(!(!h||a.isReadOnly()))if(c&&c.length&&window.FileReader&&window.File)for(var g=c.length,y=Array(g),S=0,E=function(){++S==g&&Zt(a,function(){h=Qe(a.doc,h);var ne={from:h,to:h,text:a.doc.splitLines(y.filter(function(ge){return ge!=null}).join(a.doc.lineSeparator())),origin:"paste"};As(a.doc,ne),dv(a.doc,Vi(Qe(a.doc,h),Qe(a.doc,qi(ne))))})()},A=function(ne,ge){if(a.options.allowDropFileTypes&&we(a.options.allowDropFileTypes,ne.type)==-1){E();return}var be=new FileReader;be.onerror=function(){return E()},be.onload=function(){var xe=be.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(xe)){E();return}y[ge]=xe,E()},be.readAsText(ne)},O=0;O<c.length;O++)A(c[O],O);else{if(a.state.draggingText&&a.doc.sel.contains(h)>-1){a.state.draggingText(i),setTimeout(function(){return a.display.input.focus()},20);return}try{var K=i.dataTransfer.getData("Text");if(K){var Z;if(a.state.draggingText&&!a.state.draggingText.copy&&(Z=a.listSelections()),Cu(a.doc,Vi(h,h)),Z)for(var ie=0;ie<Z.length;++ie)Ts(a.doc,"",Z[ie].anchor,Z[ie].head,"drag");a.replaceSelection(K,"around","paste"),a.display.input.focus()}}catch{}}}}function YC(i,a){if(f&&(!i.state.draggingText||+new Date-Tv<100)){zi(a);return}if(!(Ct(i,a)||vi(i.display,a))&&(a.dataTransfer.setData("Text",i.getSelection()),a.dataTransfer.effectAllowed="copyMove",a.dataTransfer.setDragImage&&!k)){var h=C("img",null,null,"position: fixed; left: 0; top: 0;");h.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",w&&(h.width=h.height=1,i.display.wrapper.appendChild(h),h._top=h.offsetTop),a.dataTransfer.setDragImage(h,0,0),w&&h.parentNode.removeChild(h)}}function XC(i,a){var h=Mo(i,a);if(h){var c=document.createDocumentFragment();lh(i,h,c),i.display.dragCursor||(i.display.dragCursor=C("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),i.display.lineSpace.insertBefore(i.display.dragCursor,i.display.cursorDiv)),_(i.display.dragCursor,c)}}function Ov(i){i.display.dragCursor&&(i.display.lineSpace.removeChild(i.display.dragCursor),i.display.dragCursor=null)}function Mv(i){if(document.getElementsByClassName){for(var a=document.getElementsByClassName("CodeMirror"),h=[],c=0;c<a.length;c++){var g=a[c].CodeMirror;g&&h.push(g)}h.length&&h[0].operation(function(){for(var y=0;y<h.length;y++)i(h[y])})}}var Fv=!1;function QC(){Fv||(ZC(),Fv=!0)}function ZC(){var i;He(window,"resize",function(){i==null&&(i=setTimeout(function(){i=null,Mv(ex)},100))}),He(window,"blur",function(){return Mv(Ss)})}function ex(i){var a=i.display;a.cachedCharWidth=a.cachedTextHeight=a.cachedPaddingH=null,a.scrollbarsClipped=!1,i.setSize()}for(var Ji={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Va=0;Va<10;Va++)Ji[Va+48]=Ji[Va+96]=String(Va);for(var ku=65;ku<=90;ku++)Ji[ku]=String.fromCharCode(ku);for(var qa=1;qa<=12;qa++)Ji[qa+111]=Ji[qa+63235]="F"+qa;var bi={};bi.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},bi.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},bi.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},bi.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},bi.default=x?bi.macDefault:bi.pcDefault;function tx(i){var a=i.split(/-(?!$)/);i=a[a.length-1];for(var h,c,g,y,S=0;S<a.length-1;S++){var E=a[S];if(/^(cmd|meta|m)$/i.test(E))y=!0;else if(/^a(lt)?$/i.test(E))h=!0;else if(/^(c|ctrl|control)$/i.test(E))c=!0;else if(/^s(hift)?$/i.test(E))g=!0;else throw new Error("Unrecognized modifier name: "+E)}return h&&(i="Alt-"+i),c&&(i="Ctrl-"+i),y&&(i="Cmd-"+i),g&&(i="Shift-"+i),i}function nx(i){var a={};for(var h in i)if(i.hasOwnProperty(h)){var c=i[h];if(/^(name|fallthrough|(de|at)tach)$/.test(h))continue;if(c=="..."){delete i[h];continue}for(var g=Y(h.split(" "),tx),y=0;y<g.length;y++){var S=void 0,E=void 0;y==g.length-1?(E=g.join(" "),S=c):(E=g.slice(0,y+1).join(" "),S="...");var A=a[E];if(!A)a[E]=S;else if(A!=S)throw new Error("Inconsistent bindings for "+E)}delete i[h]}for(var O in a)i[O]=a[O];return i}function Ms(i,a,h,c){a=Au(a);var g=a.call?a.call(i,c):a[i];if(g===!1)return"nothing";if(g==="...")return"multi";if(g!=null&&h(g))return"handled";if(a.fallthrough){if(Object.prototype.toString.call(a.fallthrough)!="[object Array]")return Ms(i,a.fallthrough,h,c);for(var y=0;y<a.fallthrough.length;y++){var S=Ms(i,a.fallthrough[y],h,c);if(S)return S}}}function Nv(i){var a=typeof i=="string"?i:Ji[i.keyCode];return a=="Ctrl"||a=="Alt"||a=="Shift"||a=="Mod"}function Rv(i,a,h){var c=i;return a.altKey&&c!="Alt"&&(i="Alt-"+i),(V?a.metaKey:a.ctrlKey)&&c!="Ctrl"&&(i="Ctrl-"+i),(V?a.ctrlKey:a.metaKey)&&c!="Mod"&&(i="Cmd-"+i),!h&&a.shiftKey&&c!="Shift"&&(i="Shift-"+i),i}function Lv(i,a){if(w&&i.keyCode==34&&i.char)return!1;var h=Ji[i.keyCode];return h==null||i.altGraphKey?!1:(i.keyCode==3&&i.code&&(h=i.code),Rv(h,i,a))}function Au(i){return typeof i=="string"?bi[i]:i}function Fs(i,a){for(var h=i.doc.sel.ranges,c=[],g=0;g<h.length;g++){for(var y=a(h[g]);c.length&&Oe(y.from,L(c).to)<=0;){var S=c.pop();if(Oe(S.from,y.from)<0){y.from=S.from;break}}c.push(y)}Yn(i,function(){for(var E=c.length-1;E>=0;E--)Ts(i.doc,"",c[E].from,c[E].to,"+delete");Cs(i)})}function Eh(i,a,h){var c=it(i.text,a+h,h);return c<0||c>i.text.length?null:c}function kh(i,a,h){var c=Eh(i,a.ch,h);return c==null?null:new de(a.line,c,h<0?"after":"before")}function Ah(i,a,h,c,g){if(i){a.doc.direction=="rtl"&&(g=-g);var y=je(h,a.doc.direction);if(y){var S=g<0?L(y):y[0],E=g<0==(S.level==1),A=E?"after":"before",O;if(S.level>0||a.doc.direction=="rtl"){var K=bs(a,h);O=g<0?h.text.length-1:0;var Z=Vr(a,K,O).top;O=lt(function(ie){return Vr(a,K,ie).top==Z},g<0==(S.level==1)?S.from:S.to-1,O),A=="before"&&(O=Eh(h,O,1))}else O=g<0?S.to:S.from;return new de(c,O,A)}}return new de(c,g<0?h.text.length:0,g<0?"before":"after")}function rx(i,a,h,c){var g=je(a,i.doc.direction);if(!g)return kh(a,h,c);h.ch>=a.text.length?(h.ch=a.text.length,h.sticky="before"):h.ch<=0&&(h.ch=0,h.sticky="after");var y=Mt(g,h.ch,h.sticky),S=g[y];if(i.doc.direction=="ltr"&&S.level%2==0&&(c>0?S.to>h.ch:S.from<h.ch))return kh(a,h,c);var E=function(Ae,Ne){return Eh(a,Ae instanceof de?Ae.ch:Ae,Ne)},A,O=function(Ae){return i.options.lineWrapping?(A=A||bs(i,a),_m(i,a,A,Ae)):{begin:0,end:a.text.length}},K=O(h.sticky=="before"?E(h,-1):h.ch);if(i.doc.direction=="rtl"||S.level==1){var Z=S.level==1==c<0,ie=E(h,Z?1:-1);if(ie!=null&&(Z?ie<=S.to&&ie<=K.end:ie>=S.from&&ie>=K.begin)){var ne=Z?"before":"after";return new de(h.line,ie,ne)}}var ge=function(Ae,Ne,Te){for(var Re=function(St,tn){return tn?new de(h.line,E(St,1),"before"):new de(h.line,St,"after")};Ae>=0&&Ae<g.length;Ae+=Ne){var Ve=g[Ae],We=Ne>0==(Ve.level!=1),et=We?Te.begin:E(Te.end,-1);if(Ve.from<=et&&et<Ve.to||(et=We?Ve.from:E(Ve.to,-1),Te.begin<=et&&et<Te.end))return Re(et,We)}},be=ge(y+c,c,K);if(be)return be;var xe=c>0?K.end:E(K.begin,-1);return xe!=null&&!(c>0&&xe==a.text.length)&&(be=ge(c>0?0:g.length-1,c,O(xe)),be)?be:null}var Ka={selectAll:yv,singleSelection:function(i){return i.setSelection(i.getCursor("anchor"),i.getCursor("head"),Ie)},killLine:function(i){return Fs(i,function(a){if(a.empty()){var h=ze(i.doc,a.head.line).text.length;return a.head.ch==h&&a.head.line<i.lastLine()?{from:a.head,to:de(a.head.line+1,0)}:{from:a.head,to:de(a.head.line,h)}}else return{from:a.from(),to:a.to()}})},deleteLine:function(i){return Fs(i,function(a){return{from:de(a.from().line,0),to:Qe(i.doc,de(a.to().line+1,0))}})},delLineLeft:function(i){return Fs(i,function(a){return{from:de(a.from().line,0),to:a.from()}})},delWrappedLineLeft:function(i){return Fs(i,function(a){var h=i.charCoords(a.head,"div").top+5,c=i.coordsChar({left:0,top:h},"div");return{from:c,to:a.from()}})},delWrappedLineRight:function(i){return Fs(i,function(a){var h=i.charCoords(a.head,"div").top+5,c=i.coordsChar({left:i.display.lineDiv.offsetWidth+100,top:h},"div");return{from:a.from(),to:c}})},undo:function(i){return i.undo()},redo:function(i){return i.redo()},undoSelection:function(i){return i.undoSelection()},redoSelection:function(i){return i.redoSelection()},goDocStart:function(i){return i.extendSelection(de(i.firstLine(),0))},goDocEnd:function(i){return i.extendSelection(de(i.lastLine()))},goLineStart:function(i){return i.extendSelectionsBy(function(a){return Bv(i,a.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(i){return i.extendSelectionsBy(function(a){return Iv(i,a.head)},{origin:"+move",bias:1})},goLineEnd:function(i){return i.extendSelectionsBy(function(a){return ix(i,a.head.line)},{origin:"+move",bias:-1})},goLineRight:function(i){return i.extendSelectionsBy(function(a){var h=i.cursorCoords(a.head,"div").top+5;return i.coordsChar({left:i.display.lineDiv.offsetWidth+100,top:h},"div")},Ge)},goLineLeft:function(i){return i.extendSelectionsBy(function(a){var h=i.cursorCoords(a.head,"div").top+5;return i.coordsChar({left:0,top:h},"div")},Ge)},goLineLeftSmart:function(i){return i.extendSelectionsBy(function(a){var h=i.cursorCoords(a.head,"div").top+5,c=i.coordsChar({left:0,top:h},"div");return c.ch<i.getLine(c.line).search(/\S/)?Iv(i,a.head):c},Ge)},goLineUp:function(i){return i.moveV(-1,"line")},goLineDown:function(i){return i.moveV(1,"line")},goPageUp:function(i){return i.moveV(-1,"page")},goPageDown:function(i){return i.moveV(1,"page")},goCharLeft:function(i){return i.moveH(-1,"char")},goCharRight:function(i){return i.moveH(1,"char")},goColumnLeft:function(i){return i.moveH(-1,"column")},goColumnRight:function(i){return i.moveH(1,"column")},goWordLeft:function(i){return i.moveH(-1,"word")},goGroupRight:function(i){return i.moveH(1,"group")},goGroupLeft:function(i){return i.moveH(-1,"group")},goWordRight:function(i){return i.moveH(1,"word")},delCharBefore:function(i){return i.deleteH(-1,"codepoint")},delCharAfter:function(i){return i.deleteH(1,"char")},delWordBefore:function(i){return i.deleteH(-1,"word")},delWordAfter:function(i){return i.deleteH(1,"word")},delGroupBefore:function(i){return i.deleteH(-1,"group")},delGroupAfter:function(i){return i.deleteH(1,"group")},indentAuto:function(i){return i.indentSelection("smart")},indentMore:function(i){return i.indentSelection("add")},indentLess:function(i){return i.indentSelection("subtract")},insertTab:function(i){return i.replaceSelection("	")},insertSoftTab:function(i){for(var a=[],h=i.listSelections(),c=i.options.tabSize,g=0;g<h.length;g++){var y=h[g].from(),S=he(i.getLine(y.line),y.ch,c);a.push(Et(c-S%c))}i.replaceSelections(a)},defaultTab:function(i){i.somethingSelected()?i.indentSelection("add"):i.execCommand("insertTab")},transposeChars:function(i){return Yn(i,function(){for(var a=i.listSelections(),h=[],c=0;c<a.length;c++)if(a[c].empty()){var g=a[c].head,y=ze(i.doc,g.line).text;if(y){if(g.ch==y.length&&(g=new de(g.line,g.ch-1)),g.ch>0)g=new de(g.line,g.ch+1),i.replaceRange(y.charAt(g.ch-1)+y.charAt(g.ch-2),de(g.line,g.ch-2),g,"+transpose");else if(g.line>i.doc.first){var S=ze(i.doc,g.line-1).text;S&&(g=new de(g.line,1),i.replaceRange(y.charAt(0)+i.doc.lineSeparator()+S.charAt(S.length-1),de(g.line-1,S.length-1),g,"+transpose"))}}h.push(new dt(g,g))}i.setSelections(h)})},newlineAndIndent:function(i){return Yn(i,function(){for(var a=i.listSelections(),h=a.length-1;h>=0;h--)i.replaceRange(i.doc.lineSeparator(),a[h].anchor,a[h].head,"+input");a=i.listSelections();for(var c=0;c<a.length;c++)i.indentLine(a[c].from().line,null,!0);Cs(i)})},openLine:function(i){return i.replaceSelection(`
`,"start")},toggleOverwrite:function(i){return i.toggleOverwrite()}};function Bv(i,a){var h=ze(i.doc,a),c=Or(h);return c!=h&&(a=F(c)),Ah(!0,i,c,a,1)}function ix(i,a){var h=ze(i.doc,a),c=HS(h);return c!=h&&(a=F(c)),Ah(!0,i,h,a,-1)}function Iv(i,a){var h=Bv(i,a.line),c=ze(i.doc,h.line),g=je(c,i.doc.direction);if(!g||g[0].level==0){var y=Math.max(h.ch,c.text.search(/\S/)),S=a.line==h.line&&a.ch<=y&&a.ch;return de(h.line,S?0:y,h.sticky)}return h}function Tu(i,a,h){if(typeof a=="string"&&(a=Ka[a],!a))return!1;i.display.input.ensurePolled();var c=i.display.shift,g=!1;try{i.isReadOnly()&&(i.state.suppressEdits=!0),h&&(i.display.shift=!1),g=a(i)!=Be}finally{i.display.shift=c,i.state.suppressEdits=!1}return g}function ox(i,a,h){for(var c=0;c<i.state.keyMaps.length;c++){var g=Ms(a,i.state.keyMaps[c],h,i);if(g)return g}return i.options.extraKeys&&Ms(a,i.options.extraKeys,h,i)||Ms(a,i.options.keyMap,h,i)}var sx=new ve;function Ga(i,a,h,c){var g=i.state.keySeq;if(g){if(Nv(a))return"handled";if(/\'$/.test(a)?i.state.keySeq=null:sx.set(50,function(){i.state.keySeq==g&&(i.state.keySeq=null,i.display.input.reset())}),Pv(i,g+" "+a,h,c))return!0}return Pv(i,a,h,c)}function Pv(i,a,h,c){var g=ox(i,a,c);return g=="multi"&&(i.state.keySeq=a),g=="handled"&&Qt(i,"keyHandled",i,a,h),(g=="handled"||g=="multi")&&(Rt(h),uh(i)),!!g}function zv(i,a){var h=Lv(a,!0);return h?a.shiftKey&&!i.state.keySeq?Ga(i,"Shift-"+h,a,function(c){return Tu(i,c,!0)})||Ga(i,h,a,function(c){if(typeof c=="string"?/^go[A-Z]/.test(c):c.motion)return Tu(i,c)}):Ga(i,h,a,function(c){return Tu(i,c)}):!1}function ax(i,a,h){return Ga(i,"'"+h+"'",a,function(c){return Tu(i,c,!0)})}var Th=null;function _v(i){var a=this;if(!(i.target&&i.target!=a.display.input.getField())&&(a.curOp.focus=te(ae(a)),!Ct(a,i))){f&&d<11&&i.keyCode==27&&(i.returnValue=!1);var h=i.keyCode;a.display.shift=h==16||i.shiftKey;var c=zv(a,i);w&&(Th=c?h:null,!c&&h==88&&!nu&&(x?i.metaKey:i.ctrlKey)&&a.replaceSelection("",null,"cut")),o&&!x&&!c&&h==46&&i.shiftKey&&!i.ctrlKey&&document.execCommand&&document.execCommand("cut"),h==18&&!/\bCodeMirror-crosshair\b/.test(a.display.lineDiv.className)&&lx(a)}}function lx(i){var a=i.display.lineDiv;se(a,"CodeMirror-crosshair");function h(c){(c.keyCode==18||!c.altKey)&&(H(a,"CodeMirror-crosshair"),qt(document,"keyup",h),qt(document,"mouseover",h))}He(document,"keyup",h),He(document,"mouseover",h)}function $v(i){i.keyCode==16&&(this.doc.sel.shift=!1),Ct(this,i)}function Hv(i){var a=this;if(!(i.target&&i.target!=a.display.input.getField())&&!(vi(a.display,i)||Ct(a,i)||i.ctrlKey&&!i.altKey||x&&i.metaKey)){var h=i.keyCode,c=i.charCode;if(w&&h==Th){Th=null,Rt(i);return}if(!(w&&(!i.which||i.which<10)&&zv(a,i))){var g=String.fromCharCode(c??h);g!="\b"&&(ax(a,i,g)||a.display.input.onKeyPress(i))}}}var ux=400,Oh=function(i,a,h){this.time=i,this.pos=a,this.button=h};Oh.prototype.compare=function(i,a,h){return this.time+ux>i&&Oe(a,this.pos)==0&&h==this.button};var Ja,Ya;function fx(i,a){var h=+new Date;return Ya&&Ya.compare(h,i,a)?(Ja=Ya=null,"triple"):Ja&&Ja.compare(h,i,a)?(Ya=new Oh(h,i,a),Ja=null,"double"):(Ja=new Oh(h,i,a),Ya=null,"single")}function Wv(i){var a=this,h=a.display;if(!(Ct(a,i)||h.activeTouch&&h.input.supportsTouch())){if(h.input.ensurePolled(),h.shift=i.shiftKey,vi(h,i)){p||(h.scroller.draggable=!1,setTimeout(function(){return h.scroller.draggable=!0},100));return}if(!Mh(a,i)){var c=Mo(a,i),g=Er(i),y=c?fx(c,g):"single";ce(a).focus(),g==1&&a.state.selectingText&&a.state.selectingText(i),!(c&&cx(a,g,c,y,i))&&(g==1?c?dx(a,c,y,i):Da(i)==h.scroller&&Rt(i):g==2?(c&&Su(a.doc,c),setTimeout(function(){return h.input.focus()},20)):g==3&&(J?a.display.input.onContextMenu(i):fh(a)))}}}function cx(i,a,h,c,g){var y="Click";return c=="double"?y="Double"+y:c=="triple"&&(y="Triple"+y),y=(a==1?"Left":a==2?"Middle":"Right")+y,Ga(i,Rv(y,g),g,function(S){if(typeof S=="string"&&(S=Ka[S]),!S)return!1;var E=!1;try{i.isReadOnly()&&(i.state.suppressEdits=!0),E=S(i,h)!=Be}finally{i.state.suppressEdits=!1}return E})}function hx(i,a,h){var c=i.getOption("configureMouse"),g=c?c(i,a,h):{};if(g.unit==null){var y=T?h.shiftKey&&h.metaKey:h.altKey;g.unit=y?"rectangle":a=="single"?"char":a=="double"?"word":"line"}return(g.extend==null||i.doc.extend)&&(g.extend=i.doc.extend||h.shiftKey),g.addNew==null&&(g.addNew=x?h.metaKey:h.ctrlKey),g.moveOnDrag==null&&(g.moveOnDrag=!(x?h.altKey:h.ctrlKey)),g}function dx(i,a,h,c){f?setTimeout(ee(jm,i),0):i.curOp.focus=te(ae(i));var g=hx(i,h,c),y=i.doc.sel,S;i.options.dragDrop&&Wc&&!i.isReadOnly()&&h=="single"&&(S=y.contains(a))>-1&&(Oe((S=y.ranges[S]).from(),a)<0||a.xRel>0)&&(Oe(S.to(),a)>0||a.xRel<0)?px(i,c,a,g):gx(i,c,a,g)}function px(i,a,h,c){var g=i.display,y=!1,S=Zt(i,function(O){p&&(g.scroller.draggable=!1),i.state.draggingText=!1,i.state.delayingBlurEvent&&(i.hasFocus()?i.state.delayingBlurEvent=!1:fh(i)),qt(g.wrapper.ownerDocument,"mouseup",S),qt(g.wrapper.ownerDocument,"mousemove",E),qt(g.scroller,"dragstart",A),qt(g.scroller,"drop",S),y||(Rt(O),c.addNew||Su(i.doc,h,null,null,c.extend),p&&!k||f&&d==9?setTimeout(function(){g.wrapper.ownerDocument.body.focus({preventScroll:!0}),g.input.focus()},20):g.input.focus())}),E=function(O){y=y||Math.abs(a.clientX-O.clientX)+Math.abs(a.clientY-O.clientY)>=10},A=function(){return y=!0};p&&(g.scroller.draggable=!0),i.state.draggingText=S,S.copy=!c.moveOnDrag,He(g.wrapper.ownerDocument,"mouseup",S),He(g.wrapper.ownerDocument,"mousemove",E),He(g.scroller,"dragstart",A),He(g.scroller,"drop",S),i.state.delayingBlurEvent=!0,setTimeout(function(){return g.input.focus()},20),g.scroller.dragDrop&&g.scroller.dragDrop()}function jv(i,a,h){if(h=="char")return new dt(a,a);if(h=="word")return i.findWordAt(a);if(h=="line")return new dt(de(a.line,0),Qe(i.doc,de(a.line+1,0)));var c=h(i,a);return new dt(c.from,c.to)}function gx(i,a,h,c){f&&fh(i);var g=i.display,y=i.doc;Rt(a);var S,E,A=y.sel,O=A.ranges;if(c.addNew&&!c.extend?(E=y.sel.contains(h),E>-1?S=O[E]:S=new dt(h,h)):(S=y.sel.primary(),E=y.sel.primIndex),c.unit=="rectangle")c.addNew||(S=new dt(h,h)),h=Mo(i,a,!0,!0),E=-1;else{var K=jv(i,h,c.unit);c.extend?S=Ch(S,K.anchor,K.head,c.extend):S=K}c.addNew?E==-1?(E=O.length,pn(y,Fr(i,O.concat([S]),E),{scroll:!1,origin:"*mouse"})):O.length>1&&O[E].empty()&&c.unit=="char"&&!c.extend?(pn(y,Fr(i,O.slice(0,E).concat(O.slice(E+1)),0),{scroll:!1,origin:"*mouse"}),A=y.sel):xh(y,E,S,$e):(E=0,pn(y,new sr([S],0),$e),A=y.sel);var Z=h;function ie(Te){if(Oe(Z,Te)!=0)if(Z=Te,c.unit=="rectangle"){for(var Re=[],Ve=i.options.tabSize,We=he(ze(y,h.line).text,h.ch,Ve),et=he(ze(y,Te.line).text,Te.ch,Ve),St=Math.min(We,et),tn=Math.max(We,et),Ft=Math.min(h.line,Te.line),Xn=Math.min(i.lastLine(),Math.max(h.line,Te.line));Ft<=Xn;Ft++){var _n=ze(y,Ft).text,Wt=Ke(_n,St,Ve);St==tn?Re.push(new dt(de(Ft,Wt),de(Ft,Wt))):_n.length>Wt&&Re.push(new dt(de(Ft,Wt),de(Ft,Ke(_n,tn,Ve))))}Re.length||Re.push(new dt(h,h)),pn(y,Fr(i,A.ranges.slice(0,E).concat(Re),E),{origin:"*mouse",scroll:!1}),i.scrollIntoView(Te)}else{var $n=S,ln=jv(i,Te,c.unit),Gt=$n.anchor,jt;Oe(ln.anchor,Gt)>0?(jt=ln.head,Gt=ms($n.from(),ln.anchor)):(jt=ln.anchor,Gt=In($n.to(),ln.head));var Bt=A.ranges.slice(0);Bt[E]=mx(i,new dt(Qe(y,Gt),jt)),pn(y,Fr(i,Bt,E),$e)}}var ne=g.wrapper.getBoundingClientRect(),ge=0;function be(Te){var Re=++ge,Ve=Mo(i,Te,!0,c.unit=="rectangle");if(Ve)if(Oe(Ve,Z)!=0){i.curOp.focus=te(ae(i)),ie(Ve);var We=mu(g,y);(Ve.line>=We.to||Ve.line<We.from)&&setTimeout(Zt(i,function(){ge==Re&&be(Te)}),150)}else{var et=Te.clientY<ne.top?-20:Te.clientY>ne.bottom?20:0;et&&setTimeout(Zt(i,function(){ge==Re&&(g.scroller.scrollTop+=et,be(Te))}),50)}}function xe(Te){i.state.selectingText=!1,ge=1/0,Te&&(Rt(Te),g.input.focus()),qt(g.wrapper.ownerDocument,"mousemove",Ae),qt(g.wrapper.ownerDocument,"mouseup",Ne),y.history.lastSelOrigin=null}var Ae=Zt(i,function(Te){Te.buttons===0||!Er(Te)?xe(Te):be(Te)}),Ne=Zt(i,xe);i.state.selectingText=Ne,He(g.wrapper.ownerDocument,"mousemove",Ae),He(g.wrapper.ownerDocument,"mouseup",Ne)}function mx(i,a){var h=a.anchor,c=a.head,g=ze(i.doc,h.line);if(Oe(h,c)==0&&h.sticky==c.sticky)return a;var y=je(g);if(!y)return a;var S=Mt(y,h.ch,h.sticky),E=y[S];if(E.from!=h.ch&&E.to!=h.ch)return a;var A=S+(E.from==h.ch==(E.level!=1)?0:1);if(A==0||A==y.length)return a;var O;if(c.line!=h.line)O=(c.line-h.line)*(i.doc.direction=="ltr"?1:-1)>0;else{var K=Mt(y,c.ch,c.sticky),Z=K-S||(c.ch-h.ch)*(E.level==1?-1:1);K==A-1||K==A?O=Z<0:O=Z>0}var ie=y[A+(O?-1:0)],ne=O==(ie.level==1),ge=ne?ie.from:ie.to,be=ne?"after":"before";return h.ch==ge&&h.sticky==be?a:new dt(new de(h.line,ge,be),c)}function Uv(i,a,h,c){var g,y;if(a.touches)g=a.touches[0].clientX,y=a.touches[0].clientY;else try{g=a.clientX,y=a.clientY}catch{return!1}if(g>=Math.floor(i.display.gutters.getBoundingClientRect().right))return!1;c&&Rt(a);var S=i.display,E=S.lineDiv.getBoundingClientRect();if(y>E.bottom||!Kt(i,h))return Bn(a);y-=E.top-S.viewOffset;for(var A=0;A<i.display.gutterSpecs.length;++A){var O=S.gutters.childNodes[A];if(O&&O.getBoundingClientRect().right>=g){var K=Q(i.doc,y),Z=i.display.gutterSpecs[A];return kt(i,h,i,K,Z.className,a),Bn(a)}}}function Mh(i,a){return Uv(i,a,"gutterClick",!0)}function Vv(i,a){vi(i.display,a)||vx(i,a)||Ct(i,a,"contextmenu")||J||i.display.input.onContextMenu(a)}function vx(i,a){return Kt(i,"gutterContextMenu")?Uv(i,a,"gutterContextMenu",!1):!1}function qv(i){i.display.wrapper.className=i.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+i.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Ma(i)}var Ns={toString:function(){return"CodeMirror.Init"}},Kv={},Ou={};function yx(i){var a=i.optionHandlers;function h(c,g,y,S){i.defaults[c]=g,y&&(a[c]=S?function(E,A,O){O!=Ns&&y(E,A,O)}:y)}i.defineOption=h,i.Init=Ns,h("value","",function(c,g){return c.setValue(g)},!0),h("mode",null,function(c,g){c.doc.modeOption=g,wh(c)},!0),h("indentUnit",2,wh,!0),h("indentWithTabs",!1),h("smartIndent",!0),h("tabSize",4,function(c){za(c),Ma(c),Pn(c)},!0),h("lineSeparator",null,function(c,g){if(c.doc.lineSep=g,!!g){var y=[],S=c.doc.first;c.doc.iter(function(A){for(var O=0;;){var K=A.text.indexOf(g,O);if(K==-1)break;O=K+g.length,y.push(de(S,K))}S++});for(var E=y.length-1;E>=0;E--)Ts(c.doc,g,y[E],de(y[E].line,y[E].ch+g.length))}}),h("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(c,g,y){c.state.specialChars=new RegExp(g.source+(g.test("	")?"":"|	"),"g"),y!=Ns&&c.refresh()}),h("specialCharPlaceholder",KS,function(c){return c.refresh()},!0),h("electricChars",!0),h("inputStyle",b?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),h("spellcheck",!1,function(c,g){return c.getInputField().spellcheck=g},!0),h("autocorrect",!1,function(c,g){return c.getInputField().autocorrect=g},!0),h("autocapitalize",!1,function(c,g){return c.getInputField().autocapitalize=g},!0),h("rtlMoveVisually",!B),h("wholeLineUpdateBefore",!0),h("theme","default",function(c){qv(c),Pa(c)},!0),h("keyMap","default",function(c,g,y){var S=Au(g),E=y!=Ns&&Au(y);E&&E.detach&&E.detach(c,S),S.attach&&S.attach(c,E||null)}),h("extraKeys",null),h("configureMouse",null),h("lineWrapping",!1,wx,!0),h("gutters",[],function(c,g){c.display.gutterSpecs=yh(g,c.options.lineNumbers),Pa(c)},!0),h("fixedGutter",!0,function(c,g){c.display.gutters.style.left=g?sh(c.display)+"px":"0",c.refresh()},!0),h("coverGutterNextToScrollbar",!1,function(c){return xs(c)},!0),h("scrollbarStyle","native",function(c){Jm(c),xs(c),c.display.scrollbars.setScrollTop(c.doc.scrollTop),c.display.scrollbars.setScrollLeft(c.doc.scrollLeft)},!0),h("lineNumbers",!1,function(c,g){c.display.gutterSpecs=yh(c.options.gutters,g),Pa(c)},!0),h("firstLineNumber",1,Pa,!0),h("lineNumberFormatter",function(c){return c},Pa,!0),h("showCursorWhenSelecting",!1,Fa,!0),h("resetSelectionOnContextMenu",!0),h("lineWiseCopyCut",!0),h("pasteLinesPerSelection",!0),h("selectionsMayTouch",!1),h("readOnly",!1,function(c,g){g=="nocursor"&&(Ss(c),c.display.input.blur()),c.display.input.readOnlyChanged(g)}),h("screenReaderLabel",null,function(c,g){g=g===""?null:g,c.display.input.screenReaderLabelChanged(g)}),h("disableInput",!1,function(c,g){g||c.display.input.reset()},!0),h("dragDrop",!0,bx),h("allowDropFileTypes",null),h("cursorBlinkRate",530),h("cursorScrollMargin",0),h("cursorHeight",1,Fa,!0),h("singleCursorHeightPerLine",!0,Fa,!0),h("workTime",100),h("workDelay",100),h("flattenSpans",!0,za,!0),h("addModeClass",!1,za,!0),h("pollInterval",100),h("undoDepth",200,function(c,g){return c.doc.history.undoDepth=g}),h("historyEventDelay",1250),h("viewportMargin",10,function(c){return c.refresh()},!0),h("maxHighlightLength",1e4,za,!0),h("moveInputWithCursor",!0,function(c,g){g||c.display.input.resetPosition()}),h("tabindex",null,function(c,g){return c.display.input.getField().tabIndex=g||""}),h("autofocus",null),h("direction","ltr",function(c,g){return c.doc.setDirection(g)},!0),h("phrases",null)}function bx(i,a,h){var c=h&&h!=Ns;if(!a!=!c){var g=i.display.dragFunctions,y=a?He:qt;y(i.display.scroller,"dragstart",g.start),y(i.display.scroller,"dragenter",g.enter),y(i.display.scroller,"dragover",g.over),y(i.display.scroller,"dragleave",g.leave),y(i.display.scroller,"drop",g.drop)}}function wx(i){i.options.lineWrapping?(se(i.display.wrapper,"CodeMirror-wrap"),i.display.sizer.style.minWidth="",i.display.sizerWidth=null):(H(i.display.wrapper,"CodeMirror-wrap"),Yc(i)),ah(i),Pn(i),Ma(i),setTimeout(function(){return xs(i)},100)}function At(i,a){var h=this;if(!(this instanceof At))return new At(i,a);this.options=a=a?ue(a):{},ue(Kv,a,!1);var c=a.value;typeof c=="string"?c=new zn(c,a.mode,null,a.lineSeparator,a.direction):a.mode&&(c.modeOption=a.mode),this.doc=c;var g=new At.inputStyles[a.inputStyle](this),y=this.display=new RC(i,c,g,a);y.wrapper.CodeMirror=this,qv(this),a.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Jm(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new ve,keySeq:null,specialChars:null},a.autofocus&&!b&&y.input.focus(),f&&d<11&&setTimeout(function(){return h.display.input.reset(!0)},20),Dx(this),QC(),Lo(this),this.curOp.forceUpdate=!0,ov(this,c),a.autofocus&&!b||this.hasFocus()?setTimeout(function(){h.hasFocus()&&!h.state.focused&&ch(h)},20):Ss(this);for(var S in Ou)Ou.hasOwnProperty(S)&&Ou[S](this,a[S],Ns);Qm(this),a.finishInit&&a.finishInit(this);for(var E=0;E<Fh.length;++E)Fh[E](this);Bo(this),p&&a.lineWrapping&&getComputedStyle(y.lineDiv).textRendering=="optimizelegibility"&&(y.lineDiv.style.textRendering="auto")}At.defaults=Kv,At.optionHandlers=Ou;function Dx(i){var a=i.display;He(a.scroller,"mousedown",Zt(i,Wv)),f&&d<11?He(a.scroller,"dblclick",Zt(i,function(A){if(!Ct(i,A)){var O=Mo(i,A);if(!(!O||Mh(i,A)||vi(i.display,A))){Rt(A);var K=i.findWordAt(O);Su(i.doc,K.anchor,K.head)}}})):He(a.scroller,"dblclick",function(A){return Ct(i,A)||Rt(A)}),He(a.scroller,"contextmenu",function(A){return Vv(i,A)}),He(a.input.getField(),"contextmenu",function(A){a.scroller.contains(A.target)||Vv(i,A)});var h,c={end:0};function g(){a.activeTouch&&(h=setTimeout(function(){return a.activeTouch=null},1e3),c=a.activeTouch,c.end=+new Date)}function y(A){if(A.touches.length!=1)return!1;var O=A.touches[0];return O.radiusX<=1&&O.radiusY<=1}function S(A,O){if(O.left==null)return!0;var K=O.left-A.left,Z=O.top-A.top;return K*K+Z*Z>20*20}He(a.scroller,"touchstart",function(A){if(!Ct(i,A)&&!y(A)&&!Mh(i,A)){a.input.ensurePolled(),clearTimeout(h);var O=+new Date;a.activeTouch={start:O,moved:!1,prev:O-c.end<=300?c:null},A.touches.length==1&&(a.activeTouch.left=A.touches[0].pageX,a.activeTouch.top=A.touches[0].pageY)}}),He(a.scroller,"touchmove",function(){a.activeTouch&&(a.activeTouch.moved=!0)}),He(a.scroller,"touchend",function(A){var O=a.activeTouch;if(O&&!vi(a,A)&&O.left!=null&&!O.moved&&new Date-O.start<300){var K=i.coordsChar(a.activeTouch,"page"),Z;!O.prev||S(O,O.prev)?Z=new dt(K,K):!O.prev.prev||S(O,O.prev.prev)?Z=i.findWordAt(K):Z=new dt(de(K.line,0),Qe(i.doc,de(K.line+1,0))),i.setSelection(Z.anchor,Z.head),i.focus(),Rt(A)}g()}),He(a.scroller,"touchcancel",g),He(a.scroller,"scroll",function(){a.scroller.clientHeight&&(Ra(i,a.scroller.scrollTop),No(i,a.scroller.scrollLeft,!0),kt(i,"scroll",i))}),He(a.scroller,"mousewheel",function(A){return tv(i,A)}),He(a.scroller,"DOMMouseScroll",function(A){return tv(i,A)}),He(a.wrapper,"scroll",function(){return a.wrapper.scrollTop=a.wrapper.scrollLeft=0}),a.dragFunctions={enter:function(A){Ct(i,A)||zi(A)},over:function(A){Ct(i,A)||(XC(i,A),zi(A))},start:function(A){return YC(i,A)},drop:Zt(i,JC),leave:function(A){Ct(i,A)||Ov(i)}};var E=a.input.getField();He(E,"keyup",function(A){return $v.call(i,A)}),He(E,"keydown",Zt(i,_v)),He(E,"keypress",Zt(i,Hv)),He(E,"focus",function(A){return ch(i,A)}),He(E,"blur",function(A){return Ss(i,A)})}var Fh=[];At.defineInitHook=function(i){return Fh.push(i)};function Xa(i,a,h,c){var g=i.doc,y;h==null&&(h="add"),h=="smart"&&(g.mode.indent?y=Ea(i,a).state:h="prev");var S=i.options.tabSize,E=ze(g,a),A=he(E.text,null,S);E.stateAfter&&(E.stateAfter=null);var O=E.text.match(/^\s*/)[0],K;if(!c&&!/\S/.test(E.text))K=0,h="not";else if(h=="smart"&&(K=g.mode.indent(y,E.text.slice(O.length),E.text),K==Be||K>150)){if(!c)return;h="prev"}h=="prev"?a>g.first?K=he(ze(g,a-1).text,null,S):K=0:h=="add"?K=A+i.options.indentUnit:h=="subtract"?K=A-i.options.indentUnit:typeof h=="number"&&(K=A+h),K=Math.max(0,K);var Z="",ie=0;if(i.options.indentWithTabs)for(var ne=Math.floor(K/S);ne;--ne)ie+=S,Z+="	";if(ie<K&&(Z+=Et(K-ie)),Z!=O)return Ts(g,Z,de(a,0),de(a,O.length),"+input"),E.stateAfter=null,!0;for(var ge=0;ge<g.sel.ranges.length;ge++){var be=g.sel.ranges[ge];if(be.head.line==a&&be.head.ch<O.length){var xe=de(a,O.length);xh(g,ge,new dt(xe,xe));break}}}var Nr=null;function Mu(i){Nr=i}function Nh(i,a,h,c,g){var y=i.doc;i.display.shift=!1,c||(c=y.sel);var S=+new Date-200,E=g=="paste"||i.state.pasteIncoming>S,A=gr(a),O=null;if(E&&c.ranges.length>1)if(Nr&&Nr.text.join(`
`)==a){if(c.ranges.length%Nr.text.length==0){O=[];for(var K=0;K<Nr.text.length;K++)O.push(y.splitLines(Nr.text[K]))}}else A.length==c.ranges.length&&i.options.pasteLinesPerSelection&&(O=Y(A,function(Ae){return[Ae]}));for(var Z=i.curOp.updateInput,ie=c.ranges.length-1;ie>=0;ie--){var ne=c.ranges[ie],ge=ne.from(),be=ne.to();ne.empty()&&(h&&h>0?ge=de(ge.line,ge.ch-h):i.state.overwrite&&!E?be=de(be.line,Math.min(ze(y,be.line).text.length,be.ch+L(A).length)):E&&Nr&&Nr.lineWise&&Nr.text.join(`
`)==A.join(`
`)&&(ge=be=de(ge.line,0)));var xe={from:ge,to:be,text:O?O[ie%O.length]:A,origin:g||(E?"paste":i.state.cutIncoming>S?"cut":"+input")};As(i.doc,xe),Qt(i,"inputRead",i,xe)}a&&!E&&Jv(i,a),Cs(i),i.curOp.updateInput<2&&(i.curOp.updateInput=Z),i.curOp.typing=!0,i.state.pasteIncoming=i.state.cutIncoming=-1}function Gv(i,a){var h=i.clipboardData&&i.clipboardData.getData("Text");if(h)return i.preventDefault(),!a.isReadOnly()&&!a.options.disableInput&&a.hasFocus()&&Yn(a,function(){return Nh(a,h,0,null,"paste")}),!0}function Jv(i,a){if(!(!i.options.electricChars||!i.options.smartIndent))for(var h=i.doc.sel,c=h.ranges.length-1;c>=0;c--){var g=h.ranges[c];if(!(g.head.ch>100||c&&h.ranges[c-1].head.line==g.head.line)){var y=i.getModeAt(g.head),S=!1;if(y.electricChars){for(var E=0;E<y.electricChars.length;E++)if(a.indexOf(y.electricChars.charAt(E))>-1){S=Xa(i,g.head.line,"smart");break}}else y.electricInput&&y.electricInput.test(ze(i.doc,g.head.line).text.slice(0,g.head.ch))&&(S=Xa(i,g.head.line,"smart"));S&&Qt(i,"electricInput",i,g.head.line)}}}function Yv(i){for(var a=[],h=[],c=0;c<i.doc.sel.ranges.length;c++){var g=i.doc.sel.ranges[c].head.line,y={anchor:de(g,0),head:de(g+1,0)};h.push(y),a.push(i.getRange(y.anchor,y.head))}return{text:a,ranges:h}}function Rh(i,a,h,c){i.setAttribute("autocorrect",h?"on":"off"),i.setAttribute("autocapitalize",c?"on":"off"),i.setAttribute("spellcheck",!!a)}function Xv(){var i=C("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),a=C("div",[i],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return p?i.style.width="1000px":i.setAttribute("wrap","off"),I&&(i.style.border="1px solid black"),a}function Sx(i){var a=i.optionHandlers,h=i.helpers={};i.prototype={constructor:i,focus:function(){ce(this).focus(),this.display.input.focus()},setOption:function(c,g){var y=this.options,S=y[c];y[c]==g&&c!="mode"||(y[c]=g,a.hasOwnProperty(c)&&Zt(this,a[c])(this,g,S),kt(this,"optionChange",this,c))},getOption:function(c){return this.options[c]},getDoc:function(){return this.doc},addKeyMap:function(c,g){this.state.keyMaps[g?"push":"unshift"](Au(c))},removeKeyMap:function(c){for(var g=this.state.keyMaps,y=0;y<g.length;++y)if(g[y]==c||g[y].name==c)return g.splice(y,1),!0},addOverlay:En(function(c,g){var y=c.token?c:i.getMode(this.options,c);if(y.startState)throw new Error("Overlays may not be stateful.");P(this.state.overlays,{mode:y,modeSpec:c,opaque:g&&g.opaque,priority:g&&g.priority||0},function(S){return S.priority}),this.state.modeGen++,Pn(this)}),removeOverlay:En(function(c){for(var g=this.state.overlays,y=0;y<g.length;++y){var S=g[y].modeSpec;if(S==c||typeof c=="string"&&S.name==c){g.splice(y,1),this.state.modeGen++,Pn(this);return}}}),indentLine:En(function(c,g,y){typeof g!="string"&&typeof g!="number"&&(g==null?g=this.options.smartIndent?"smart":"prev":g=g?"add":"subtract"),ye(this.doc,c)&&Xa(this,c,g,y)}),indentSelection:En(function(c){for(var g=this.doc.sel.ranges,y=-1,S=0;S<g.length;S++){var E=g[S];if(E.empty())E.head.line>y&&(Xa(this,E.head.line,c,!0),y=E.head.line,S==this.doc.sel.primIndex&&Cs(this));else{var A=E.from(),O=E.to(),K=Math.max(y,A.line);y=Math.min(this.lastLine(),O.line-(O.ch?0:1))+1;for(var Z=K;Z<y;++Z)Xa(this,Z,c);var ie=this.doc.sel.ranges;A.ch==0&&g.length==ie.length&&ie[S].from().ch>0&&xh(this.doc,S,new dt(A,ie[S].to()),Ie)}}}),getTokenAt:function(c,g){return am(this,c,g)},getLineTokens:function(c,g){return am(this,de(c),g,!0)},getTokenTypeAt:function(c){c=Qe(this.doc,c);var g=im(this,ze(this.doc,c.line)),y=0,S=(g.length-1)/2,E=c.ch,A;if(E==0)A=g[2];else for(;;){var O=y+S>>1;if((O?g[O*2-1]:0)>=E)S=O;else if(g[O*2+1]<E)y=O+1;else{A=g[O*2+2];break}}var K=A?A.indexOf("overlay "):-1;return K<0?A:K==0?null:A.slice(0,K-1)},getModeAt:function(c){var g=this.doc.mode;return g.innerMode?i.innerMode(g,this.getTokenAt(c).state).mode:g},getHelper:function(c,g){return this.getHelpers(c,g)[0]},getHelpers:function(c,g){var y=[];if(!h.hasOwnProperty(g))return y;var S=h[g],E=this.getModeAt(c);if(typeof E[g]=="string")S[E[g]]&&y.push(S[E[g]]);else if(E[g])for(var A=0;A<E[g].length;A++){var O=S[E[g][A]];O&&y.push(O)}else E.helperType&&S[E.helperType]?y.push(S[E.helperType]):S[E.name]&&y.push(S[E.name]);for(var K=0;K<S._global.length;K++){var Z=S._global[K];Z.pred(E,this)&&we(y,Z.val)==-1&&y.push(Z.val)}return y},getStateAfter:function(c,g){var y=this.doc;return c=tm(y,c??y.first+y.size-1),Ea(this,c+1,g).state},cursorCoords:function(c,g){var y,S=this.doc.sel.primary();return c==null?y=S.head:typeof c=="object"?y=Qe(this.doc,c):y=c?S.from():S.to(),Mr(this,y,g||"page")},charCoords:function(c,g){return hu(this,Qe(this.doc,c),g||"page")},coordsChar:function(c,g){return c=Im(this,c,g||"page"),rh(this,c.left,c.top)},lineAtHeight:function(c,g){return c=Im(this,{top:c,left:0},g||"page").top,Q(this.doc,c+this.display.viewOffset)},heightAtLine:function(c,g,y){var S=!1,E;if(typeof c=="number"){var A=this.doc.first+this.doc.size-1;c<this.doc.first?c=this.doc.first:c>A&&(c=A,S=!0),E=ze(this.doc,c)}else E=c;return cu(this,E,{top:0,left:0},g||"page",y||S).top+(S?this.doc.height-mi(E):0)},defaultTextHeight:function(){return ws(this.display)},defaultCharWidth:function(){return Ds(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(c,g,y,S,E){var A=this.display;c=Mr(this,Qe(this.doc,c));var O=c.bottom,K=c.left;if(g.style.position="absolute",g.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(g),A.sizer.appendChild(g),S=="over")O=c.top;else if(S=="above"||S=="near"){var Z=Math.max(A.wrapper.clientHeight,this.doc.height),ie=Math.max(A.sizer.clientWidth,A.lineSpace.clientWidth);(S=="above"||c.bottom+g.offsetHeight>Z)&&c.top>g.offsetHeight?O=c.top-g.offsetHeight:c.bottom+g.offsetHeight<=Z&&(O=c.bottom),K+g.offsetWidth>ie&&(K=ie-g.offsetWidth)}g.style.top=O+"px",g.style.left=g.style.right="",E=="right"?(K=A.sizer.clientWidth-g.offsetWidth,g.style.right="0px"):(E=="left"?K=0:E=="middle"&&(K=(A.sizer.clientWidth-g.offsetWidth)/2),g.style.left=K+"px"),y&&bC(this,{left:K,top:O,right:K+g.offsetWidth,bottom:O+g.offsetHeight})},triggerOnKeyDown:En(_v),triggerOnKeyPress:En(Hv),triggerOnKeyUp:$v,triggerOnMouseDown:En(Wv),execCommand:function(c){if(Ka.hasOwnProperty(c))return Ka[c].call(null,this)},triggerElectric:En(function(c){Jv(this,c)}),findPosH:function(c,g,y,S){var E=1;g<0&&(E=-1,g=-g);for(var A=Qe(this.doc,c),O=0;O<g&&(A=Lh(this.doc,A,E,y,S),!A.hitSide);++O);return A},moveH:En(function(c,g){var y=this;this.extendSelectionsBy(function(S){return y.display.shift||y.doc.extend||S.empty()?Lh(y.doc,S.head,c,g,y.options.rtlMoveVisually):c<0?S.from():S.to()},Ge)}),deleteH:En(function(c,g){var y=this.doc.sel,S=this.doc;y.somethingSelected()?S.replaceSelection("",null,"+delete"):Fs(this,function(E){var A=Lh(S,E.head,c,g,!1);return c<0?{from:A,to:E.head}:{from:E.head,to:A}})}),findPosV:function(c,g,y,S){var E=1,A=S;g<0&&(E=-1,g=-g);for(var O=Qe(this.doc,c),K=0;K<g;++K){var Z=Mr(this,O,"div");if(A==null?A=Z.left:Z.left=A,O=Qv(this,Z,E,y),O.hitSide)break}return O},moveV:En(function(c,g){var y=this,S=this.doc,E=[],A=!this.display.shift&&!S.extend&&S.sel.somethingSelected();if(S.extendSelectionsBy(function(K){if(A)return c<0?K.from():K.to();var Z=Mr(y,K.head,"div");K.goalColumn!=null&&(Z.left=K.goalColumn),E.push(Z.left);var ie=Qv(y,Z,c,g);return g=="page"&&K==S.sel.primary()&&dh(y,hu(y,ie,"div").top-Z.top),ie},Ge),E.length)for(var O=0;O<S.sel.ranges.length;O++)S.sel.ranges[O].goalColumn=E[O]}),findWordAt:function(c){var g=this.doc,y=ze(g,c.line).text,S=c.ch,E=c.ch;if(y){var A=this.getHelper(c,"wordChars");(c.sticky=="before"||E==y.length)&&S?--S:++E;for(var O=y.charAt(S),K=Se(O,A)?function(Z){return Se(Z,A)}:/\s/.test(O)?function(Z){return/\s/.test(Z)}:function(Z){return!/\s/.test(Z)&&!Se(Z)};S>0&&K(y.charAt(S-1));)--S;for(;E<y.length&&K(y.charAt(E));)++E}return new dt(de(c.line,S),de(c.line,E))},toggleOverwrite:function(c){c!=null&&c==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?se(this.display.cursorDiv,"CodeMirror-overwrite"):H(this.display.cursorDiv,"CodeMirror-overwrite"),kt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==te(ae(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:En(function(c,g){Na(this,c,g)}),getScrollInfo:function(){var c=this.display.scroller;return{left:c.scrollLeft,top:c.scrollTop,height:c.scrollHeight-Ur(this)-this.display.barHeight,width:c.scrollWidth-Ur(this)-this.display.barWidth,clientHeight:Zc(this),clientWidth:To(this)}},scrollIntoView:En(function(c,g){c==null?(c={from:this.doc.sel.primary().head,to:null},g==null&&(g=this.options.cursorScrollMargin)):typeof c=="number"?c={from:de(c,0),to:null}:c.from==null&&(c={from:c,to:null}),c.to||(c.to=c.from),c.margin=g||0,c.from.line!=null?wC(this,c):Vm(this,c.from,c.to,c.margin)}),setSize:En(function(c,g){var y=this,S=function(A){return typeof A=="number"||/^\d+$/.test(String(A))?A+"px":A};c!=null&&(this.display.wrapper.style.width=S(c)),g!=null&&(this.display.wrapper.style.height=S(g)),this.options.lineWrapping&&Rm(this);var E=this.display.viewFrom;this.doc.iter(E,this.display.viewTo,function(A){if(A.widgets){for(var O=0;O<A.widgets.length;O++)if(A.widgets[O].noHScroll){ji(y,E,"widget");break}}++E}),this.curOp.forceUpdate=!0,kt(this,"refresh",this)}),operation:function(c){return Yn(this,c)},startOperation:function(){return Lo(this)},endOperation:function(){return Bo(this)},refresh:En(function(){var c=this.display.cachedTextHeight;Pn(this),this.curOp.forceUpdate=!0,Ma(this),Na(this,this.doc.scrollLeft,this.doc.scrollTop),mh(this.display),(c==null||Math.abs(c-ws(this.display))>.5||this.options.lineWrapping)&&ah(this),kt(this,"refresh",this)}),swapDoc:En(function(c){var g=this.doc;return g.cm=null,this.state.selectingText&&this.state.selectingText(),ov(this,c),Ma(this),this.display.input.reset(),Na(this,c.scrollLeft,c.scrollTop),this.curOp.forceScroll=!0,Qt(this,"swapDoc",this,g),g}),phrase:function(c){var g=this.options.phrases;return g&&Object.prototype.hasOwnProperty.call(g,c)?g[c]:c},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Jn(i),i.registerHelper=function(c,g,y){h.hasOwnProperty(c)||(h[c]=i[c]={_global:[]}),h[c][g]=y},i.registerGlobalHelper=function(c,g,y,S){i.registerHelper(c,g,S),h[c]._global.push({pred:y,val:S})}}function Lh(i,a,h,c,g){var y=a,S=h,E=ze(i,a.line),A=g&&i.direction=="rtl"?-h:h;function O(){var Ne=a.line+A;return Ne<i.first||Ne>=i.first+i.size?!1:(a=new de(Ne,a.ch,a.sticky),E=ze(i,Ne))}function K(Ne){var Te;if(c=="codepoint"){var Re=E.text.charCodeAt(a.ch+(h>0?0:-1));if(isNaN(Re))Te=null;else{var Ve=h>0?Re>=55296&&Re<56320:Re>=56320&&Re<57343;Te=new de(a.line,Math.max(0,Math.min(E.text.length,a.ch+h*(Ve?2:1))),-h)}}else g?Te=rx(i.cm,E,a,h):Te=kh(E,a,h);if(Te==null)if(!Ne&&O())a=Ah(g,i.cm,E,a.line,A);else return!1;else a=Te;return!0}if(c=="char"||c=="codepoint")K();else if(c=="column")K(!0);else if(c=="word"||c=="group")for(var Z=null,ie=c=="group",ne=i.cm&&i.cm.getHelper(a,"wordChars"),ge=!0;!(h<0&&!K(!ge));ge=!1){var be=E.text.charAt(a.ch)||`
`,xe=Se(be,ne)?"w":ie&&be==`
`?"n":!ie||/\s/.test(be)?null:"p";if(ie&&!ge&&!xe&&(xe="s"),Z&&Z!=xe){h<0&&(h=1,K(),a.sticky="after");break}if(xe&&(Z=xe),h>0&&!K(!ge))break}var Ae=xu(i,a,y,S,!0);return ht(y,Ae)&&(Ae.hitSide=!0),Ae}function Qv(i,a,h,c){var g=i.doc,y=a.left,S;if(c=="page"){var E=Math.min(i.display.wrapper.clientHeight,ce(i).innerHeight||g(i).documentElement.clientHeight),A=Math.max(E-.5*ws(i.display),3);S=(h>0?a.bottom:a.top)+h*A}else c=="line"&&(S=h>0?a.bottom+3:a.top-3);for(var O;O=rh(i,y,S),!!O.outside;){if(h<0?S<=0:S>=g.height){O.hitSide=!0;break}S+=h*5}return O}var bt=function(i){this.cm=i,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new ve,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};bt.prototype.init=function(i){var a=this,h=this,c=h.cm,g=h.div=i.lineDiv;g.contentEditable=!0,Rh(g,c.options.spellcheck,c.options.autocorrect,c.options.autocapitalize);function y(E){for(var A=E.target;A;A=A.parentNode){if(A==g)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(A.className))break}return!1}He(g,"paste",function(E){!y(E)||Ct(c,E)||Gv(E,c)||d<=11&&setTimeout(Zt(c,function(){return a.updateFromDOM()}),20)}),He(g,"compositionstart",function(E){a.composing={data:E.data,done:!1}}),He(g,"compositionupdate",function(E){a.composing||(a.composing={data:E.data,done:!1})}),He(g,"compositionend",function(E){a.composing&&(E.data!=a.composing.data&&a.readFromDOMSoon(),a.composing.done=!0)}),He(g,"touchstart",function(){return h.forceCompositionEnd()}),He(g,"input",function(){a.composing||a.readFromDOMSoon()});function S(E){if(!(!y(E)||Ct(c,E))){if(c.somethingSelected())Mu({lineWise:!1,text:c.getSelections()}),E.type=="cut"&&c.replaceSelection("",null,"cut");else if(c.options.lineWiseCopyCut){var A=Yv(c);Mu({lineWise:!0,text:A.text}),E.type=="cut"&&c.operation(function(){c.setSelections(A.ranges,0,Ie),c.replaceSelection("",null,"cut")})}else return;if(E.clipboardData){E.clipboardData.clearData();var O=Nr.text.join(`
`);if(E.clipboardData.setData("Text",O),E.clipboardData.getData("Text")==O){E.preventDefault();return}}var K=Xv(),Z=K.firstChild;Rh(Z),c.display.lineSpace.insertBefore(K,c.display.lineSpace.firstChild),Z.value=Nr.text.join(`
`);var ie=te(fe(g));oe(Z),setTimeout(function(){c.display.lineSpace.removeChild(K),ie.focus(),ie==g&&h.showPrimarySelection()},50)}}He(g,"copy",S),He(g,"cut",S)},bt.prototype.screenReaderLabelChanged=function(i){i?this.div.setAttribute("aria-label",i):this.div.removeAttribute("aria-label")},bt.prototype.prepareSelection=function(){var i=Wm(this.cm,!1);return i.focus=te(fe(this.div))==this.div,i},bt.prototype.showSelection=function(i,a){!i||!this.cm.display.view.length||((i.focus||a)&&this.showPrimarySelection(),this.showMultipleSelections(i))},bt.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},bt.prototype.showPrimarySelection=function(){var i=this.getSelection(),a=this.cm,h=a.doc.sel.primary(),c=h.from(),g=h.to();if(a.display.viewTo==a.display.viewFrom||c.line>=a.display.viewTo||g.line<a.display.viewFrom){i.removeAllRanges();return}var y=Fu(a,i.anchorNode,i.anchorOffset),S=Fu(a,i.focusNode,i.focusOffset);if(!(y&&!y.bad&&S&&!S.bad&&Oe(ms(y,S),c)==0&&Oe(In(y,S),g)==0)){var E=a.display.view,A=c.line>=a.display.viewFrom&&Zv(a,c)||{node:E[0].measure.map[2],offset:0},O=g.line<a.display.viewTo&&Zv(a,g);if(!O){var K=E[E.length-1].measure,Z=K.maps?K.maps[K.maps.length-1]:K.map;O={node:Z[Z.length-1],offset:Z[Z.length-2]-Z[Z.length-3]}}if(!A||!O){i.removeAllRanges();return}var ie=i.rangeCount&&i.getRangeAt(0),ne;try{ne=W(A.node,A.offset,O.offset,O.node)}catch{}ne&&(!o&&a.state.focused?(i.collapse(A.node,A.offset),ne.collapsed||(i.removeAllRanges(),i.addRange(ne))):(i.removeAllRanges(),i.addRange(ne)),ie&&i.anchorNode==null?i.addRange(ie):o&&this.startGracePeriod()),this.rememberSelection()}},bt.prototype.startGracePeriod=function(){var i=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){i.gracePeriod=!1,i.selectionChanged()&&i.cm.operation(function(){return i.cm.curOp.selectionChanged=!0})},20)},bt.prototype.showMultipleSelections=function(i){_(this.cm.display.cursorDiv,i.cursors),_(this.cm.display.selectionDiv,i.selection)},bt.prototype.rememberSelection=function(){var i=this.getSelection();this.lastAnchorNode=i.anchorNode,this.lastAnchorOffset=i.anchorOffset,this.lastFocusNode=i.focusNode,this.lastFocusOffset=i.focusOffset},bt.prototype.selectionInEditor=function(){var i=this.getSelection();if(!i.rangeCount)return!1;var a=i.getRangeAt(0).commonAncestorContainer;return G(this.div,a)},bt.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||te(fe(this.div))!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},bt.prototype.blur=function(){this.div.blur()},bt.prototype.getField=function(){return this.div},bt.prototype.supportsTouch=function(){return!0},bt.prototype.receivedFocus=function(){var i=this,a=this;this.selectionInEditor()?setTimeout(function(){return i.pollSelection()},20):Yn(this.cm,function(){return a.cm.curOp.selectionChanged=!0});function h(){a.cm.state.focused&&(a.pollSelection(),a.polling.set(a.cm.options.pollInterval,h))}this.polling.set(this.cm.options.pollInterval,h)},bt.prototype.selectionChanged=function(){var i=this.getSelection();return i.anchorNode!=this.lastAnchorNode||i.anchorOffset!=this.lastAnchorOffset||i.focusNode!=this.lastFocusNode||i.focusOffset!=this.lastFocusOffset},bt.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var i=this.getSelection(),a=this.cm;if(z&&v&&this.cm.display.gutterSpecs.length&&Cx(i.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var h=Fu(a,i.anchorNode,i.anchorOffset),c=Fu(a,i.focusNode,i.focusOffset);h&&c&&Yn(a,function(){pn(a.doc,Vi(h,c),Ie),(h.bad||c.bad)&&(a.curOp.selectionChanged=!0)})}}},bt.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var i=this.cm,a=i.display,h=i.doc.sel.primary(),c=h.from(),g=h.to();if(c.ch==0&&c.line>i.firstLine()&&(c=de(c.line-1,ze(i.doc,c.line-1).length)),g.ch==ze(i.doc,g.line).text.length&&g.line<i.lastLine()&&(g=de(g.line+1,0)),c.line<a.viewFrom||g.line>a.viewTo-1)return!1;var y,S,E;c.line==a.viewFrom||(y=Fo(i,c.line))==0?(S=F(a.view[0].line),E=a.view[0].node):(S=F(a.view[y].line),E=a.view[y-1].node.nextSibling);var A=Fo(i,g.line),O,K;if(A==a.view.length-1?(O=a.viewTo-1,K=a.lineDiv.lastChild):(O=F(a.view[A+1].line)-1,K=a.view[A+1].node.previousSibling),!E)return!1;for(var Z=i.doc.splitLines(xx(i,E,K,S,O)),ie=pi(i.doc,de(S,0),de(O,ze(i.doc,O).text.length));Z.length>1&&ie.length>1;)if(L(Z)==L(ie))Z.pop(),ie.pop(),O--;else if(Z[0]==ie[0])Z.shift(),ie.shift(),S++;else break;for(var ne=0,ge=0,be=Z[0],xe=ie[0],Ae=Math.min(be.length,xe.length);ne<Ae&&be.charCodeAt(ne)==xe.charCodeAt(ne);)++ne;for(var Ne=L(Z),Te=L(ie),Re=Math.min(Ne.length-(Z.length==1?ne:0),Te.length-(ie.length==1?ne:0));ge<Re&&Ne.charCodeAt(Ne.length-ge-1)==Te.charCodeAt(Te.length-ge-1);)++ge;if(Z.length==1&&ie.length==1&&S==c.line)for(;ne&&ne>c.ch&&Ne.charCodeAt(Ne.length-ge-1)==Te.charCodeAt(Te.length-ge-1);)ne--,ge++;Z[Z.length-1]=Ne.slice(0,Ne.length-ge).replace(/^\u200b+/,""),Z[0]=Z[0].slice(ne).replace(/\u200b+$/,"");var Ve=de(S,ne),We=de(O,ie.length?L(ie).length-ge:0);if(Z.length>1||Z[0]||Oe(Ve,We))return Ts(i.doc,Z,Ve,We,"+input"),!0},bt.prototype.ensurePolled=function(){this.forceCompositionEnd()},bt.prototype.reset=function(){this.forceCompositionEnd()},bt.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},bt.prototype.readFromDOMSoon=function(){var i=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(i.readDOMTimeout=null,i.composing)if(i.composing.done)i.composing=null;else return;i.updateFromDOM()},80))},bt.prototype.updateFromDOM=function(){var i=this;(this.cm.isReadOnly()||!this.pollContent())&&Yn(this.cm,function(){return Pn(i.cm)})},bt.prototype.setUneditable=function(i){i.contentEditable="false"},bt.prototype.onKeyPress=function(i){i.charCode==0||this.composing||(i.preventDefault(),this.cm.isReadOnly()||Zt(this.cm,Nh)(this.cm,String.fromCharCode(i.charCode==null?i.keyCode:i.charCode),0))},bt.prototype.readOnlyChanged=function(i){this.div.contentEditable=String(i!="nocursor")},bt.prototype.onContextMenu=function(){},bt.prototype.resetPosition=function(){},bt.prototype.needsContentAttribute=!0;function Zv(i,a){var h=eh(i,a.line);if(!h||h.hidden)return null;var c=ze(i.doc,a.line),g=Tm(h,c,a.line),y=je(c,i.doc.direction),S="left";if(y){var E=Mt(y,a.ch);S=E%2?"right":"left"}var A=Fm(g.map,a.ch,S);return A.offset=A.collapse=="right"?A.end:A.start,A}function Cx(i){for(var a=i;a;a=a.parentNode)if(/CodeMirror-gutter-wrapper/.test(a.className))return!0;return!1}function Rs(i,a){return a&&(i.bad=!0),i}function xx(i,a,h,c,g){var y="",S=!1,E=i.doc.lineSeparator(),A=!1;function O(ne){return function(ge){return ge.id==ne}}function K(){S&&(y+=E,A&&(y+=E),S=A=!1)}function Z(ne){ne&&(K(),y+=ne)}function ie(ne){if(ne.nodeType==1){var ge=ne.getAttribute("cm-text");if(ge){Z(ge);return}var be=ne.getAttribute("cm-marker"),xe;if(be){var Ae=i.findMarks(de(c,0),de(g+1,0),O(+be));Ae.length&&(xe=Ae[0].find(0))&&Z(pi(i.doc,xe.from,xe.to).join(E));return}if(ne.getAttribute("contenteditable")=="false")return;var Ne=/^(pre|div|p|li|table|br)$/i.test(ne.nodeName);if(!/^br$/i.test(ne.nodeName)&&ne.textContent.length==0)return;Ne&&K();for(var Te=0;Te<ne.childNodes.length;Te++)ie(ne.childNodes[Te]);/^(pre|p)$/i.test(ne.nodeName)&&(A=!0),Ne&&(S=!0)}else ne.nodeType==3&&Z(ne.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;ie(a),a!=h;)a=a.nextSibling,A=!1;return y}function Fu(i,a,h){var c;if(a==i.display.lineDiv){if(c=i.display.lineDiv.childNodes[h],!c)return Rs(i.clipPos(de(i.display.viewTo-1)),!0);a=null,h=0}else for(c=a;;c=c.parentNode){if(!c||c==i.display.lineDiv)return null;if(c.parentNode&&c.parentNode==i.display.lineDiv)break}for(var g=0;g<i.display.view.length;g++){var y=i.display.view[g];if(y.node==c)return Ex(y,a,h)}}function Ex(i,a,h){var c=i.text.firstChild,g=!1;if(!a||!G(c,a))return Rs(de(F(i.line),0),!0);if(a==c&&(g=!0,a=c.childNodes[h],h=0,!a)){var y=i.rest?L(i.rest):i.line;return Rs(de(F(y),y.text.length),g)}var S=a.nodeType==3?a:null,E=a;for(!S&&a.childNodes.length==1&&a.firstChild.nodeType==3&&(S=a.firstChild,h&&(h=S.nodeValue.length));E.parentNode!=c;)E=E.parentNode;var A=i.measure,O=A.maps;function K(xe,Ae,Ne){for(var Te=-1;Te<(O?O.length:0);Te++)for(var Re=Te<0?A.map:O[Te],Ve=0;Ve<Re.length;Ve+=3){var We=Re[Ve+2];if(We==xe||We==Ae){var et=F(Te<0?i.line:i.rest[Te]),St=Re[Ve]+Ne;return(Ne<0||We!=xe)&&(St=Re[Ve+(Ne?1:0)]),de(et,St)}}}var Z=K(S,E,h);if(Z)return Rs(Z,g);for(var ie=E.nextSibling,ne=S?S.nodeValue.length-h:0;ie;ie=ie.nextSibling){if(Z=K(ie,ie.firstChild,0),Z)return Rs(de(Z.line,Z.ch-ne),g);ne+=ie.textContent.length}for(var ge=E.previousSibling,be=h;ge;ge=ge.previousSibling){if(Z=K(ge,ge.firstChild,-1),Z)return Rs(de(Z.line,Z.ch+be),g);be+=ge.textContent.length}}var Pt=function(i){this.cm=i,this.prevInput="",this.pollingFast=!1,this.polling=new ve,this.hasSelection=!1,this.composing=null,this.resetting=!1};Pt.prototype.init=function(i){var a=this,h=this,c=this.cm;this.createField(i);var g=this.textarea;i.wrapper.insertBefore(this.wrapper,i.wrapper.firstChild),I&&(g.style.width="0px"),He(g,"input",function(){f&&d>=9&&a.hasSelection&&(a.hasSelection=null),h.poll()}),He(g,"paste",function(S){Ct(c,S)||Gv(S,c)||(c.state.pasteIncoming=+new Date,h.fastPoll())});function y(S){if(!Ct(c,S)){if(c.somethingSelected())Mu({lineWise:!1,text:c.getSelections()});else if(c.options.lineWiseCopyCut){var E=Yv(c);Mu({lineWise:!0,text:E.text}),S.type=="cut"?c.setSelections(E.ranges,null,Ie):(h.prevInput="",g.value=E.text.join(`
`),oe(g))}else return;S.type=="cut"&&(c.state.cutIncoming=+new Date)}}He(g,"cut",y),He(g,"copy",y),He(i.scroller,"paste",function(S){if(!(vi(i,S)||Ct(c,S))){if(!g.dispatchEvent){c.state.pasteIncoming=+new Date,h.focus();return}var E=new Event("paste");E.clipboardData=S.clipboardData,g.dispatchEvent(E)}}),He(i.lineSpace,"selectstart",function(S){vi(i,S)||Rt(S)}),He(g,"compositionstart",function(){var S=c.getCursor("from");h.composing&&h.composing.range.clear(),h.composing={start:S,range:c.markText(S,c.getCursor("to"),{className:"CodeMirror-composing"})}}),He(g,"compositionend",function(){h.composing&&(h.poll(),h.composing.range.clear(),h.composing=null)})},Pt.prototype.createField=function(i){this.wrapper=Xv(),this.textarea=this.wrapper.firstChild;var a=this.cm.options;Rh(this.textarea,a.spellcheck,a.autocorrect,a.autocapitalize)},Pt.prototype.screenReaderLabelChanged=function(i){i?this.textarea.setAttribute("aria-label",i):this.textarea.removeAttribute("aria-label")},Pt.prototype.prepareSelection=function(){var i=this.cm,a=i.display,h=i.doc,c=Wm(i);if(i.options.moveInputWithCursor){var g=Mr(i,h.sel.primary().head,"div"),y=a.wrapper.getBoundingClientRect(),S=a.lineDiv.getBoundingClientRect();c.teTop=Math.max(0,Math.min(a.wrapper.clientHeight-10,g.top+S.top-y.top)),c.teLeft=Math.max(0,Math.min(a.wrapper.clientWidth-10,g.left+S.left-y.left))}return c},Pt.prototype.showSelection=function(i){var a=this.cm,h=a.display;_(h.cursorDiv,i.cursors),_(h.selectionDiv,i.selection),i.teTop!=null&&(this.wrapper.style.top=i.teTop+"px",this.wrapper.style.left=i.teLeft+"px")},Pt.prototype.reset=function(i){if(!(this.contextMenuPending||this.composing&&i)){var a=this.cm;if(this.resetting=!0,a.somethingSelected()){this.prevInput="";var h=a.getSelection();this.textarea.value=h,a.state.focused&&oe(this.textarea),f&&d>=9&&(this.hasSelection=h)}else i||(this.prevInput=this.textarea.value="",f&&d>=9&&(this.hasSelection=null));this.resetting=!1}},Pt.prototype.getField=function(){return this.textarea},Pt.prototype.supportsTouch=function(){return!1},Pt.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!b||te(fe(this.textarea))!=this.textarea))try{this.textarea.focus()}catch{}},Pt.prototype.blur=function(){this.textarea.blur()},Pt.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Pt.prototype.receivedFocus=function(){this.slowPoll()},Pt.prototype.slowPoll=function(){var i=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){i.poll(),i.cm.state.focused&&i.slowPoll()})},Pt.prototype.fastPoll=function(){var i=!1,a=this;a.pollingFast=!0;function h(){var c=a.poll();!c&&!i?(i=!0,a.polling.set(60,h)):(a.pollingFast=!1,a.slowPoll())}a.polling.set(20,h)},Pt.prototype.poll=function(){var i=this,a=this.cm,h=this.textarea,c=this.prevInput;if(this.contextMenuPending||this.resetting||!a.state.focused||$i(h)&&!c&&!this.composing||a.isReadOnly()||a.options.disableInput||a.state.keySeq)return!1;var g=h.value;if(g==c&&!a.somethingSelected())return!1;if(f&&d>=9&&this.hasSelection===g||x&&/[\uf700-\uf7ff]/.test(g))return a.display.input.reset(),!1;if(a.doc.sel==a.display.selForContextMenu){var y=g.charCodeAt(0);if(y==8203&&!c&&(c="â"),y==8666)return this.reset(),this.cm.execCommand("undo")}for(var S=0,E=Math.min(c.length,g.length);S<E&&c.charCodeAt(S)==g.charCodeAt(S);)++S;return Yn(a,function(){Nh(a,g.slice(S),c.length-S,null,i.composing?"*compose":null),g.length>1e3||g.indexOf(`
`)>-1?h.value=i.prevInput="":i.prevInput=g,i.composing&&(i.composing.range.clear(),i.composing.range=a.markText(i.composing.start,a.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Pt.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Pt.prototype.onKeyPress=function(){f&&d>=9&&(this.hasSelection=null),this.fastPoll()},Pt.prototype.onContextMenu=function(i){var a=this,h=a.cm,c=h.display,g=a.textarea;a.contextMenuPending&&a.contextMenuPending();var y=Mo(h,i),S=c.scroller.scrollTop;if(!y||w)return;var E=h.options.resetSelectionOnContextMenu;E&&h.doc.sel.contains(y)==-1&&Zt(h,pn)(h.doc,Vi(y),Ie);var A=g.style.cssText,O=a.wrapper.style.cssText,K=a.wrapper.offsetParent.getBoundingClientRect();a.wrapper.style.cssText="position: static",g.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(i.clientY-K.top-5)+"px; left: "+(i.clientX-K.left-5)+`px;
      z-index: 1000; background: `+(f?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var Z;p&&(Z=g.ownerDocument.defaultView.scrollY),c.input.focus(),p&&g.ownerDocument.defaultView.scrollTo(null,Z),c.input.reset(),h.somethingSelected()||(g.value=a.prevInput=" "),a.contextMenuPending=ne,c.selForContextMenu=h.doc.sel,clearTimeout(c.detectingSelectAll);function ie(){if(g.selectionStart!=null){var be=h.somethingSelected(),xe="â"+(be?g.value:"");g.value="â",g.value=xe,a.prevInput=be?"":"â",g.selectionStart=1,g.selectionEnd=xe.length,c.selForContextMenu=h.doc.sel}}function ne(){if(a.contextMenuPending==ne&&(a.contextMenuPending=!1,a.wrapper.style.cssText=O,g.style.cssText=A,f&&d<9&&c.scrollbars.setScrollTop(c.scroller.scrollTop=S),g.selectionStart!=null)){(!f||f&&d<9)&&ie();var be=0,xe=function(){c.selForContextMenu==h.doc.sel&&g.selectionStart==0&&g.selectionEnd>0&&a.prevInput=="â"?Zt(h,yv)(h):be++<10?c.detectingSelectAll=setTimeout(xe,500):(c.selForContextMenu=null,c.input.reset())};c.detectingSelectAll=setTimeout(xe,200)}}if(f&&d>=9&&ie(),J){zi(i);var ge=function(){qt(window,"mouseup",ge),setTimeout(ne,20)};He(window,"mouseup",ge)}else setTimeout(ne,50)},Pt.prototype.readOnlyChanged=function(i){i||this.reset(),this.textarea.disabled=i=="nocursor",this.textarea.readOnly=!!i},Pt.prototype.setUneditable=function(){},Pt.prototype.needsContentAttribute=!1;function kx(i,a){if(a=a?ue(a):{},a.value=i.value,!a.tabindex&&i.tabIndex&&(a.tabindex=i.tabIndex),!a.placeholder&&i.placeholder&&(a.placeholder=i.placeholder),a.autofocus==null){var h=te(fe(i));a.autofocus=h==i||i.getAttribute("autofocus")!=null&&h==document.body}function c(){i.value=E.getValue()}var g;if(i.form&&(He(i.form,"submit",c),!a.leaveSubmitMethodAlone)){var y=i.form;g=y.submit;try{var S=y.submit=function(){c(),y.submit=g,y.submit(),y.submit=S}}catch{}}a.finishInit=function(A){A.save=c,A.getTextArea=function(){return i},A.toTextArea=function(){A.toTextArea=isNaN,c(),i.parentNode.removeChild(A.getWrapperElement()),i.style.display="",i.form&&(qt(i.form,"submit",c),!a.leaveSubmitMethodAlone&&typeof i.form.submit=="function"&&(i.form.submit=g))}},i.style.display="none";var E=At(function(A){return i.parentNode.insertBefore(A,i.nextSibling)},a);return E}function Ax(i){i.off=qt,i.on=He,i.wheelEventPixels=LC,i.Doc=zn,i.splitLines=gr,i.countColumn=he,i.findColumn=Ke,i.isWordChar=me,i.Pass=Be,i.signal=kt,i.Line=vs,i.changeEnd=qi,i.scrollbarModel=Gm,i.Pos=de,i.cmpPos=Oe,i.modes=cs,i.mimeModes=Ar,i.resolveMode=hs,i.getMode=ds,i.modeExtensions=Hi,i.extendMode=ps,i.copyState=Wr,i.startState=gs,i.innerMode=Ca,i.commands=Ka,i.keyMap=bi,i.keyName=Lv,i.isModifierKey=Nv,i.lookupKey=Ms,i.normalizeKeyMap=nx,i.StringStream=Lt,i.SharedTextMarker=Ua,i.TextMarker=Gi,i.LineWidget=ja,i.e_preventDefault=Rt,i.e_stopPropagation=us,i.e_stop=zi,i.addClass=se,i.contains=G,i.rmClass=H,i.keyNames=Ji}yx(At),Sx(At);var Tx="iter insert remove copy getEditor constructor".split(" ");for(var Nu in zn.prototype)zn.prototype.hasOwnProperty(Nu)&&we(Tx,Nu)<0&&(At.prototype[Nu]=function(i){return function(){return i.apply(this.doc,arguments)}}(zn.prototype[Nu]));return Jn(zn),At.inputStyles={textarea:Pt,contenteditable:bt},At.defineMode=function(i){!At.defaults.mode&&i!="null"&&(At.defaults.mode=i),Tr.apply(this,arguments)},At.defineMIME=Ao,At.defineMode("null",function(){return{token:function(i){return i.skipToEnd()}}}),At.defineMIME("text/plain","null"),At.defineExtension=function(i,a){At.prototype[i]=a},At.defineDocExtension=function(i,a){zn.prototype[i]=a},At.fromTextArea=kx,Ax(At),At.version="5.65.16",At})}(Od)),Od.exports}var YM=$r();const Pw=ir(YM);(function(n,e){(function(t){t($r())})(function(t){var r=t.Pos,o="http://www.w3.org/2000/svg";function s(L,Y){this.mv=L,this.type=Y,this.classes=Y=="left"?{chunk:"CodeMirror-merge-l-chunk",start:"CodeMirror-merge-l-chunk-start",end:"CodeMirror-merge-l-chunk-end",insert:"CodeMirror-merge-l-inserted",del:"CodeMirror-merge-l-deleted",connect:"CodeMirror-merge-l-connect"}:{chunk:"CodeMirror-merge-r-chunk",start:"CodeMirror-merge-r-chunk-start",end:"CodeMirror-merge-r-chunk-end",insert:"CodeMirror-merge-r-inserted",del:"CodeMirror-merge-r-deleted",connect:"CodeMirror-merge-r-connect"}}s.prototype={constructor:s,init:function(L,Y,P){this.edit=this.mv.edit,(this.edit.state.diffViews||(this.edit.state.diffViews=[])).push(this),this.orig=t(L,ue({value:Y,readOnly:!this.mv.options.allowEditingOriginals},ue(P))),this.mv.options.connect=="align"&&(this.edit.state.trackAlignable||(this.edit.state.trackAlignable=new Be(this.edit)),this.orig.state.trackAlignable=new Be(this.orig)),this.lockButton.title=this.edit.phrase("Toggle locked scrolling"),this.lockButton.setAttribute("aria-label",this.lockButton.title),this.orig.state.diffViews=[this];var X=P.chunkClassLocation||"background";Object.prototype.toString.call(X)!="[object Array]"&&(X=[X]),this.classes.classLocation=X,this.diff=N(_(Y),_(P.value),this.mv.options.ignoreWhitespace),this.chunks=W(this.diff),this.diffOutOfDate=this.dealigned=!1,this.needsScrollSync=null,this.showDifferences=P.showDifferences!==!1},registerEvents:function(L){this.forceUpdate=f(this),v(this,!0,!1),d(this,L)},setShowDifferences:function(L){L=L!==!1,L!=this.showDifferences&&(this.showDifferences=L,this.forceUpdate("full"))}};function l(L){L.diffOutOfDate&&(L.diff=N(L.orig.getValue(),L.edit.getValue(),L.mv.options.ignoreWhitespace),L.chunks=W(L.diff),L.diffOutOfDate=!1,t.signal(L.edit,"updateDiff",L.diff))}var u=!1;function f(L){var Y={from:0,to:0,marked:[]},P={from:0,to:0,marked:[]},X,q=!1;function re(_e){u=!0,q=!1,_e=="full"&&(L.svg&&ce(L.svg),L.copyButtons&&ce(L.copyButtons),w(L.edit,Y.marked,L.classes),w(L.orig,P.marked,L.classes),Y.from=Y.to=P.from=P.to=0),l(L),L.showDifferences&&(k(L.edit,L.diff,Y,DIFF_INSERT,L.classes),k(L.orig,L.diff,P,DIFF_DELETE,L.classes)),L.mv.options.connect=="align"&&B(L),I(L),L.needsScrollSync!=null&&p(L,L.needsScrollSync),u=!1}function me(_e){u||(L.dealigned=!0,Se(_e))}function Se(_e){u||q||(clearTimeout(X),_e===!0&&(q=!0),X=setTimeout(re,_e===!0?20:250))}function Ee(_e,it){L.diffOutOfDate||(L.diffOutOfDate=!0,Y.from=Y.to=P.from=P.to=0),me(it.text.length-1!=it.to.line-it.from.line)}function Ue(){L.diffOutOfDate=!0,L.dealigned=!0,re("full")}return L.edit.on("change",Ee),L.orig.on("change",Ee),L.edit.on("swapDoc",Ue),L.orig.on("swapDoc",Ue),L.mv.options.connect=="align"&&(t.on(L.edit.state.trackAlignable,"realign",me),t.on(L.orig.state.trackAlignable,"realign",me)),L.edit.on("viewportChange",function(){Se(!1)}),L.orig.on("viewportChange",function(){Se(!1)}),re(),re}function d(L,Y){L.edit.on("scroll",function(){p(L,!0)&&I(L)}),L.orig.on("scroll",function(){p(L,!1)&&I(L),Y&&p(Y,!0)&&I(Y)})}function p(L,Y){if(L.diffOutOfDate)return L.lockScroll&&L.needsScrollSync==null&&(L.needsScrollSync=Y),!1;if(L.needsScrollSync=null,!L.lockScroll)return!0;var P,X,q=+new Date;if(Y?(P=L.edit,X=L.orig):(P=L.orig,X=L.edit),P.state.scrollSetBy==L&&(P.state.scrollSetAt||0)+250>q)return!1;var re=P.getScrollInfo();if(L.mv.options.connect=="align")ut=re.top;else{var me=.5*re.clientHeight,Se=re.top+me,Ee=P.lineAtHeight(Se,"local"),Ue=se(L.chunks,Ee,Y),_e=m(P,Y?Ue.edit:Ue.orig),it=m(X,Y?Ue.orig:Ue.edit),lt=(Se-_e.top)/(_e.bot-_e.top),ut=it.top-me+lt*(it.bot-it.top),yt,Mt;if(ut>re.top&&(Mt=re.top/me)<1)ut=ut*Mt+re.top*(1-Mt);else if((yt=re.height-re.clientHeight-re.top)<me){var Ln=X.getScrollInfo(),je=Ln.height-Ln.clientHeight-ut;je>yt&&(Mt=yt/me)<1&&(ut=ut*Mt+(Ln.height-Ln.clientHeight-yt)*(1-Mt))}}return X.scrollTo(re.left,ut),X.state.scrollSetAt=q,X.state.scrollSetBy=L,!0}function m(L,Y){var P=Y.after;return P==null&&(P=L.lastLine()+1),{top:L.heightAtLine(Y.before||0,"local"),bot:L.heightAtLine(P,"local")}}function v(L,Y,P){L.lockScroll=Y,Y&&P!=!1&&p(L,DIFF_INSERT)&&I(L),(Y?t.addClass:t.rmClass)(L.lockButton,"CodeMirror-merge-scrolllock-enabled")}function D(L,Y,P){for(var X=P.classLocation,q=0;q<X.length;q++)L.removeLineClass(Y,X[q],P.chunk),L.removeLineClass(Y,X[q],P.start),L.removeLineClass(Y,X[q],P.end)}function w(L,Y,P){for(var X=0;X<Y.length;++X){var q=Y[X];q instanceof t.TextMarker?q.clear():q.parent&&D(L,q,P)}Y.length=0}function k(L,Y,P,X,q){var re=L.getViewport();L.operation(function(){P.from==P.to||re.from-P.to>20||P.from-re.to>20?(w(L,P.marked,q),R(L,Y,X,P.marked,re.from,re.to,q),P.from=re.from,P.to=re.to):(re.from<P.from&&(R(L,Y,X,P.marked,re.from,P.from,q),P.from=re.from),re.to>P.to&&(R(L,Y,X,P.marked,P.to,re.to,q),P.to=re.to))})}function M(L,Y,P,X,q,re){for(var me=P.classLocation,Se=L.getLineHandle(Y),Ee=0;Ee<me.length;Ee++)X&&L.addLineClass(Se,me[Ee],P.chunk),q&&L.addLineClass(Se,me[Ee],P.start),re&&L.addLineClass(Se,me[Ee],P.end);return Se}function R(L,Y,P,X,q,re,me){var Se=r(0,0),Ee=r(q,0),Ue=L.clipPos(r(re-1)),_e=P==DIFF_DELETE?me.del:me.insert;function it(Ct,an){for(var Kt=Math.max(q,Ct),Jn=Math.min(re,an),Rt=Kt;Rt<Jn;++Rt)X.push(M(L,Rt,me,!0,Rt==Ct,Rt==an-1));Ct==an&&Kt==an&&Jn==an&&(Kt?X.push(M(L,Kt-1,me,!1,!1,!0)):X.push(M(L,Kt,me,!1,!0,!1)))}for(var lt=0,ut=!1,yt=0;yt<Y.length;++yt){var Mt=Y[yt],Ln=Mt[0],je=Mt[1];if(Ln==DIFF_EQUAL){var ko=Se.line+(te(Y,yt)?0:1);he(Se,je);var He=Se.line+(G(Y,yt)?1:0);He>ko&&(ut&&(it(lt,ko),ut=!1),lt=He)}else if(ut=!0,Ln==P){var pr=he(Se,je,!0),qt=$e(Ee,Se),kt=Ie(Ue,pr);Ge(qt,kt)||X.push(L.markText(qt,kt,{className:_e})),Se=pr}}ut&&it(lt,Se.line+1)}function I(L){if(L.showDifferences){if(L.svg){ce(L.svg);var Y=L.gap.offsetWidth;ee(L.svg,"width",Y,"height",L.gap.offsetHeight)}L.copyButtons&&ce(L.copyButtons);for(var P=L.edit.getViewport(),X=L.orig.getViewport(),q=L.mv.wrap.getBoundingClientRect().top,re=q-L.edit.getScrollerElement().getBoundingClientRect().top+L.edit.getScrollInfo().top,me=q-L.orig.getScrollerElement().getBoundingClientRect().top+L.orig.getScrollInfo().top,Se=0;Se<L.chunks.length;Se++){var Ee=L.chunks[Se];Ee.editFrom<=P.to&&Ee.editTo>=P.from&&Ee.origFrom<=X.to&&Ee.origTo>=X.from&&J(L,Ee,me,re,Y)}}}function z(L,Y){for(var P=0,X=0,q=0;q<Y.length;q++){var re=Y[q];if(re.editTo>L&&re.editFrom<=L)return null;if(re.editFrom>L)break;P=re.editTo,X=re.origTo}return X+(L-P)}function b(L,Y,P){for(var X=L.state.trackAlignable,q=L.firstLine(),re=0,me=[],Se=0;;Se++){for(var Ee=Y[Se],Ue=Ee?P?Ee.origFrom:Ee.editFrom:1e9;re<X.alignable.length;re+=2){var _e=X.alignable[re]+1;if(!(_e<=q))if(_e<=Ue)me.push(_e);else break}if(!Ee)break;me.push(q=P?Ee.origTo:Ee.editTo)}return me}function x(L,Y,P,X){var q=0,re=0,me=0,Se=0;e:for(;;q++){var Ee=L[q],Ue=Y[re];if(!Ee&&Ue==null)break;for(var _e=Ee?Ee[0]:1e9,it=Ue??1e9;me<P.length;){var lt=P[me];if(lt.origFrom<=it&&lt.origTo>it){re++,q--;continue e}if(lt.editTo>_e){if(lt.editFrom<=_e)continue e;break}Se+=lt.origTo-lt.origFrom-(lt.editTo-lt.editFrom),me++}if(_e==it-Se)Ee[X]=it,re++;else if(_e<it-Se)Ee[X]=_e+Se;else{var ut=[it-Se,null,null];ut[X]=it,L.splice(q,0,ut),re++}}}function T(L,Y){var P=b(L.edit,L.chunks,!1),X=[];if(Y)for(var q=0,re=0;q<Y.chunks.length;q++){for(var me=Y.chunks[q].editTo;re<P.length&&P[re]<me;)re++;(re==P.length||P[re]!=me)&&P.splice(re++,0,me)}for(var q=0;q<P.length;q++)X.push([P[q],null,null]);return x(X,b(L.orig,L.chunks,!0),L.chunks,1),Y&&x(X,b(Y.orig,Y.chunks,!0),Y.chunks,2),X}function B(L,Y){if(!(!L.dealigned&&!Y)){if(!L.orig.curOp)return L.orig.operation(function(){B(L,Y)});L.dealigned=!1;var P=L.mv.left==L?L.mv.right:L.mv.left;P&&(l(P),P.dealigned=!1);for(var X=T(L,P),q=L.mv.aligners,re=0;re<q.length;re++)q[re].clear();q.length=0;var me=[L.edit,L.orig],Se=[],Ee=[];P&&me.push(P.orig);for(var re=0;re<me.length;re++)Se.push(me[re].getScrollInfo().top),Ee.push(-me[re].getScrollerElement().getBoundingClientRect().top);(Ee[0]!=Ee[1]||me.length==3&&Ee[1]!=Ee[2])&&$(me,Ee,[0,0,0],q);for(var Ue=0;Ue<X.length;Ue++)$(me,Ee,X[Ue],q);for(var re=0;re<me.length;re++)me[re].scrollTo(null,Se[re])}}function $(L,Y,P,X){for(var q=-1e8,re=[],me=0;me<L.length;me++)if(P[me]!=null){var Se=L[me].heightAtLine(P[me],"local")-Y[me];re[me]=Se,q=Math.max(q,Se)}for(var me=0;me<L.length;me++)if(P[me]!=null){var Ee=q-re[me];Ee>1&&X.push(V(L[me],P[me],Ee))}}function V(L,Y,P){var X=!0;Y>L.lastLine()&&(Y--,X=!1);var q=document.createElement("div");return q.className="CodeMirror-merge-spacer",q.style.height=P+"px",q.style.minWidth="1px",L.addLineWidget(Y,q,{height:P,above:X,mergeSpacer:!0,handleMouseEvents:!0})}function J(L,Y,P,X,q){var re=L.type=="left",me=L.orig.heightAtLine(Y.origFrom,"local",!0)-P;if(L.svg){var Se=me,Ee=L.edit.heightAtLine(Y.editFrom,"local",!0)-X;if(re){var Ue=Se;Se=Ee,Ee=Ue}var _e=L.orig.heightAtLine(Y.origTo,"local",!0)-P,it=L.edit.heightAtLine(Y.editTo,"local",!0)-X;if(re){var Ue=_e;_e=it,it=Ue}var lt=" C "+q/2+" "+Ee+" "+q/2+" "+Se+" "+(q+2)+" "+Se,ut=" C "+q/2+" "+_e+" "+q/2+" "+it+" -1 "+it;ee(L.svg.appendChild(document.createElementNS(o,"path")),"d","M -1 "+Ee+lt+" L "+(q+2)+" "+_e+ut+" z","class",L.classes.connect)}if(L.copyButtons){var yt=L.copyButtons.appendChild(fe("div",L.type=="left"?"â":"â","CodeMirror-merge-copy")),Mt=L.mv.options.allowEditingOriginals;if(yt.title=L.edit.phrase(Mt?"Push to left":"Revert chunk"),yt.chunk=Y,yt.style.top=(Y.origTo>Y.origFrom?me:L.edit.heightAtLine(Y.editFrom,"local")-X)+"px",yt.setAttribute("role","button"),yt.setAttribute("tabindex","0"),yt.setAttribute("aria-label",yt.title),Mt){var Ln=L.edit.heightAtLine(Y.editFrom,"local")-X,je=L.copyButtons.appendChild(fe("div",L.type=="right"?"â":"â","CodeMirror-merge-copy-reverse"));je.title="Push to right",je.chunk={editFrom:Y.origFrom,editTo:Y.origTo,origFrom:Y.editFrom,origTo:Y.editTo},je.style.top=Ln+"px",L.type=="right"?je.style.left="2px":je.style.right="2px",je.setAttribute("role","button"),je.setAttribute("tabindex","0"),je.setAttribute("aria-label",je.title)}}}function U(L,Y,P,X){if(!L.diffOutOfDate){var q=X.origTo>P.lastLine()?r(X.origFrom-1):r(X.origFrom,0),re=r(X.origTo,0),me=X.editTo>Y.lastLine()?r(X.editFrom-1):r(X.editFrom,0),Se=r(X.editTo,0),Ee=L.mv.options.revertChunk;Ee?Ee(L.mv,P,q,re,Y,me,Se):Y.replaceRange(P.getRange(q,re),me,Se)}}var H=t.MergeView=function(L,Y){if(!(this instanceof H))return new H(L,Y);this.options=Y;var P=Y.origLeft,X=Y.origRight==null?Y.orig:Y.origRight,q=P!=null,re=X!=null,me=1+(q?1:0)+(re?1:0),Se=[],Ee=this.left=null,Ue=this.right=null,_e=this;if(q){Ee=this.left=new s(this,"left");var it=fe("div",null,"CodeMirror-merge-pane CodeMirror-merge-left");Se.push(it),Se.push(j(Ee))}var lt=fe("div",null,"CodeMirror-merge-pane CodeMirror-merge-editor");if(Se.push(lt),re){Ue=this.right=new s(this,"right"),Se.push(j(Ue));var ut=fe("div",null,"CodeMirror-merge-pane CodeMirror-merge-right");Se.push(ut)}(re?ut:lt).className+=" CodeMirror-merge-pane-rightmost",Se.push(fe("div",null,null,"height: 0; clear: both;"));var yt=this.wrap=L.appendChild(fe("div",Se,"CodeMirror-merge CodeMirror-merge-"+me+"pane"));this.edit=t(lt,ue(Y)),Ee&&Ee.init(it,P,Y),Ue&&Ue.init(ut,X,Y),Y.collapseIdentical&&this.editor().operation(function(){ae(_e,Y.collapseIdentical)}),Y.connect=="align"&&(this.aligners=[],B(this.left||this.right,!0)),Ee&&Ee.registerEvents(Ue),Ue&&Ue.registerEvents(Ee);var Mt=function(){Ee&&I(Ee),Ue&&I(Ue)};t.on(window,"resize",Mt);var Ln=setInterval(function(){for(var je=yt.parentNode;je&&je!=document.body;je=je.parentNode);je||(clearInterval(Ln),t.off(window,"resize",Mt))},5e3)};function j(L){var Y=L.lockButton=fe("div",null,"CodeMirror-merge-scrolllock");Y.setAttribute("role","button"),Y.setAttribute("tabindex","0");var P=fe("div",[Y],"CodeMirror-merge-scrolllock-wrap");t.on(Y,"click",function(){v(L,!L.lockScroll)}),t.on(Y,"keyup",function(me){(me.key==="Enter"||me.code==="Space")&&v(L,!L.lockScroll)});var X=[P];if(L.mv.options.revertButtons!==!1){L.copyButtons=fe("div",null,"CodeMirror-merge-copybuttons-"+L.type);var q=function(me){var Se=me.target||me.srcElement;if(Se.chunk){if(Se.className=="CodeMirror-merge-copy-reverse"){U(L,L.orig,L.edit,Se.chunk);return}U(L,L.edit,L.orig,Se.chunk)}};t.on(L.copyButtons,"click",q),t.on(L.copyButtons,"keyup",function(me){(me.key==="Enter"||me.code==="Space")&&q(me)}),X.unshift(L.copyButtons)}if(L.mv.options.connect!="align"){var re=document.createElementNS&&document.createElementNS(o,"svg");re&&!re.createSVGRect&&(re=null),L.svg=re,re&&X.push(re)}return L.gap=fe("div",X,"CodeMirror-merge-gap")}H.prototype={constructor:H,editor:function(){return this.edit},rightOriginal:function(){return this.right&&this.right.orig},leftOriginal:function(){return this.left&&this.left.orig},setShowDifferences:function(L){this.right&&this.right.setShowDifferences(L),this.left&&this.left.setShowDifferences(L)},rightChunks:function(){if(this.right)return l(this.right),this.right.chunks},leftChunks:function(){if(this.left)return l(this.left),this.left.chunks}};function _(L){return typeof L=="string"?L:L.getValue()}var C;function N(L,Y,P){C||(C=new diff_match_patch);for(var X=C.diff_main(L,Y),q=0;q<X.length;++q){var re=X[q];(P?!/[^ \t]/.test(re[1]):!re[1])?X.splice(q--,1):q&&X[q-1][0]==re[0]&&(X.splice(q--,1),X[q][1]+=re[1])}return X}function W(L){var Y=[];if(!L.length)return Y;for(var P=0,X=0,q=r(0,0),re=r(0,0),me=0;me<L.length;++me){var Se=L[me],Ee=Se[0];if(Ee==DIFF_EQUAL){var Ue=!te(L,me)||q.line<P||re.line<X?1:0,_e=q.line+Ue,it=re.line+Ue;he(q,Se[1],null,re);var lt=G(L,me)?1:0,ut=q.line+lt,yt=re.line+lt;ut>_e&&(me&&Y.push({origFrom:X,origTo:it,editFrom:P,editTo:_e}),P=ut,X=yt)}else he(Ee==DIFF_INSERT?q:re,Se[1])}return(P<=q.line||X<=re.line)&&Y.push({origFrom:X,origTo:re.line+1,editFrom:P,editTo:q.line+1}),Y}function G(L,Y){if(Y==L.length-1)return!0;var P=L[Y+1][1];return P.length==1&&Y<L.length-2||P.charCodeAt(0)!=10?!1:Y==L.length-2?!0:(P=L[Y+2][1],(P.length>1||Y==L.length-3)&&P.charCodeAt(0)==10)}function te(L,Y){if(Y==0)return!0;var P=L[Y-1][1];return P.charCodeAt(P.length-1)!=10?!1:Y==1?!0:(P=L[Y-2][1],P.charCodeAt(P.length-1)==10)}function se(L,Y,P){for(var X,q,re,me,Se=0;Se<L.length;Se++){var Ee=L[Se],Ue=P?Ee.editFrom:Ee.origFrom,_e=P?Ee.editTo:Ee.origTo;q==null&&(Ue>Y?(q=Ee.editFrom,me=Ee.origFrom):_e>Y&&(q=Ee.editTo,me=Ee.origTo)),_e<=Y?(X=Ee.editTo,re=Ee.origTo):Ue<=Y&&(X=Ee.editFrom,re=Ee.origFrom)}return{edit:{before:X,after:q},orig:{before:re,after:me}}}function pe(L,Y,P){L.addLineClass(Y,"wrap","CodeMirror-merge-collapsed-line");var X=document.createElement("span");X.className="CodeMirror-merge-collapsed-widget",X.title=L.phrase("Identical text collapsed. Click to expand.");var q=L.markText(r(Y,0),r(P-1),{inclusiveLeft:!0,inclusiveRight:!0,replacedWith:X,clearOnEnter:!0});function re(){q.clear(),L.removeLineClass(Y,"wrap","CodeMirror-merge-collapsed-line")}return q.explicitlyCleared&&re(),t.on(X,"click",re),q.on("clear",re),t.on(X,"click",re),{mark:q,clear:re}}function oe(L,Y){var P=[];function X(){for(var Se=0;Se<P.length;Se++)P[Se].clear()}for(var q=0;q<Y.length;q++){var re=Y[q],me=pe(re.cm,re.line,re.line+L);P.push(me),me.mark.on("clear",X)}return P[0].mark}function le(L,Y,P,X){for(var q=0;q<L.chunks.length;q++)for(var re=L.chunks[q],me=re.editFrom-Y;me<re.editTo+Y;me++){var Se=me+P;Se>=0&&Se<X.length&&(X[Se]=!1)}}function ae(L,Y){typeof Y!="number"&&(Y=2);for(var P=[],X=L.editor(),q=X.firstLine(),re=q,me=X.lastLine();re<=me;re++)P.push(!0);L.left&&le(L.left,Y,q,P),L.right&&le(L.right,Y,q,P);for(var Se=0;Se<P.length;Se++)if(P[Se]){for(var Ee=Se+q,Ue=1;Se<P.length-1&&P[Se+1];Se++,Ue++);if(Ue>Y){var _e=[{line:Ee,cm:X}];L.left&&_e.push({line:z(Ee,L.left.chunks),cm:L.left.orig}),L.right&&_e.push({line:z(Ee,L.right.chunks),cm:L.right.orig});var it=oe(Ue,_e);L.options.onCollapse&&L.options.onCollapse(L,Ee,Ue,it)}}}function fe(L,Y,P,X){var q=document.createElement(L);if(P&&(q.className=P),X&&(q.style.cssText=X),typeof Y=="string")q.appendChild(document.createTextNode(Y));else if(Y)for(var re=0;re<Y.length;++re)q.appendChild(Y[re]);return q}function ce(L){for(var Y=L.childNodes.length;Y>0;--Y)L.removeChild(L.firstChild)}function ee(L){for(var Y=1;Y<arguments.length;Y+=2)L.setAttribute(arguments[Y],arguments[Y+1])}function ue(L,Y){Y||(Y={});for(var P in L)L.hasOwnProperty(P)&&(Y[P]=L[P]);return Y}function he(L,Y,P,X){for(var q=P?r(L.line,L.ch):L,re=0;;){var me=Y.indexOf(`
`,re);if(me==-1)break;++q.line,X&&++X.line,re=me+1}return q.ch=(re?0:q.ch)+(Y.length-re),X&&(X.ch=(re?0:X.ch)+(Y.length-re)),q}var ve=1,we=2,Pe=4;function Be(L){this.cm=L,this.alignable=[],this.height=L.doc.height;var Y=this;L.on("markerAdded",function(P,X){if(X.collapsed){var q=X.find(1);q!=null&&Y.set(q.line,Pe)}}),L.on("markerCleared",function(P,X,q,re){re!=null&&X.collapsed&&Y.check(re,Pe,Y.hasMarker)}),L.on("markerChanged",this.signal.bind(this)),L.on("lineWidgetAdded",function(P,X,q){X.mergeSpacer||(X.above?Y.set(q-1,we):Y.set(q,ve))}),L.on("lineWidgetCleared",function(P,X,q){X.mergeSpacer||(X.above?Y.check(q-1,we,Y.hasWidgetBelow):Y.check(q,ve,Y.hasWidget))}),L.on("lineWidgetChanged",this.signal.bind(this)),L.on("change",function(P,X){var q=X.from.line,re=X.to.line-X.from.line,me=X.text.length-1,Se=q+me;(re||me)&&Y.map(q,re,me),Y.check(Se,Pe,Y.hasMarker),(re||me)&&Y.check(X.from.line,Pe,Y.hasMarker)}),L.on("viewportChange",function(){Y.cm.doc.height!=Y.height&&Y.signal()})}Be.prototype={signal:function(){t.signal(this,"realign"),this.height=this.cm.doc.height},set:function(L,Y){for(var P=-1;P<this.alignable.length;P+=2){var X=this.alignable[P]-L;if(X==0){if((this.alignable[P+1]&Y)==Y)return;this.alignable[P+1]|=Y,this.signal();return}if(X>0)break}this.signal(),this.alignable.splice(P,0,L,Y)},find:function(L){for(var Y=0;Y<this.alignable.length;Y+=2)if(this.alignable[Y]==L)return Y;return-1},check:function(L,Y,P){var X=this.find(L);if(!(X==-1||!(this.alignable[X+1]&Y))&&!P.call(this,L)){this.signal();var q=this.alignable[X+1]&~Y;q?this.alignable[X+1]=q:this.alignable.splice(X,2)}},hasMarker:function(L){var Y=this.cm.getLineHandle(L);if(Y.markedSpans){for(var P=0;P<Y.markedSpans.length;P++)if(Y.markedSpans[P].marker.collapsed&&Y.markedSpans[P].to!=null)return!0}return!1},hasWidget:function(L){var Y=this.cm.getLineHandle(L);if(Y.widgets){for(var P=0;P<Y.widgets.length;P++)if(!Y.widgets[P].above&&!Y.widgets[P].mergeSpacer)return!0}return!1},hasWidgetBelow:function(L){if(L==this.cm.lastLine())return!1;var Y=this.cm.getLineHandle(L+1);if(Y.widgets){for(var P=0;P<Y.widgets.length;P++)if(Y.widgets[P].above&&!Y.widgets[P].mergeSpacer)return!0}return!1},map:function(L,Y,P){for(var X=P-Y,q=L+Y,re=-1,me=-1,Se=0;Se<this.alignable.length;Se+=2){var Ee=this.alignable[Se];Ee==L&&this.alignable[Se+1]&we&&(re=Se),Ee==q&&this.alignable[Se+1]&we&&(me=Se),!(Ee<=L)&&(Ee<q?this.alignable.splice(Se--,2):this.alignable[Se]+=X)}if(re>-1){var Ue=this.alignable[re+1];Ue==we?this.alignable.splice(re,2):this.alignable[re+1]=Ue&~we}me>-1&&P&&this.set(L+P,we)}};function Ie(L,Y){return(L.line-Y.line||L.ch-Y.ch)<0?L:Y}function $e(L,Y){return(L.line-Y.line||L.ch-Y.ch)>0?L:Y}function Ge(L,Y){return L.line==Y.line&&L.ch==Y.ch}function Ke(L,Y,P){for(var X=L.length-1;X>=0;X--){var q=L[X],re=(P?q.origTo:q.editTo)-1;if(re<Y)return re}}function Ht(L,Y,P){for(var X=0;X<L.length;X++){var q=L[X],re=P?q.origFrom:q.editFrom;if(re>Y)return re}}function Et(L,Y){var P=null,X=L.state.diffViews,q=L.getCursor().line;if(X)for(var re=0;re<X.length;re++){var me=X[re],Se=L==me.orig;l(me);var Ee=Y<0?Ke(me.chunks,q,Se):Ht(me.chunks,q,Se);Ee!=null&&(P==null||(Y<0?Ee>P:Ee<P))&&(P=Ee)}if(P!=null)L.setCursor(P,0);else return t.Pass}t.commands.goNextDiff=function(L){return Et(L,1)},t.commands.goPrevDiff=function(L){return Et(L,-1)}})})();var zw={exports:{}};(function(n){var e=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},t=-1,r=1,o=0;e.Diff=function(s,l){return[s,l]},e.prototype.diff_main=function(s,l,u,f){typeof f>"u"&&(this.Diff_Timeout<=0?f=Number.MAX_VALUE:f=new Date().getTime()+this.Diff_Timeout*1e3);var d=f;if(s==null||l==null)throw new Error("Null input. (diff_main)");if(s==l)return s?[new e.Diff(o,s)]:[];typeof u>"u"&&(u=!0);var p=u,m=this.diff_commonPrefix(s,l),v=s.substring(0,m);s=s.substring(m),l=l.substring(m),m=this.diff_commonSuffix(s,l);var D=s.substring(s.length-m);s=s.substring(0,s.length-m),l=l.substring(0,l.length-m);var w=this.diff_compute_(s,l,p,d);return v&&w.unshift(new e.Diff(o,v)),D&&w.push(new e.Diff(o,D)),this.diff_cleanupMerge(w),w},e.prototype.diff_compute_=function(s,l,u,f){var d;if(!s)return[new e.Diff(r,l)];if(!l)return[new e.Diff(t,s)];var p=s.length>l.length?s:l,m=s.length>l.length?l:s,v=p.indexOf(m);if(v!=-1)return d=[new e.Diff(r,p.substring(0,v)),new e.Diff(o,m),new e.Diff(r,p.substring(v+m.length))],s.length>l.length&&(d[0][0]=d[2][0]=t),d;if(m.length==1)return[new e.Diff(t,s),new e.Diff(r,l)];var D=this.diff_halfMatch_(s,l);if(D){var w=D[0],k=D[1],M=D[2],R=D[3],I=D[4],z=this.diff_main(w,M,u,f),b=this.diff_main(k,R,u,f);return z.concat([new e.Diff(o,I)],b)}return u&&s.length>100&&l.length>100?this.diff_lineMode_(s,l,f):this.diff_bisect_(s,l,f)},e.prototype.diff_lineMode_=function(s,l,u){var f=this.diff_linesToChars_(s,l);s=f.chars1,l=f.chars2;var d=f.lineArray,p=this.diff_main(s,l,!1,u);this.diff_charsToLines_(p,d),this.diff_cleanupSemantic(p),p.push(new e.Diff(o,""));for(var m=0,v=0,D=0,w="",k="";m<p.length;){switch(p[m][0]){case r:D++,k+=p[m][1];break;case t:v++,w+=p[m][1];break;case o:if(v>=1&&D>=1){p.splice(m-v-D,v+D),m=m-v-D;for(var M=this.diff_main(w,k,!1,u),R=M.length-1;R>=0;R--)p.splice(m,0,M[R]);m=m+M.length}D=0,v=0,w="",k="";break}m++}return p.pop(),p},e.prototype.diff_bisect_=function(s,l,u){for(var f=s.length,d=l.length,p=Math.ceil((f+d)/2),m=p,v=2*p,D=new Array(v),w=new Array(v),k=0;k<v;k++)D[k]=-1,w[k]=-1;D[m+1]=0,w[m+1]=0;for(var M=f-d,R=M%2!=0,I=0,z=0,b=0,x=0,T=0;T<p&&!(new Date().getTime()>u);T++){for(var B=-T+I;B<=T-z;B+=2){var $=m+B,V;B==-T||B!=T&&D[$-1]<D[$+1]?V=D[$+1]:V=D[$-1]+1;for(var J=V-B;V<f&&J<d&&s.charAt(V)==l.charAt(J);)V++,J++;if(D[$]=V,V>f)z+=2;else if(J>d)I+=2;else if(R){var U=m+M-B;if(U>=0&&U<v&&w[U]!=-1){var H=f-w[U];if(V>=H)return this.diff_bisectSplit_(s,l,V,J,u)}}}for(var j=-T+b;j<=T-x;j+=2){var U=m+j,H;j==-T||j!=T&&w[U-1]<w[U+1]?H=w[U+1]:H=w[U-1]+1;for(var _=H-j;H<f&&_<d&&s.charAt(f-H-1)==l.charAt(d-_-1);)H++,_++;if(w[U]=H,H>f)x+=2;else if(_>d)b+=2;else if(!R){var $=m+M-j;if($>=0&&$<v&&D[$]!=-1){var V=D[$],J=m+V-$;if(H=f-H,V>=H)return this.diff_bisectSplit_(s,l,V,J,u)}}}}return[new e.Diff(t,s),new e.Diff(r,l)]},e.prototype.diff_bisectSplit_=function(s,l,u,f,d){var p=s.substring(0,u),m=l.substring(0,f),v=s.substring(u),D=l.substring(f),w=this.diff_main(p,m,!1,d),k=this.diff_main(v,D,!1,d);return w.concat(k)},e.prototype.diff_linesToChars_=function(s,l){var u=[],f={};u[0]="";function d(D){for(var w="",k=0,M=-1,R=u.length;M<D.length-1;){M=D.indexOf(`
`,k),M==-1&&(M=D.length-1);var I=D.substring(k,M+1);(f.hasOwnProperty?f.hasOwnProperty(I):f[I]!==void 0)?w+=String.fromCharCode(f[I]):(R==p&&(I=D.substring(k),M=D.length),w+=String.fromCharCode(R),f[I]=R,u[R++]=I),k=M+1}return w}var p=4e4,m=d(s);p=65535;var v=d(l);return{chars1:m,chars2:v,lineArray:u}},e.prototype.diff_charsToLines_=function(s,l){for(var u=0;u<s.length;u++){for(var f=s[u][1],d=[],p=0;p<f.length;p++)d[p]=l[f.charCodeAt(p)];s[u][1]=d.join("")}},e.prototype.diff_commonPrefix=function(s,l){if(!s||!l||s.charAt(0)!=l.charAt(0))return 0;for(var u=0,f=Math.min(s.length,l.length),d=f,p=0;u<d;)s.substring(p,d)==l.substring(p,d)?(u=d,p=u):f=d,d=Math.floor((f-u)/2+u);return d},e.prototype.diff_commonSuffix=function(s,l){if(!s||!l||s.charAt(s.length-1)!=l.charAt(l.length-1))return 0;for(var u=0,f=Math.min(s.length,l.length),d=f,p=0;u<d;)s.substring(s.length-d,s.length-p)==l.substring(l.length-d,l.length-p)?(u=d,p=u):f=d,d=Math.floor((f-u)/2+u);return d},e.prototype.diff_commonOverlap_=function(s,l){var u=s.length,f=l.length;if(u==0||f==0)return 0;u>f?s=s.substring(u-f):u<f&&(l=l.substring(0,u));var d=Math.min(u,f);if(s==l)return d;for(var p=0,m=1;;){var v=s.substring(d-m),D=l.indexOf(v);if(D==-1)return p;m+=D,(D==0||s.substring(d-m)==l.substring(0,m))&&(p=m,m++)}},e.prototype.diff_halfMatch_=function(s,l){if(this.Diff_Timeout<=0)return null;var u=s.length>l.length?s:l,f=s.length>l.length?l:s;if(u.length<4||f.length*2<u.length)return null;var d=this;function p(z,b,x){for(var T=z.substring(x,x+Math.floor(z.length/4)),B=-1,$="",V,J,U,H;(B=b.indexOf(T,B+1))!=-1;){var j=d.diff_commonPrefix(z.substring(x),b.substring(B)),_=d.diff_commonSuffix(z.substring(0,x),b.substring(0,B));$.length<_+j&&($=b.substring(B-_,B)+b.substring(B,B+j),V=z.substring(0,x-_),J=z.substring(x+j),U=b.substring(0,B-_),H=b.substring(B+j))}return $.length*2>=z.length?[V,J,U,H,$]:null}var m=p(u,f,Math.ceil(u.length/4)),v=p(u,f,Math.ceil(u.length/2)),D;if(!m&&!v)return null;v?m?D=m[4].length>v[4].length?m:v:D=v:D=m;var w,k,M,R;s.length>l.length?(w=D[0],k=D[1],M=D[2],R=D[3]):(M=D[0],R=D[1],w=D[2],k=D[3]);var I=D[4];return[w,k,M,R,I]},e.prototype.diff_cleanupSemantic=function(s){for(var l=!1,u=[],f=0,d=null,p=0,m=0,v=0,D=0,w=0;p<s.length;)s[p][0]==o?(u[f++]=p,m=D,v=w,D=0,w=0,d=s[p][1]):(s[p][0]==r?D+=s[p][1].length:w+=s[p][1].length,d&&d.length<=Math.max(m,v)&&d.length<=Math.max(D,w)&&(s.splice(u[f-1],0,new e.Diff(t,d)),s[u[f-1]+1][0]=r,f--,f--,p=f>0?u[f-1]:-1,m=0,v=0,D=0,w=0,d=null,l=!0)),p++;for(l&&this.diff_cleanupMerge(s),this.diff_cleanupSemanticLossless(s),p=1;p<s.length;){if(s[p-1][0]==t&&s[p][0]==r){var k=s[p-1][1],M=s[p][1],R=this.diff_commonOverlap_(k,M),I=this.diff_commonOverlap_(M,k);R>=I?(R>=k.length/2||R>=M.length/2)&&(s.splice(p,0,new e.Diff(o,M.substring(0,R))),s[p-1][1]=k.substring(0,k.length-R),s[p+1][1]=M.substring(R),p++):(I>=k.length/2||I>=M.length/2)&&(s.splice(p,0,new e.Diff(o,k.substring(0,I))),s[p-1][0]=r,s[p-1][1]=M.substring(0,M.length-I),s[p+1][0]=t,s[p+1][1]=k.substring(I),p++),p++}p++}},e.prototype.diff_cleanupSemanticLossless=function(s){function l(I,z){if(!I||!z)return 6;var b=I.charAt(I.length-1),x=z.charAt(0),T=b.match(e.nonAlphaNumericRegex_),B=x.match(e.nonAlphaNumericRegex_),$=T&&b.match(e.whitespaceRegex_),V=B&&x.match(e.whitespaceRegex_),J=$&&b.match(e.linebreakRegex_),U=V&&x.match(e.linebreakRegex_),H=J&&I.match(e.blanklineEndRegex_),j=U&&z.match(e.blanklineStartRegex_);return H||j?5:J||U?4:T&&!$&&V?3:$||V?2:T||B?1:0}for(var u=1;u<s.length-1;){if(s[u-1][0]==o&&s[u+1][0]==o){var f=s[u-1][1],d=s[u][1],p=s[u+1][1],m=this.diff_commonSuffix(f,d);if(m){var v=d.substring(d.length-m);f=f.substring(0,f.length-m),d=v+d.substring(0,d.length-m),p=v+p}for(var D=f,w=d,k=p,M=l(f,d)+l(d,p);d.charAt(0)===p.charAt(0);){f+=d.charAt(0),d=d.substring(1)+p.charAt(0),p=p.substring(1);var R=l(f,d)+l(d,p);R>=M&&(M=R,D=f,w=d,k=p)}s[u-1][1]!=D&&(D?s[u-1][1]=D:(s.splice(u-1,1),u--),s[u][1]=w,k?s[u+1][1]=k:(s.splice(u+1,1),u--))}u++}},e.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,e.whitespaceRegex_=/\s/,e.linebreakRegex_=/[\r\n]/,e.blanklineEndRegex_=/\n\r?\n$/,e.blanklineStartRegex_=/^\r?\n\r?\n/,e.prototype.diff_cleanupEfficiency=function(s){for(var l=!1,u=[],f=0,d=null,p=0,m=!1,v=!1,D=!1,w=!1;p<s.length;)s[p][0]==o?(s[p][1].length<this.Diff_EditCost&&(D||w)?(u[f++]=p,m=D,v=w,d=s[p][1]):(f=0,d=null),D=w=!1):(s[p][0]==t?w=!0:D=!0,d&&(m&&v&&D&&w||d.length<this.Diff_EditCost/2&&m+v+D+w==3)&&(s.splice(u[f-1],0,new e.Diff(t,d)),s[u[f-1]+1][0]=r,f--,d=null,m&&v?(D=w=!0,f=0):(f--,p=f>0?u[f-1]:-1,D=w=!1),l=!0)),p++;l&&this.diff_cleanupMerge(s)},e.prototype.diff_cleanupMerge=function(s){s.push(new e.Diff(o,""));for(var l=0,u=0,f=0,d="",p="",m;l<s.length;)switch(s[l][0]){case r:f++,p+=s[l][1],l++;break;case t:u++,d+=s[l][1],l++;break;case o:u+f>1?(u!==0&&f!==0&&(m=this.diff_commonPrefix(p,d),m!==0&&(l-u-f>0&&s[l-u-f-1][0]==o?s[l-u-f-1][1]+=p.substring(0,m):(s.splice(0,0,new e.Diff(o,p.substring(0,m))),l++),p=p.substring(m),d=d.substring(m)),m=this.diff_commonSuffix(p,d),m!==0&&(s[l][1]=p.substring(p.length-m)+s[l][1],p=p.substring(0,p.length-m),d=d.substring(0,d.length-m))),l-=u+f,s.splice(l,u+f),d.length&&(s.splice(l,0,new e.Diff(t,d)),l++),p.length&&(s.splice(l,0,new e.Diff(r,p)),l++),l++):l!==0&&s[l-1][0]==o?(s[l-1][1]+=s[l][1],s.splice(l,1)):l++,f=0,u=0,d="",p="";break}s[s.length-1][1]===""&&s.pop();var v=!1;for(l=1;l<s.length-1;)s[l-1][0]==o&&s[l+1][0]==o&&(s[l][1].substring(s[l][1].length-s[l-1][1].length)==s[l-1][1]?(s[l][1]=s[l-1][1]+s[l][1].substring(0,s[l][1].length-s[l-1][1].length),s[l+1][1]=s[l-1][1]+s[l+1][1],s.splice(l-1,1),v=!0):s[l][1].substring(0,s[l+1][1].length)==s[l+1][1]&&(s[l-1][1]+=s[l+1][1],s[l][1]=s[l][1].substring(s[l+1][1].length)+s[l+1][1],s.splice(l+1,1),v=!0)),l++;v&&this.diff_cleanupMerge(s)},e.prototype.diff_xIndex=function(s,l){var u=0,f=0,d=0,p=0,m;for(m=0;m<s.length&&(s[m][0]!==r&&(u+=s[m][1].length),s[m][0]!==t&&(f+=s[m][1].length),!(u>l));m++)d=u,p=f;return s.length!=m&&s[m][0]===t?p:p+(l-d)},e.prototype.diff_prettyHtml=function(s){for(var l=[],u=/&/g,f=/</g,d=/>/g,p=/\n/g,m=0;m<s.length;m++){var v=s[m][0],D=s[m][1],w=D.replace(u,"&amp;").replace(f,"&lt;").replace(d,"&gt;").replace(p,"&para;<br>");switch(v){case r:l[m]='<ins style="background:#e6ffe6;">'+w+"</ins>";break;case t:l[m]='<del style="background:#ffe6e6;">'+w+"</del>";break;case o:l[m]="<span>"+w+"</span>";break}}return l.join("")},e.prototype.diff_text1=function(s){for(var l=[],u=0;u<s.length;u++)s[u][0]!==r&&(l[u]=s[u][1]);return l.join("")},e.prototype.diff_text2=function(s){for(var l=[],u=0;u<s.length;u++)s[u][0]!==t&&(l[u]=s[u][1]);return l.join("")},e.prototype.diff_levenshtein=function(s){for(var l=0,u=0,f=0,d=0;d<s.length;d++){var p=s[d][0],m=s[d][1];switch(p){case r:u+=m.length;break;case t:f+=m.length;break;case o:l+=Math.max(u,f),u=0,f=0;break}}return l+=Math.max(u,f),l},e.prototype.diff_toDelta=function(s){for(var l=[],u=0;u<s.length;u++)switch(s[u][0]){case r:l[u]="+"+encodeURI(s[u][1]);break;case t:l[u]="-"+s[u][1].length;break;case o:l[u]="="+s[u][1].length;break}return l.join("	").replace(/%20/g," ")},e.prototype.diff_fromDelta=function(s,l){for(var u=[],f=0,d=0,p=l.split(/\t/g),m=0;m<p.length;m++){var v=p[m].substring(1);switch(p[m].charAt(0)){case"+":try{u[f++]=new e.Diff(r,decodeURI(v))}catch{throw new Error("Illegal escape in diff_fromDelta: "+v)}break;case"-":case"=":var D=parseInt(v,10);if(isNaN(D)||D<0)throw new Error("Invalid number in diff_fromDelta: "+v);var w=s.substring(d,d+=D);p[m].charAt(0)=="="?u[f++]=new e.Diff(o,w):u[f++]=new e.Diff(t,w);break;default:if(p[m])throw new Error("Invalid diff operation in diff_fromDelta: "+p[m])}}if(d!=s.length)throw new Error("Delta length ("+d+") does not equal source text length ("+s.length+").");return u},e.prototype.match_main=function(s,l,u){if(s==null||l==null||u==null)throw new Error("Null input. (match_main)");return u=Math.max(0,Math.min(u,s.length)),s==l?0:s.length?s.substring(u,u+l.length)==l?u:this.match_bitap_(s,l,u):-1},e.prototype.match_bitap_=function(s,l,u){if(l.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var f=this.match_alphabet_(l),d=this;function p(V,J){var U=V/l.length,H=Math.abs(u-J);return d.Match_Distance?U+H/d.Match_Distance:H?1:U}var m=this.Match_Threshold,v=s.indexOf(l,u);v!=-1&&(m=Math.min(p(0,v),m),v=s.lastIndexOf(l,u+l.length),v!=-1&&(m=Math.min(p(0,v),m)));var D=1<<l.length-1;v=-1;for(var w,k,M=l.length+s.length,R,I=0;I<l.length;I++){for(w=0,k=M;w<k;)p(I,u+k)<=m?w=k:M=k,k=Math.floor((M-w)/2+w);M=k;var z=Math.max(1,u-k+1),b=Math.min(u+k,s.length)+l.length,x=Array(b+2);x[b+1]=(1<<I)-1;for(var T=b;T>=z;T--){var B=f[s.charAt(T-1)];if(I===0?x[T]=(x[T+1]<<1|1)&B:x[T]=(x[T+1]<<1|1)&B|((R[T+1]|R[T])<<1|1)|R[T+1],x[T]&D){var $=p(I,T-1);if($<=m)if(m=$,v=T-1,v>u)z=Math.max(1,2*u-v);else break}}if(p(I+1,u)>m)break;R=x}return v},e.prototype.match_alphabet_=function(s){for(var l={},u=0;u<s.length;u++)l[s.charAt(u)]=0;for(var u=0;u<s.length;u++)l[s.charAt(u)]|=1<<s.length-u-1;return l},e.prototype.patch_addContext_=function(s,l){if(l.length!=0){if(s.start2===null)throw Error("patch not initialized");for(var u=l.substring(s.start2,s.start2+s.length1),f=0;l.indexOf(u)!=l.lastIndexOf(u)&&u.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)f+=this.Patch_Margin,u=l.substring(s.start2-f,s.start2+s.length1+f);f+=this.Patch_Margin;var d=l.substring(s.start2-f,s.start2);d&&s.diffs.unshift(new e.Diff(o,d));var p=l.substring(s.start2+s.length1,s.start2+s.length1+f);p&&s.diffs.push(new e.Diff(o,p)),s.start1-=d.length,s.start2-=d.length,s.length1+=d.length+p.length,s.length2+=d.length+p.length}},e.prototype.patch_make=function(s,l,u){var f,d;if(typeof s=="string"&&typeof l=="string"&&typeof u>"u")f=s,d=this.diff_main(f,l,!0),d.length>2&&(this.diff_cleanupSemantic(d),this.diff_cleanupEfficiency(d));else if(s&&typeof s=="object"&&typeof l>"u"&&typeof u>"u")d=s,f=this.diff_text1(d);else if(typeof s=="string"&&l&&typeof l=="object"&&typeof u>"u")f=s,d=l;else if(typeof s=="string"&&typeof l=="string"&&u&&typeof u=="object")f=s,d=u;else throw new Error("Unknown call format to patch_make.");if(d.length===0)return[];for(var p=[],m=new e.patch_obj,v=0,D=0,w=0,k=f,M=f,R=0;R<d.length;R++){var I=d[R][0],z=d[R][1];switch(!v&&I!==o&&(m.start1=D,m.start2=w),I){case r:m.diffs[v++]=d[R],m.length2+=z.length,M=M.substring(0,w)+z+M.substring(w);break;case t:m.length1+=z.length,m.diffs[v++]=d[R],M=M.substring(0,w)+M.substring(w+z.length);break;case o:z.length<=2*this.Patch_Margin&&v&&d.length!=R+1?(m.diffs[v++]=d[R],m.length1+=z.length,m.length2+=z.length):z.length>=2*this.Patch_Margin&&v&&(this.patch_addContext_(m,k),p.push(m),m=new e.patch_obj,v=0,k=M,D=w);break}I!==r&&(D+=z.length),I!==t&&(w+=z.length)}return v&&(this.patch_addContext_(m,k),p.push(m)),p},e.prototype.patch_deepCopy=function(s){for(var l=[],u=0;u<s.length;u++){var f=s[u],d=new e.patch_obj;d.diffs=[];for(var p=0;p<f.diffs.length;p++)d.diffs[p]=new e.Diff(f.diffs[p][0],f.diffs[p][1]);d.start1=f.start1,d.start2=f.start2,d.length1=f.length1,d.length2=f.length2,l[u]=d}return l},e.prototype.patch_apply=function(s,l){if(s.length==0)return[l,[]];s=this.patch_deepCopy(s);var u=this.patch_addPadding(s);l=u+l+u,this.patch_splitMax(s);for(var f=0,d=[],p=0;p<s.length;p++){var m=s[p].start2+f,v=this.diff_text1(s[p].diffs),D,w=-1;if(v.length>this.Match_MaxBits?(D=this.match_main(l,v.substring(0,this.Match_MaxBits),m),D!=-1&&(w=this.match_main(l,v.substring(v.length-this.Match_MaxBits),m+v.length-this.Match_MaxBits),(w==-1||D>=w)&&(D=-1))):D=this.match_main(l,v,m),D==-1)d[p]=!1,f-=s[p].length2-s[p].length1;else{d[p]=!0,f=D-m;var k;if(w==-1?k=l.substring(D,D+v.length):k=l.substring(D,w+this.Match_MaxBits),v==k)l=l.substring(0,D)+this.diff_text2(s[p].diffs)+l.substring(D+v.length);else{var M=this.diff_main(v,k,!1);if(v.length>this.Match_MaxBits&&this.diff_levenshtein(M)/v.length>this.Patch_DeleteThreshold)d[p]=!1;else{this.diff_cleanupSemanticLossless(M);for(var R=0,I,z=0;z<s[p].diffs.length;z++){var b=s[p].diffs[z];b[0]!==o&&(I=this.diff_xIndex(M,R)),b[0]===r?l=l.substring(0,D+I)+b[1]+l.substring(D+I):b[0]===t&&(l=l.substring(0,D+I)+l.substring(D+this.diff_xIndex(M,R+b[1].length))),b[0]!==t&&(R+=b[1].length)}}}}}return l=l.substring(u.length,l.length-u.length),[l,d]},e.prototype.patch_addPadding=function(s){for(var l=this.Patch_Margin,u="",f=1;f<=l;f++)u+=String.fromCharCode(f);for(var f=0;f<s.length;f++)s[f].start1+=l,s[f].start2+=l;var d=s[0],p=d.diffs;if(p.length==0||p[0][0]!=o)p.unshift(new e.Diff(o,u)),d.start1-=l,d.start2-=l,d.length1+=l,d.length2+=l;else if(l>p[0][1].length){var m=l-p[0][1].length;p[0][1]=u.substring(p[0][1].length)+p[0][1],d.start1-=m,d.start2-=m,d.length1+=m,d.length2+=m}if(d=s[s.length-1],p=d.diffs,p.length==0||p[p.length-1][0]!=o)p.push(new e.Diff(o,u)),d.length1+=l,d.length2+=l;else if(l>p[p.length-1][1].length){var m=l-p[p.length-1][1].length;p[p.length-1][1]+=u.substring(0,m),d.length1+=m,d.length2+=m}return u},e.prototype.patch_splitMax=function(s){for(var l=this.Match_MaxBits,u=0;u<s.length;u++)if(!(s[u].length1<=l)){var f=s[u];s.splice(u--,1);for(var d=f.start1,p=f.start2,m="";f.diffs.length!==0;){var v=new e.patch_obj,D=!0;for(v.start1=d-m.length,v.start2=p-m.length,m!==""&&(v.length1=v.length2=m.length,v.diffs.push(new e.Diff(o,m)));f.diffs.length!==0&&v.length1<l-this.Patch_Margin;){var w=f.diffs[0][0],k=f.diffs[0][1];w===r?(v.length2+=k.length,p+=k.length,v.diffs.push(f.diffs.shift()),D=!1):w===t&&v.diffs.length==1&&v.diffs[0][0]==o&&k.length>2*l?(v.length1+=k.length,d+=k.length,D=!1,v.diffs.push(new e.Diff(w,k)),f.diffs.shift()):(k=k.substring(0,l-v.length1-this.Patch_Margin),v.length1+=k.length,d+=k.length,w===o?(v.length2+=k.length,p+=k.length):D=!1,v.diffs.push(new e.Diff(w,k)),k==f.diffs[0][1]?f.diffs.shift():f.diffs[0][1]=f.diffs[0][1].substring(k.length))}m=this.diff_text2(v.diffs),m=m.substring(m.length-this.Patch_Margin);var M=this.diff_text1(f.diffs).substring(0,this.Patch_Margin);M!==""&&(v.length1+=M.length,v.length2+=M.length,v.diffs.length!==0&&v.diffs[v.diffs.length-1][0]===o?v.diffs[v.diffs.length-1][1]+=M:v.diffs.push(new e.Diff(o,M))),D||s.splice(++u,0,v)}}},e.prototype.patch_toText=function(s){for(var l=[],u=0;u<s.length;u++)l[u]=s[u];return l.join("")},e.prototype.patch_fromText=function(s){var l=[];if(!s)return l;for(var u=s.split(`
`),f=0,d=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;f<u.length;){var p=u[f].match(d);if(!p)throw new Error("Invalid patch string: "+u[f]);var m=new e.patch_obj;for(l.push(m),m.start1=parseInt(p[1],10),p[2]===""?(m.start1--,m.length1=1):p[2]=="0"?m.length1=0:(m.start1--,m.length1=parseInt(p[2],10)),m.start2=parseInt(p[3],10),p[4]===""?(m.start2--,m.length2=1):p[4]=="0"?m.length2=0:(m.start2--,m.length2=parseInt(p[4],10)),f++;f<u.length;){var v=u[f].charAt(0);try{var D=decodeURI(u[f].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+D)}if(v=="-")m.diffs.push(new e.Diff(t,D));else if(v=="+")m.diffs.push(new e.Diff(r,D));else if(v==" ")m.diffs.push(new e.Diff(o,D));else{if(v=="@")break;if(v!=="")throw new Error('Invalid patch mode "'+v+'" in: '+D)}f++}}return l},e.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},e.patch_obj.prototype.toString=function(){var s,l;this.length1===0?s=this.start1+",0":this.length1==1?s=this.start1+1:s=this.start1+1+","+this.length1,this.length2===0?l=this.start2+",0":this.length2==1?l=this.start2+1:l=this.start2+1+","+this.length2;for(var u=["@@ -"+s+" +"+l+` @@
`],f,d=0;d<this.diffs.length;d++){switch(this.diffs[d][0]){case r:f="+";break;case t:f="-";break;case o:f=" ";break}u[d+1]=f+encodeURI(this.diffs[d][1])+`
`}return u.join("").replace(/%20/g," ")},n.exports=e,n.exports.diff_match_patch=e,n.exports.DIFF_DELETE=t,n.exports.DIFF_INSERT=r,n.exports.DIFF_EQUAL=o})(zw);var XM=zw.exports;const QM=ir(XM);(function(n,e){(function(t){t($r())})(function(t){t.defineSimpleMode=function(v,D){t.defineMode(v,function(w){return t.simpleMode(w,D)})},t.simpleMode=function(v,D){r(D,"start");var w={},k=D.meta||{},M=!1;for(var R in D)if(R!=k&&D.hasOwnProperty(R))for(var I=w[R]=[],z=D[R],b=0;b<z.length;b++){var x=z[b];I.push(new l(x,D)),(x.indent||x.dedent)&&(M=!0)}var T={startState:function(){return{state:"start",pending:null,local:null,localState:null,indent:M?[]:null}},copyState:function($){var V={state:$.state,pending:$.pending,local:$.local,localState:null,indent:$.indent&&$.indent.slice(0)};$.localState&&(V.localState=t.copyState($.local.mode,$.localState)),$.stack&&(V.stack=$.stack.slice(0));for(var J=$.persistentStates;J;J=J.next)V.persistentStates={mode:J.mode,spec:J.spec,state:J.state==$.localState?V.localState:t.copyState(J.mode,J.state),next:V.persistentStates};return V},token:u(w,v),innerMode:function($){return $.local&&{mode:$.local.mode,state:$.localState}},indent:m(w,k)};if(k)for(var B in k)k.hasOwnProperty(B)&&(T[B]=k[B]);return T};function r(v,D){if(!v.hasOwnProperty(D))throw new Error("Undefined state "+D+" in simple mode")}function o(v,D){if(!v)return/(?:)/;var w="";return v instanceof RegExp?(v.ignoreCase&&(w="i"),v.unicode&&(w+="u"),v=v.source):v=String(v),new RegExp((D===!1?"":"^")+"(?:"+v+")",w)}function s(v){if(!v)return null;if(v.apply)return v;if(typeof v=="string")return v.replace(/\./g," ");for(var D=[],w=0;w<v.length;w++)D.push(v[w]&&v[w].replace(/\./g," "));return D}function l(v,D){(v.next||v.push)&&r(D,v.next||v.push),this.regex=o(v.regex),this.token=s(v.token),this.data=v}function u(v,D){return function(w,k){if(k.pending){var M=k.pending.shift();return k.pending.length==0&&(k.pending=null),w.pos+=M.text.length,M.token}if(k.local)if(k.local.end&&w.match(k.local.end)){var R=k.local.endToken||null;return k.local=k.localState=null,R}else{var R=k.local.mode.token(w,k.localState),I;return k.local.endScan&&(I=k.local.endScan.exec(w.current()))&&(w.pos=w.start+I.index),R}for(var z=v[k.state],b=0;b<z.length;b++){var x=z[b],T=(!x.data.sol||w.sol())&&w.match(x.regex);if(T){x.data.next?k.state=x.data.next:x.data.push?((k.stack||(k.stack=[])).push(k.state),k.state=x.data.push):x.data.pop&&k.stack&&k.stack.length&&(k.state=k.stack.pop()),x.data.mode&&d(D,k,x.data.mode,x.token),x.data.indent&&k.indent.push(w.indentation()+D.indentUnit),x.data.dedent&&k.indent.pop();var B=x.token;if(B&&B.apply&&(B=B(T)),T.length>2&&x.token&&typeof x.token!="string"){for(var $=2;$<T.length;$++)T[$]&&(k.pending||(k.pending=[])).push({text:T[$],token:x.token[$-1]});return w.backUp(T[0].length-(T[1]?T[1].length:0)),B[0]}else return B&&B.join?B[0]:B}}return w.next(),null}}function f(v,D){if(v===D)return!0;if(!v||typeof v!="object"||!D||typeof D!="object")return!1;var w=0;for(var k in v)if(v.hasOwnProperty(k)){if(!D.hasOwnProperty(k)||!f(v[k],D[k]))return!1;w++}for(var k in D)D.hasOwnProperty(k)&&w--;return w==0}function d(v,D,w,k){var M;if(w.persistent)for(var R=D.persistentStates;R&&!M;R=R.next)(w.spec?f(w.spec,R.spec):w.mode==R.mode)&&(M=R);var I=M?M.mode:w.mode||t.getMode(v,w.spec),z=M?M.state:t.startState(I);w.persistent&&!M&&(D.persistentStates={mode:I,spec:w.spec,state:z,next:D.persistentStates}),D.localState=z,D.local={mode:I,end:w.end&&o(w.end),endScan:w.end&&w.forceEnd!==!1&&o(w.end,!1),endToken:k&&k.join?k[k.length-1]:k}}function p(v,D){for(var w=0;w<D.length;w++)if(D[w]===v)return!0}function m(v,D){return function(w,k,M){if(w.local&&w.local.mode.indent)return w.local.mode.indent(w.localState,k,M);if(w.indent==null||w.local||D.dontIndentStates&&p(w.state,D.dontIndentStates)>-1)return t.Pass;var R=w.indent.length-1,I=v[w.state];e:for(;;){for(var z=0;z<I.length;z++){var b=I[z];if(b.data.dedent&&b.data.dedentIfLineStart!==!1){var x=b.regex.exec(k);if(x&&x[0]){R--,(b.next||b.push)&&(I=v[b.next||b.push]),k=k.slice(x[0].length);continue e}}}break}return R<0?0:w.indent[R]}}})})();!window.CodeMirror&&(window.CodeMirror=Pw);const Yl=window.CodeMirror||Pw,ZM=ls({name:"DefaultMode",props:{name:{type:String,default:`cm-textarea-${+new Date}`},value:{type:String,default:""},content:{type:String,default:""},options:{type:Object,default:()=>({})},cminstance:{type:Object,default:()=>null},placeholder:{type:String,default:""}},emits:{ready:n=>n,"update:cminstance":n=>n},setup(n,{emit:e}){const t=hr(),r=hr(null),o=()=>{r.value=xc(Yl.fromTextArea(t.value,n.options)),e("update:cminstance",r.value);const s=Vo(()=>n.cminstance,l=>{var u;l&&((u=n.cminstance)==null||u.setValue(n.value||n.content)),e("ready",bn(r)),s==null||s()},{deep:!0})};return cg(()=>{o()}),{textarea:t,initialize:o}}}),Og=(n,e)=>{const t=n.__vccOpts||n;for(const[r,o]of e)t[r]=o;return t},eF=["name","placeholder"];function tF(n,e,t,r,o,s){return at(),co("textarea",{ref:"textarea",name:n.$props.name,placeholder:n.$props.placeholder},null,8,eF)}const ky=Og(ZM,[["render",tF]]);window.diff_match_patch=QM;window.DIFF_DELETE=-1;window.DIFF_INSERT=1;window.DIFF_EQUAL=0;const nF=ls({name:"MergeMode",props:{options:{type:Object,default:()=>({})},cminstance:{type:Object,default:()=>({})}},emits:["update:cminstance","ready"],setup(n,{emit:e}){const t=hr(),r=hr(),o=()=>{t.value=xc(Yl.MergeView(r.value,n.options)),e("update:cminstance",t.value),e("ready",t)};return cg(()=>{o()}),{mergeView:r,initialize:o}}}),rF={ref:"mergeView"};function iF(n,e,t,r,o,s){return at(),co("div",rF,null,512)}const oF=Og(nF,[["render",iF]]);function sF(n){const e=/#link#(.+)#link#/g,t=[];let r;for(r=e.exec(n);r;){const o=document.createElement("a"),s=JSON.parse(r[1]),l=Object.entries(s);for(const[u,f]of l)o.setAttribute(u,f);o.className="editor_custom_link",o.innerHTML="logDownload",t.push({start:r.index,end:r.index+r[0].length,node:o}),r=e.exec(n)}return t}function aF(n){const e=[];function t(){const r=/#log<(\w*)>log#((.|\r\n|\n)*?)#log<(\w*)>log#/g;let o;for(o=r.exec(n);o;){const s=o[0].replace(/\r\n/g,`
`).split(`
`),l=o[2].replace(/\r\n/g,`
`).split(`
`),u=document.createElement("span"),f=o[1];u.className=`c-editor--log__${f}`;let d=0;for(let p=0;p<s.length;p++){const m=s[p],v=l[p],D=u.cloneNode(!1);D.innerText=v,e.push({start:o.index+d,end:o.index+d+m.length,node:D}),d=d+m.length+1}o=r.exec(n)}}return t(),e}const Wu=[{regex:/(\[.*?\])([ \t]*)(<error>[ \t])(.+)/,token:["tag","","error.strong","error.strong"],sol:!0},{regex:/(\[.*?\])([ \t]*)(<info>)(.+)(.?)/,token:["tag","","bracket","bracket","hr"],sol:!0},{regex:/(\[.*?\])([ \t]*)(<warning>)(.+)(.?)/,token:["tag","","comment","comment","hr"],sol:!0}];Yl.defineSimpleMode("fclog",{start:[...Wu,{regex:/.*/,token:"hr"}],error:[...Wu,{regex:/.*/,token:"error.strong"}],info:[...Wu,{regex:/.*/,token:"bracket"}],warning:[...Wu,{regex:/.*\[/,token:"comment"}]});Yl.defineSimpleMode("log",{start:[{regex:/^[=]+[^=]*[=]+/,token:"strong"},{regex:/([^\w])([A-Z][\w]*)/,token:["","string"]},{regex:/(^[A-Z][\w]*)/,token:"string"}]});const lF=ls({name:"CodemirrorFclog",props:{value:{type:String,default:""},name:{type:String,default:`cm-textarea-${+new Date}`},options:{type:Object,default:()=>({})},cminstance:{type:Object,default:()=>({})},placeholder:{type:String,default:""}},emits:["update:cminstance","ready"],setup(n,{emit:e}){const t=hr(),r=hr(null),o=(l=n.cminstance)=>{l.getAllMarks().forEach(d=>d.clear());const u=l.getValue(),f=[].concat(sF(u)).concat(aF(u));for(let d=0;d<f.length;d++){const p=f[d];l.markText(l.posFromIndex(p.start),l.posFromIndex(p.end),{replacedWith:p.node})}},s=()=>{var l;r.value=xc(Yl.fromTextArea(t.value,n.options)),e("update:cminstance",bn(r)),(l=r.value)==null||l.on("change",o)};return Vo(()=>n.cminstance,l=>{var u;l&&(o(n.cminstance),(u=n.cminstance)==null||u.setValue(n.value),e("ready",r))},{deep:!0,immediate:!0}),cg(()=>{s()}),{initialize:s,textarea:t}}}),uF=["name","placeholder"];function fF(n,e,t,r,o,s){return at(),co("textarea",{ref:"textarea",name:n.$props.name,placeholder:n.$props.placeholder},null,8,uF)}const cF=Og(lF,[["render",fF]]),_w={"update:value":()=>!0,change:(n,e)=>({value:n,cm:e}),input:()=>!0,ready:n=>n},hF=["changes","scroll","beforeChange","cursorActivity","keyHandled","inputRead","electricInput","beforeSelectionChange","viewportChange","swapDoc","gutterClick","gutterContextMenu","focus","blur","refresh","optionChange","scrollCursorIntoView","update"],dF=()=>{const n={};return hF.forEach(e=>{n[e]=(...t)=>t}),n},pF={..._w,...dF()},Md={mode:"text",theme:"default",lineNumbers:!0,smartIndent:!0,indentUnit:2};function gF(n){Promise.resolve().then(()=>{const e=n.getScrollInfo();n.scrollTo(e.left,e.height)})}const mF=({props:n,cminstance:e,emit:t,internalInstance:r,content:o})=>{const s=ur(()=>{var u;return n.merge?(u=bn(e))==null?void 0:u.editor():bn(e)}),l=()=>{const u=[];return Object.keys(r==null?void 0:r.vnode.props).forEach(f=>{if(f.startsWith("on")){const d=f.replace(f[2],f[2].toLowerCase()).slice(2);!_w[d]&&u.push(d)}}),u};return{listenerEvents:()=>{s.value.on("change",f=>{const d=f.getValue();d===o.value&&d!==""||(o.value=d,t("update:value",o.value||""),t("input",o.value||" "),Promise.resolve().then(()=>{t("change",o.value,f)}),n.keepCursorInEnd&&gF(f))});const u={};l().filter(f=>!u[f]&&(u[f]=!0)).forEach(f=>{s.value.on(f,(...d)=>{t(f,...d)})})}}};function vF({props:n,cminstance:e,presetRef:t}){const r=hr(null),o=hr(null),s=ur(()=>{var m;return n.merge?(m=bn(e))==null?void 0:m.editor():bn(e)}),l=()=>{Cc(()=>{var m;(m=s.value)==null||m.refresh()})},u=(m=n.width,v=n.height)=>{var D;r.value=String(m).replace("px",""),o.value=String(v).replace("px","");const w=o.value;(D=s.value)==null||D.setSize(r.value,w)},f=()=>{var m;const v=(m=s.value)==null?void 0:m.getWrapperElement();v==null||v.remove()},d=()=>{var m,v,D;const w=(m=s.value)==null?void 0:m.getDoc().getHistory();(v=t.value)==null||v.initialize(),f(),(D=s.value)==null||D.getDoc().setHistory(w)},p=()=>{const m=document.querySelector(".CodeMirror-gutters");return(m==null?void 0:m.style.left.replace("px",""))!=="0"};return{reload:d,refresh:l,resize:u,destroy:f,containerHeight:o,reviseStyle:()=>{if(l(),!p())return;const m=setInterval(()=>{p()?l():clearInterval(m)},60),v=setTimeout(()=>{clearInterval(m),clearTimeout(v)},400)}}}const _L=ls({__name:"index",props:{value:{type:String,default:""},options:{type:Object,default:()=>Md},globalOptions:{type:Object,default:()=>Md},placeholder:{type:String,default:""},border:{type:Boolean,default:!1},width:{type:[String,Number],default:null},height:{type:[String,Number],default:null},originalStyle:{type:Boolean,default:!1},keepCursorInEnd:{type:Boolean,default:!1},merge:{type:Boolean,default:!1},name:{type:String,default:""},marker:{type:Function,default:()=>null},unseenLines:{type:Array,default:()=>[]}},emits:pF,setup(n,{expose:e,emit:t}){var r,o;const s=n;typeof Object.assign!="function"&&Object.defineProperty(Object,"assign",{value($){if($==null)throw new TypeError("Cannot convert undefined or null to object");const V=Object($);for(let J=1;J<arguments.length;J++){const U=arguments[J];if(U!=null)for(const H in U)Object.prototype.hasOwnProperty.call(U,H)&&(V[H]=U[H])}return V},writable:!0,configurable:!0});const l=hr(null),u=hr(""),f=Qb(ky),d=hr({...Md,...s.globalOptions,...s.options}),p=Px(),m=s.name||((o=(r=p==null?void 0:p.parent)==null?void 0:r.type)==null?void 0:o.name)||void 0,v=hr(null),D=ur(()=>{var $;return s.merge?($=bn(l))==null?void 0:$.editor():bn(l)}),{refresh:w,resize:k,destroy:M,containerHeight:R,reviseStyle:I}=vF({props:s,cminstance:l,presetRef:v}),{listenerEvents:z}=mF({props:s,cminstance:l,emit:t,internalInstance:p,content:u}),b=()=>{s.unseenLines!==void 0&&s.marker!==void 0&&s.unseenLines.forEach($=>{var V,J;const U=(V=l.value)==null?void 0:V.lineInfo($);(J=l.value)==null||J.setGutterMarker($,"breakpoints",U!=null&&U.gutterMarkers?null:s.marker())})},x=$=>{var V,J;const U=(V=l.value)==null?void 0:V.getValue();$!==U&&((J=l.value)==null||J.setValue($),u.value=$,I()),b()},T=()=>{z(),b(),k(s.width,s.height),t("ready",l.value),Vo([()=>s.width,()=>s.height],([$,V])=>{k($,V)},{deep:!0})},B=()=>{if(s.options.mode==="fclog"||s.options.mode==="log"){f.value=cF;return}if(s.merge){f.value=oF;return}f.value=ky};return Vo(()=>s.options,$=>{var V;for(const J in s.options)(V=D.value)==null||V.setOption(J,bn($[J]))},{deep:!0}),Vo(()=>s.value,$=>{x($)}),Vo(()=>s.merge,B,{immediate:!0}),zx(()=>{M()}),e({cminstance:l,resize:k,refresh:w,destroy:M}),($,V)=>(at(),co("div",{class:lp(["codemirror-container",{merge:$.$props.merge,bordered:$.$props.border||$.$props.merge&&!s.originalStyle,"width-auto":!$.$props.width||$.$props.width=="100%","height-auto":!$.$props.height||$.$props.height=="100%","original-style":s.originalStyle}]),style:e1({height:bn(R)+"px"})},[(at(),xt(ns(bn(f)),Ul({ref_key:"presetRef",ref:v,cminstance:l.value,"onUpdate:cminstance":V[0]||(V[0]=J=>l.value=J),style:{height:"100%"}},{...$.$props,...$.$attrs,options:d.value,name:bn(m),content:u.value},{onReady:T}),null,16,["cminstance"]))],6))}});function yF(n,e){e===void 0&&(e={});var t=e.insertAt;if(!(!n||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",t==="top"&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=n:o.appendChild(document.createTextNode(n))}}yF(`.codemirror-container {
  position: relative;
  display: inline-block;
  height: 100%;
  width: fit-content;
  font-size: 12px;
  overflow: hidden;
}
.codemirror-container.bordered {
  border-radius: 4px;
  border: 1px solid #dddddd;
}
.codemirror-container.width-auto {
  width: 100%;
}
.codemirror-container.height-auto {
  height: 100%;
}
.codemirror-container.height-auto .CodeMirror,
.codemirror-container.height-auto .cm-s-default {
  height: 100% !important;
}
.codemirror-container .editor_custom_link {
  cursor: pointer;
  color: #1474f1;
  text-decoration: underline;
}
.codemirror-container .editor_custom_link:hover {
  color: #04b4fa;
}
.codemirror-container:not(.original-style) .CodeMirror-lines .CodeMirror-placeholder.CodeMirror-line-like {
  color: #666;
}
.codemirror-container:not(.original-style) .CodeMirror,
.codemirror-container:not(.original-style) .CodeMirror-merge-pane {
  height: 100%;
  font-family: consolas !important;
}
.codemirror-container:not(.original-style) .CodeMirror-merge,
.codemirror-container:not(.original-style) .CodeMirror-merge-right .CodeMirror {
  height: 100%;
  border: none !important;
}
.codemirror-container:not(.original-style) .c-editor--log__error {
  color: #bb0606;
  font-weight: bold;
}
.codemirror-container:not(.original-style) .c-editor--log__info {
  color: #333333;
  font-weight: bold;
}
.codemirror-container:not(.original-style) .c-editor--log__warning {
  color: #ee9900;
}
.codemirror-container:not(.original-style) .c-editor--log__success {
  color: #669600;
}
.codemirror-container:not(.original-style) .cm-header,
.codemirror-container:not(.original-style) .cm-strong {
  font-weight: bold;
}
`);var Ay={exports:{}},Ty;function bF(){return Ty||(Ty=1,function(n,e){(function(t){t($r())})(function(t){var r=t.Pos;function o(I){var z=I.flags;return z??(I.ignoreCase?"i":"")+(I.global?"g":"")+(I.multiline?"m":"")}function s(I,z){for(var b=o(I),x=b,T=0;T<z.length;T++)x.indexOf(z.charAt(T))==-1&&(x+=z.charAt(T));return b==x?I:new RegExp(I.source,x)}function l(I){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(I.source)}function u(I,z,b){z=s(z,"g");for(var x=b.line,T=b.ch,B=I.lastLine();x<=B;x++,T=0){z.lastIndex=T;var $=I.getLine(x),V=z.exec($);if(V)return{from:r(x,V.index),to:r(x,V.index+V[0].length),match:V}}}function f(I,z,b){if(!l(z))return u(I,z,b);z=s(z,"gm");for(var x,T=1,B=b.line,$=I.lastLine();B<=$;){for(var V=0;V<T&&!(B>$);V++){var J=I.getLine(B++);x=x==null?J:x+`
`+J}T=T*2,z.lastIndex=b.ch;var U=z.exec(x);if(U){var H=x.slice(0,U.index).split(`
`),j=U[0].split(`
`),_=b.line+H.length-1,C=H[H.length-1].length;return{from:r(_,C),to:r(_+j.length-1,j.length==1?C+j[0].length:j[j.length-1].length),match:U}}}}function d(I,z,b){for(var x,T=0;T<=I.length;){z.lastIndex=T;var B=z.exec(I);if(!B)break;var $=B.index+B[0].length;if($>I.length-b)break;(!x||$>x.index+x[0].length)&&(x=B),T=B.index+1}return x}function p(I,z,b){z=s(z,"g");for(var x=b.line,T=b.ch,B=I.firstLine();x>=B;x--,T=-1){var $=I.getLine(x),V=d($,z,T<0?0:$.length-T);if(V)return{from:r(x,V.index),to:r(x,V.index+V[0].length),match:V}}}function m(I,z,b){if(!l(z))return p(I,z,b);z=s(z,"gm");for(var x,T=1,B=I.getLine(b.line).length-b.ch,$=b.line,V=I.firstLine();$>=V;){for(var J=0;J<T&&$>=V;J++){var U=I.getLine($--);x=x==null?U:U+`
`+x}T*=2;var H=d(x,z,B);if(H){var j=x.slice(0,H.index).split(`
`),_=H[0].split(`
`),C=$+j.length,N=j[j.length-1].length;return{from:r(C,N),to:r(C+_.length-1,_.length==1?N+_[0].length:_[_.length-1].length),match:H}}}}var v,D;String.prototype.normalize?(v=function(I){return I.normalize("NFD").toLowerCase()},D=function(I){return I.normalize("NFD")}):(v=function(I){return I.toLowerCase()},D=function(I){return I});function w(I,z,b,x){if(I.length==z.length)return b;for(var T=0,B=b+Math.max(0,I.length-z.length);;){if(T==B)return T;var $=T+B>>1,V=x(I.slice(0,$)).length;if(V==b)return $;V>b?B=$:T=$+1}}function k(I,z,b,x){if(!z.length)return null;var T=x?v:D,B=T(z).split(/\r|\n\r?/);e:for(var $=b.line,V=b.ch,J=I.lastLine()+1-B.length;$<=J;$++,V=0){var U=I.getLine($).slice(V),H=T(U);if(B.length==1){var j=H.indexOf(B[0]);if(j==-1)continue e;var b=w(U,H,j,T)+V;return{from:r($,w(U,H,j,T)+V),to:r($,w(U,H,j+B[0].length,T)+V)}}else{var _=H.length-B[0].length;if(H.slice(_)!=B[0])continue e;for(var C=1;C<B.length-1;C++)if(T(I.getLine($+C))!=B[C])continue e;var N=I.getLine($+B.length-1),W=T(N),G=B[B.length-1];if(W.slice(0,G.length)!=G)continue e;return{from:r($,w(U,H,_,T)+V),to:r($+B.length-1,w(N,W,G.length,T))}}}}function M(I,z,b,x){if(!z.length)return null;var T=x?v:D,B=T(z).split(/\r|\n\r?/);e:for(var $=b.line,V=b.ch,J=I.firstLine()-1+B.length;$>=J;$--,V=-1){var U=I.getLine($);V>-1&&(U=U.slice(0,V));var H=T(U);if(B.length==1){var j=H.lastIndexOf(B[0]);if(j==-1)continue e;return{from:r($,w(U,H,j,T)),to:r($,w(U,H,j+B[0].length,T))}}else{var _=B[B.length-1];if(H.slice(0,_.length)!=_)continue e;for(var C=1,b=$-B.length+1;C<B.length-1;C++)if(T(I.getLine(b+C))!=B[C])continue e;var N=I.getLine($+1-B.length),W=T(N);if(W.slice(W.length-B[0].length)!=B[0])continue e;return{from:r($+1-B.length,w(N,W,N.length-B[0].length,T)),to:r($,w(U,H,_.length,T))}}}}function R(I,z,b,x){this.atOccurrence=!1,this.afterEmptyMatch=!1,this.doc=I,b=b?I.clipPos(b):r(0,0),this.pos={from:b,to:b};var T;typeof x=="object"?T=x.caseFold:(T=x,x=null),typeof z=="string"?(T==null&&(T=!1),this.matches=function(B,$){return(B?M:k)(I,z,$,T)}):(z=s(z,"gm"),!x||x.multiline!==!1?this.matches=function(B,$){return(B?m:f)(I,z,$)}:this.matches=function(B,$){return(B?p:u)(I,z,$)})}R.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(I){var z=this.doc.clipPos(I?this.pos.from:this.pos.to);if(this.afterEmptyMatch&&this.atOccurrence&&(z=r(z.line,z.ch),I?(z.ch--,z.ch<0&&(z.line--,z.ch=(this.doc.getLine(z.line)||"").length)):(z.ch++,z.ch>(this.doc.getLine(z.line)||"").length&&(z.ch=0,z.line++)),t.cmpPos(z,this.doc.clipPos(z))!=0))return this.atOccurrence=!1;var b=this.matches(I,z);if(this.afterEmptyMatch=b&&t.cmpPos(b.from,b.to)==0,b)return this.pos=b,this.atOccurrence=!0,this.pos.match||!0;var x=r(I?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:x,to:x},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(I,z){if(this.atOccurrence){var b=t.splitLines(I);this.doc.replaceRange(b,this.pos.from,this.pos.to,z),this.pos.to=r(this.pos.from.line+b.length-1,b[b.length-1].length+(b.length==1?this.pos.from.ch:0))}}},t.defineExtension("getSearchCursor",function(I,z,b){return new R(this.doc,I,z,b)}),t.defineDocExtension("getSearchCursor",function(I,z,b){return new R(this,I,z,b)}),t.defineExtension("selectMatches",function(I,z){for(var b=[],x=this.getSearchCursor(I,this.getCursor("from"),z);x.findNext()&&!(t.cmpPos(x.to(),this.getCursor("to"))>0);)b.push({anchor:x.from(),head:x.to()});b.length&&this.setSelections(b,0)})})}()),Ay.exports}var Oy={exports:{}},My;function wF(){return My||(My=1,function(n,e){(function(t){t($r())})(function(t){var r=/MSIE \d/.test(navigator.userAgent)&&(document.documentMode==null||document.documentMode<8),o=t.Pos,s={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function l(v){return v&&v.bracketRegex||/[(){}[\]]/}function u(v,D,w){var k=v.getLineHandle(D.line),M=D.ch-1,R=w&&w.afterCursor;R==null&&(R=/(^| )cm-fat-cursor($| )/.test(v.getWrapperElement().className));var I=l(w),z=!R&&M>=0&&I.test(k.text.charAt(M))&&s[k.text.charAt(M)]||I.test(k.text.charAt(M+1))&&s[k.text.charAt(++M)];if(!z)return null;var b=z.charAt(1)==">"?1:-1;if(w&&w.strict&&b>0!=(M==D.ch))return null;var x=v.getTokenTypeAt(o(D.line,M+1)),T=f(v,o(D.line,M+(b>0?1:0)),b,x,w);return T==null?null:{from:o(D.line,M),to:T&&T.pos,match:T&&T.ch==z.charAt(0),forward:b>0}}function f(v,D,w,k,M){for(var R=M&&M.maxScanLineLength||1e4,I=M&&M.maxScanLines||1e3,z=[],b=l(M),x=w>0?Math.min(D.line+I,v.lastLine()+1):Math.max(v.firstLine()-1,D.line-I),T=D.line;T!=x;T+=w){var B=v.getLine(T);if(B){var $=w>0?0:B.length-1,V=w>0?B.length:-1;if(!(B.length>R))for(T==D.line&&($=D.ch-(w<0?1:0));$!=V;$+=w){var J=B.charAt($);if(b.test(J)&&(k===void 0||(v.getTokenTypeAt(o(T,$+1))||"")==(k||""))){var U=s[J];if(U&&U.charAt(1)==">"==w>0)z.push(J);else if(z.length)z.pop();else return{pos:o(T,$),ch:J}}}}}return T-w==(w>0?v.lastLine():v.firstLine())?!1:null}function d(v,D,w){for(var k=v.state.matchBrackets.maxHighlightLineLength||1e3,M=w&&w.highlightNonMatching,R=[],I=v.listSelections(),z=0;z<I.length;z++){var b=I[z].empty()&&u(v,I[z].head,w);if(b&&(b.match||M!==!1)&&v.getLine(b.from.line).length<=k){var x=b.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";R.push(v.markText(b.from,o(b.from.line,b.from.ch+1),{className:x})),b.to&&v.getLine(b.to.line).length<=k&&R.push(v.markText(b.to,o(b.to.line,b.to.ch+1),{className:x}))}}if(R.length){r&&v.state.focused&&v.focus();var T=function(){v.operation(function(){for(var B=0;B<R.length;B++)R[B].clear()})};if(D)setTimeout(T,800);else return T}}function p(v){v.operation(function(){v.state.matchBrackets.currentlyHighlighted&&(v.state.matchBrackets.currentlyHighlighted(),v.state.matchBrackets.currentlyHighlighted=null),v.state.matchBrackets.currentlyHighlighted=d(v,!1,v.state.matchBrackets)})}function m(v){v.state.matchBrackets&&v.state.matchBrackets.currentlyHighlighted&&(v.state.matchBrackets.currentlyHighlighted(),v.state.matchBrackets.currentlyHighlighted=null)}t.defineOption("matchBrackets",!1,function(v,D,w){w&&w!=t.Init&&(v.off("cursorActivity",p),v.off("focus",p),v.off("blur",m),m(v)),D&&(v.state.matchBrackets=typeof D=="object"?D:{},v.on("cursorActivity",p),v.on("focus",p),v.on("blur",m))}),t.defineExtension("matchBrackets",function(){d(this,!0)}),t.defineExtension("findMatchingBracket",function(v,D,w){return(w||typeof D=="boolean")&&(w?(w.strict=D,D=w):D=D?{strict:!0}:null),u(this,v,D)}),t.defineExtension("scanForBracket",function(v,D,w,k){return f(this,v,D,w,k)})})}()),Oy.exports}(function(n,e){(function(t){t($r(),bF(),wF())})(function(t){var r=t.commands,o=t.Pos;function s(b,x,T){if(T<0&&x.ch==0)return b.clipPos(o(x.line-1));var B=b.getLine(x.line);if(T>0&&x.ch>=B.length)return b.clipPos(o(x.line+1,0));for(var $="start",V,J=x.ch,U=J,H=T<0?0:B.length,j=0;U!=H;U+=T,j++){var _=B.charAt(T<0?U-1:U),C=_!="_"&&t.isWordChar(_)?"w":"o";if(C=="w"&&_.toUpperCase()==_&&(C="W"),$=="start")C!="o"?($="in",V=C):J=U+T;else if($=="in"&&V!=C){if(V=="w"&&C=="W"&&T<0&&U--,V=="W"&&C=="w"&&T>0)if(U==J+1){V="w";continue}else U--;break}}return o(x.line,U)}function l(b,x){b.extendSelectionsBy(function(T){return b.display.shift||b.doc.extend||T.empty()?s(b.doc,T.head,x):x<0?T.from():T.to()})}r.goSubwordLeft=function(b){l(b,-1)},r.goSubwordRight=function(b){l(b,1)},r.scrollLineUp=function(b){var x=b.getScrollInfo();if(!b.somethingSelected()){var T=b.lineAtHeight(x.top+x.clientHeight,"local");b.getCursor().line>=T&&b.execCommand("goLineUp")}b.scrollTo(null,x.top-b.defaultTextHeight())},r.scrollLineDown=function(b){var x=b.getScrollInfo();if(!b.somethingSelected()){var T=b.lineAtHeight(x.top,"local")+1;b.getCursor().line<=T&&b.execCommand("goLineDown")}b.scrollTo(null,x.top+b.defaultTextHeight())},r.splitSelectionByLine=function(b){for(var x=b.listSelections(),T=[],B=0;B<x.length;B++)for(var $=x[B].from(),V=x[B].to(),J=$.line;J<=V.line;++J)V.line>$.line&&J==V.line&&V.ch==0||T.push({anchor:J==$.line?$:o(J,0),head:J==V.line?V:o(J)});b.setSelections(T,0)},r.singleSelectionTop=function(b){var x=b.listSelections()[0];b.setSelection(x.anchor,x.head,{scroll:!1})},r.selectLine=function(b){for(var x=b.listSelections(),T=[],B=0;B<x.length;B++){var $=x[B];T.push({anchor:o($.from().line,0),head:o($.to().line+1,0)})}b.setSelections(T)};function u(b,x){if(b.isReadOnly())return t.Pass;b.operation(function(){for(var T=b.listSelections().length,B=[],$=-1,V=0;V<T;V++){var J=b.listSelections()[V].head;if(!(J.line<=$)){var U=o(J.line+(x?0:1),0);b.replaceRange(`
`,U,null,"+insertLine"),b.indentLine(U.line,null,!0),B.push({head:U,anchor:U}),$=J.line+1}}b.setSelections(B)}),b.execCommand("indentAuto")}r.insertLineAfter=function(b){return u(b,!1)},r.insertLineBefore=function(b){return u(b,!0)};function f(b,x){for(var T=x.ch,B=T,$=b.getLine(x.line);T&&t.isWordChar($.charAt(T-1));)--T;for(;B<$.length&&t.isWordChar($.charAt(B));)++B;return{from:o(x.line,T),to:o(x.line,B),word:$.slice(T,B)}}r.selectNextOccurrence=function(b){var x=b.getCursor("from"),T=b.getCursor("to"),B=b.state.sublimeFindFullWord==b.doc.sel;if(t.cmpPos(x,T)==0){var $=f(b,x);if(!$.word)return;b.setSelection($.from,$.to),B=!0}else{var V=b.getRange(x,T),J=B?new RegExp("\\b"+V+"\\b"):V,U=b.getSearchCursor(J,T),H=U.findNext();if(H||(U=b.getSearchCursor(J,o(b.firstLine(),0)),H=U.findNext()),!H||p(b.listSelections(),U.from(),U.to()))return;b.addSelection(U.from(),U.to())}B&&(b.state.sublimeFindFullWord=b.doc.sel)},r.skipAndSelectNextOccurrence=function(b){var x=b.getCursor("anchor"),T=b.getCursor("head");r.selectNextOccurrence(b),t.cmpPos(x,T)!=0&&b.doc.setSelections(b.doc.listSelections().filter(function(B){return B.anchor!=x||B.head!=T}))};function d(b,x){for(var T=b.listSelections(),B=[],$=0;$<T.length;$++){var V=T[$],J=b.findPosV(V.anchor,x,"line",V.anchor.goalColumn),U=b.findPosV(V.head,x,"line",V.head.goalColumn);J.goalColumn=V.anchor.goalColumn!=null?V.anchor.goalColumn:b.cursorCoords(V.anchor,"div").left,U.goalColumn=V.head.goalColumn!=null?V.head.goalColumn:b.cursorCoords(V.head,"div").left;var H={anchor:J,head:U};B.push(V),B.push(H)}b.setSelections(B)}r.addCursorToPrevLine=function(b){d(b,-1)},r.addCursorToNextLine=function(b){d(b,1)};function p(b,x,T){for(var B=0;B<b.length;B++)if(t.cmpPos(b[B].from(),x)==0&&t.cmpPos(b[B].to(),T)==0)return!0;return!1}var m="(){}[]";function v(b){for(var x=b.listSelections(),T=[],B=0;B<x.length;B++){var $=x[B],V=$.head,J=b.scanForBracket(V,-1);if(!J)return!1;for(;;){var U=b.scanForBracket(V,1);if(!U)return!1;if(U.ch==m.charAt(m.indexOf(J.ch)+1)){var H=o(J.pos.line,J.pos.ch+1);if(t.cmpPos(H,$.from())==0&&t.cmpPos(U.pos,$.to())==0){if(J=b.scanForBracket(J.pos,-1),!J)return!1}else{T.push({anchor:H,head:U.pos});break}}V=o(U.pos.line,U.pos.ch+1)}}return b.setSelections(T),!0}r.selectScope=function(b){v(b)||b.execCommand("selectAll")},r.selectBetweenBrackets=function(b){if(!v(b))return t.Pass};function D(b){return b?/\bpunctuation\b/.test(b)?b:void 0:null}r.goToBracket=function(b){b.extendSelectionsBy(function(x){var T=b.scanForBracket(x.head,1,D(b.getTokenTypeAt(x.head)));if(T&&t.cmpPos(T.pos,x.head)!=0)return T.pos;var B=b.scanForBracket(x.head,-1,D(b.getTokenTypeAt(o(x.head.line,x.head.ch+1))));return B&&o(B.pos.line,B.pos.ch+1)||x.head})},r.swapLineUp=function(b){if(b.isReadOnly())return t.Pass;for(var x=b.listSelections(),T=[],B=b.firstLine()-1,$=[],V=0;V<x.length;V++){var J=x[V],U=J.from().line-1,H=J.to().line;$.push({anchor:o(J.anchor.line-1,J.anchor.ch),head:o(J.head.line-1,J.head.ch)}),J.to().ch==0&&!J.empty()&&--H,U>B?T.push(U,H):T.length&&(T[T.length-1]=H),B=H}b.operation(function(){for(var j=0;j<T.length;j+=2){var _=T[j],C=T[j+1],N=b.getLine(_);b.replaceRange("",o(_,0),o(_+1,0),"+swapLine"),C>b.lastLine()?b.replaceRange(`
`+N,o(b.lastLine()),null,"+swapLine"):b.replaceRange(N+`
`,o(C,0),null,"+swapLine")}b.setSelections($),b.scrollIntoView()})},r.swapLineDown=function(b){if(b.isReadOnly())return t.Pass;for(var x=b.listSelections(),T=[],B=b.lastLine()+1,$=x.length-1;$>=0;$--){var V=x[$],J=V.to().line+1,U=V.from().line;V.to().ch==0&&!V.empty()&&J--,J<B?T.push(J,U):T.length&&(T[T.length-1]=U),B=U}b.operation(function(){for(var H=T.length-2;H>=0;H-=2){var j=T[H],_=T[H+1],C=b.getLine(j);j==b.lastLine()?b.replaceRange("",o(j-1),o(j),"+swapLine"):b.replaceRange("",o(j,0),o(j+1,0),"+swapLine"),b.replaceRange(C+`
`,o(_,0),null,"+swapLine")}b.scrollIntoView()})},r.toggleCommentIndented=function(b){b.toggleComment({indent:!0})},r.joinLines=function(b){for(var x=b.listSelections(),T=[],B=0;B<x.length;B++){for(var $=x[B],V=$.from(),J=V.line,U=$.to().line;B<x.length-1&&x[B+1].from().line==U;)U=x[++B].to().line;T.push({start:J,end:U,anchor:!$.empty()&&V})}b.operation(function(){for(var H=0,j=[],_=0;_<T.length;_++){for(var C=T[_],N=C.anchor&&o(C.anchor.line-H,C.anchor.ch),W,G=C.start;G<=C.end;G++){var te=G-H;G==C.end&&(W=o(te,b.getLine(te).length+1)),te<b.lastLine()&&(b.replaceRange(" ",o(te),o(te+1,/^\s*/.exec(b.getLine(te+1))[0].length)),++H)}j.push({anchor:N||W,head:W})}b.setSelections(j,0)})},r.duplicateLine=function(b){b.operation(function(){for(var x=b.listSelections().length,T=0;T<x;T++){var B=b.listSelections()[T];B.empty()?b.replaceRange(b.getLine(B.head.line)+`
`,o(B.head.line,0)):b.replaceRange(b.getRange(B.from(),B.to()),B.from())}b.scrollIntoView()})};function w(b,x,T){if(b.isReadOnly())return t.Pass;for(var B=b.listSelections(),$=[],V,J=0;J<B.length;J++){var U=B[J];if(!U.empty()){for(var H=U.from().line,j=U.to().line;J<B.length-1&&B[J+1].from().line==j;)j=B[++J].to().line;B[J].to().ch||j--,$.push(H,j)}}$.length?V=!0:$.push(b.firstLine(),b.lastLine()),b.operation(function(){for(var _=[],C=0;C<$.length;C+=2){var N=$[C],W=$[C+1],G=o(N,0),te=o(W),se=b.getRange(G,te,!1);x?se.sort(function(pe,oe){return pe<oe?-T:pe==oe?0:T}):se.sort(function(pe,oe){var le=pe.toUpperCase(),ae=oe.toUpperCase();return le!=ae&&(pe=le,oe=ae),pe<oe?-T:pe==oe?0:T}),b.replaceRange(se,G,te),V&&_.push({anchor:G,head:o(W+1,0)})}V&&b.setSelections(_,0)})}r.sortLines=function(b){w(b,!0,1)},r.reverseSortLines=function(b){w(b,!0,-1)},r.sortLinesInsensitive=function(b){w(b,!1,1)},r.reverseSortLinesInsensitive=function(b){w(b,!1,-1)},r.nextBookmark=function(b){var x=b.state.sublimeBookmarks;if(x)for(;x.length;){var T=x.shift(),B=T.find();if(B)return x.push(T),b.setSelection(B.from,B.to)}},r.prevBookmark=function(b){var x=b.state.sublimeBookmarks;if(x)for(;x.length;){x.unshift(x.pop());var T=x[x.length-1].find();if(!T)x.pop();else return b.setSelection(T.from,T.to)}},r.toggleBookmark=function(b){for(var x=b.listSelections(),T=b.state.sublimeBookmarks||(b.state.sublimeBookmarks=[]),B=0;B<x.length;B++){for(var $=x[B].from(),V=x[B].to(),J=x[B].empty()?b.findMarksAt($):b.findMarks($,V),U=0;U<J.length;U++)if(J[U].sublimeBookmark){J[U].clear();for(var H=0;H<T.length;H++)T[H]==J[U]&&T.splice(H--,1);break}U==J.length&&T.push(b.markText($,V,{sublimeBookmark:!0,clearWhenEmpty:!1}))}},r.clearBookmarks=function(b){var x=b.state.sublimeBookmarks;if(x)for(var T=0;T<x.length;T++)x[T].clear();x.length=0},r.selectBookmarks=function(b){var x=b.state.sublimeBookmarks,T=[];if(x)for(var B=0;B<x.length;B++){var $=x[B].find();$?T.push({anchor:$.from,head:$.to}):x.splice(B--,0)}T.length&&b.setSelections(T,0)};function k(b,x){b.operation(function(){for(var T=b.listSelections(),B=[],$=[],V=0;V<T.length;V++){var J=T[V];J.empty()?(B.push(V),$.push("")):$.push(x(b.getRange(J.from(),J.to())))}b.replaceSelections($,"around","case");for(var V=B.length-1,U;V>=0;V--){var J=T[B[V]];if(!(U&&t.cmpPos(J.head,U)>0)){var H=f(b,J.head);U=H.from,b.replaceRange(x(H.word),H.from,H.to)}}})}r.smartBackspace=function(b){if(b.somethingSelected())return t.Pass;b.operation(function(){for(var x=b.listSelections(),T=b.getOption("indentUnit"),B=x.length-1;B>=0;B--){var $=x[B].head,V=b.getRange({line:$.line,ch:0},$),J=t.countColumn(V,null,b.getOption("tabSize")),U=b.findPosH($,-1,"char",!1);if(V&&!/\S/.test(V)&&J%T==0){var H=new o($.line,t.findColumn(V,J-T,T));H.ch!=$.ch&&(U=H)}b.replaceRange("",U,$,"+delete")}})},r.delLineRight=function(b){b.operation(function(){for(var x=b.listSelections(),T=x.length-1;T>=0;T--)b.replaceRange("",x[T].anchor,o(x[T].to().line),"+delete");b.scrollIntoView()})},r.upcaseAtCursor=function(b){k(b,function(x){return x.toUpperCase()})},r.downcaseAtCursor=function(b){k(b,function(x){return x.toLowerCase()})},r.setSublimeMark=function(b){b.state.sublimeMark&&b.state.sublimeMark.clear(),b.state.sublimeMark=b.setBookmark(b.getCursor())},r.selectToSublimeMark=function(b){var x=b.state.sublimeMark&&b.state.sublimeMark.find();x&&b.setSelection(b.getCursor(),x)},r.deleteToSublimeMark=function(b){var x=b.state.sublimeMark&&b.state.sublimeMark.find();if(x){var T=b.getCursor(),B=x;if(t.cmpPos(T,B)>0){var $=B;B=T,T=$}b.state.sublimeKilled=b.getRange(T,B),b.replaceRange("",T,B)}},r.swapWithSublimeMark=function(b){var x=b.state.sublimeMark&&b.state.sublimeMark.find();x&&(b.state.sublimeMark.clear(),b.state.sublimeMark=b.setBookmark(b.getCursor()),b.setCursor(x))},r.sublimeYank=function(b){b.state.sublimeKilled!=null&&b.replaceSelection(b.state.sublimeKilled,null,"paste")},r.showInCenter=function(b){var x=b.cursorCoords(null,"local");b.scrollTo(null,(x.top+x.bottom)/2-b.getScrollInfo().clientHeight/2)};function M(b){var x=b.getCursor("from"),T=b.getCursor("to");if(t.cmpPos(x,T)==0){var B=f(b,x);if(!B.word)return;x=B.from,T=B.to}return{from:x,to:T,query:b.getRange(x,T),word:B}}function R(b,x){var T=M(b);if(T){var B=T.query,$=b.getSearchCursor(B,x?T.to:T.from);(x?$.findNext():$.findPrevious())?b.setSelection($.from(),$.to()):($=b.getSearchCursor(B,x?o(b.firstLine(),0):b.clipPos(o(b.lastLine()))),(x?$.findNext():$.findPrevious())?b.setSelection($.from(),$.to()):T.word&&b.setSelection(T.from,T.to))}}r.findUnder=function(b){R(b,!0)},r.findUnderPrevious=function(b){R(b,!1)},r.findAllUnder=function(b){var x=M(b);if(x){for(var T=b.getSearchCursor(x.query),B=[],$=-1;T.findNext();)B.push({anchor:T.from(),head:T.to()}),T.from().line<=x.from.line&&T.from().ch<=x.from.ch&&$++;b.setSelections(B,$)}};var I=t.keyMap;I.macSublime={"Cmd-Left":"goLineStartSmart","Shift-Tab":"indentLess","Shift-Ctrl-K":"deleteLine","Alt-Q":"wrapLines","Ctrl-Left":"goSubwordLeft","Ctrl-Right":"goSubwordRight","Ctrl-Alt-Up":"scrollLineUp","Ctrl-Alt-Down":"scrollLineDown","Cmd-L":"selectLine","Shift-Cmd-L":"splitSelectionByLine",Esc:"singleSelectionTop","Cmd-Enter":"insertLineAfter","Shift-Cmd-Enter":"insertLineBefore","Cmd-D":"selectNextOccurrence","Shift-Cmd-Space":"selectScope","Shift-Cmd-M":"selectBetweenBrackets","Cmd-M":"goToBracket","Cmd-Ctrl-Up":"swapLineUp","Cmd-Ctrl-Down":"swapLineDown","Cmd-/":"toggleCommentIndented","Cmd-J":"joinLines","Shift-Cmd-D":"duplicateLine",F5:"sortLines","Shift-F5":"reverseSortLines","Cmd-F5":"sortLinesInsensitive","Shift-Cmd-F5":"reverseSortLinesInsensitive",F2:"nextBookmark","Shift-F2":"prevBookmark","Cmd-F2":"toggleBookmark","Shift-Cmd-F2":"clearBookmarks","Alt-F2":"selectBookmarks",Backspace:"smartBackspace","Cmd-K Cmd-D":"skipAndSelectNextOccurrence","Cmd-K Cmd-K":"delLineRight","Cmd-K Cmd-U":"upcaseAtCursor","Cmd-K Cmd-L":"downcaseAtCursor","Cmd-K Cmd-Space":"setSublimeMark","Cmd-K Cmd-A":"selectToSublimeMark","Cmd-K Cmd-W":"deleteToSublimeMark","Cmd-K Cmd-X":"swapWithSublimeMark","Cmd-K Cmd-Y":"sublimeYank","Cmd-K Cmd-C":"showInCenter","Cmd-K Cmd-G":"clearBookmarks","Cmd-K Cmd-Backspace":"delLineLeft","Cmd-K Cmd-1":"foldAll","Cmd-K Cmd-0":"unfoldAll","Cmd-K Cmd-J":"unfoldAll","Ctrl-Shift-Up":"addCursorToPrevLine","Ctrl-Shift-Down":"addCursorToNextLine","Cmd-F3":"findUnder","Shift-Cmd-F3":"findUnderPrevious","Alt-F3":"findAllUnder","Shift-Cmd-[":"fold","Shift-Cmd-]":"unfold","Cmd-I":"findIncremental","Shift-Cmd-I":"findIncrementalReverse","Cmd-H":"replace",F3:"findNext","Shift-F3":"findPrev",fallthrough:"macDefault"},t.normalizeKeyMap(I.macSublime),I.pcSublime={"Shift-Tab":"indentLess","Shift-Ctrl-K":"deleteLine","Alt-Q":"wrapLines","Ctrl-T":"transposeChars","Alt-Left":"goSubwordLeft","Alt-Right":"goSubwordRight","Ctrl-Up":"scrollLineUp","Ctrl-Down":"scrollLineDown","Ctrl-L":"selectLine","Shift-Ctrl-L":"splitSelectionByLine",Esc:"singleSelectionTop","Ctrl-Enter":"insertLineAfter","Shift-Ctrl-Enter":"insertLineBefore","Ctrl-D":"selectNextOccurrence","Shift-Ctrl-Space":"selectScope","Shift-Ctrl-M":"selectBetweenBrackets","Ctrl-M":"goToBracket","Shift-Ctrl-Up":"swapLineUp","Shift-Ctrl-Down":"swapLineDown","Ctrl-/":"toggleCommentIndented","Ctrl-J":"joinLines","Shift-Ctrl-D":"duplicateLine",F9:"sortLines","Shift-F9":"reverseSortLines","Ctrl-F9":"sortLinesInsensitive","Shift-Ctrl-F9":"reverseSortLinesInsensitive",F2:"nextBookmark","Shift-F2":"prevBookmark","Ctrl-F2":"toggleBookmark","Shift-Ctrl-F2":"clearBookmarks","Alt-F2":"selectBookmarks",Backspace:"smartBackspace","Ctrl-K Ctrl-D":"skipAndSelectNextOccurrence","Ctrl-K Ctrl-K":"delLineRight","Ctrl-K Ctrl-U":"upcaseAtCursor","Ctrl-K Ctrl-L":"downcaseAtCursor","Ctrl-K Ctrl-Space":"setSublimeMark","Ctrl-K Ctrl-A":"selectToSublimeMark","Ctrl-K Ctrl-W":"deleteToSublimeMark","Ctrl-K Ctrl-X":"swapWithSublimeMark","Ctrl-K Ctrl-Y":"sublimeYank","Ctrl-K Ctrl-C":"showInCenter","Ctrl-K Ctrl-G":"clearBookmarks","Ctrl-K Ctrl-Backspace":"delLineLeft","Ctrl-K Ctrl-1":"foldAll","Ctrl-K Ctrl-0":"unfoldAll","Ctrl-K Ctrl-J":"unfoldAll","Ctrl-Alt-Up":"addCursorToPrevLine","Ctrl-Alt-Down":"addCursorToNextLine","Ctrl-F3":"findUnder","Shift-Ctrl-F3":"findUnderPrevious","Alt-F3":"findAllUnder","Shift-Ctrl-[":"fold","Shift-Ctrl-]":"unfold","Ctrl-I":"findIncremental","Shift-Ctrl-I":"findIncrementalReverse","Ctrl-H":"replace",F3:"findNext","Shift-F3":"findPrev",fallthrough:"pcDefault"},t.normalizeKeyMap(I.pcSublime);var z=I.default==I.macDefault;I.sublime=z?I.macSublime:I.pcSublime})})();var Fy={exports:{}},Ny;function $w(){return Ny||(Ny=1,function(n,e){(function(t){t($r())})(function(t){t.defineMode("javascript",function(r,o){var s=r.indentUnit,l=o.statementIndent,u=o.jsonld,f=o.json||u,d=o.trackScope!==!1,p=o.typescript,m=o.wordCharacters||/[\w$\xa1-\uffff]/,v=function(){function F(Xt){return{type:Xt,style:"keyword"}}var Q=F("keyword a"),ye=F("keyword b"),Ce=F("keyword c"),de=F("keyword d"),Oe=F("operator"),ht={type:"atom",style:"atom"};return{if:F("if"),while:Q,with:Q,else:ye,do:ye,try:ye,finally:ye,return:de,break:de,continue:de,new:F("new"),delete:Ce,void:Ce,throw:Ce,debugger:F("debugger"),var:F("var"),const:F("var"),let:F("var"),function:F("function"),catch:F("catch"),for:F("for"),switch:F("switch"),case:F("case"),default:F("default"),in:Oe,typeof:Oe,instanceof:Oe,true:ht,false:ht,null:ht,undefined:ht,NaN:ht,Infinity:ht,this:F("this"),class:F("class"),super:F("atom"),yield:Ce,export:F("export"),import:F("import"),extends:Ce,await:Ce}}(),D=/[+\-*&%=<>!?|~^@]/,w=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function k(F){for(var Q=!1,ye,Ce=!1;(ye=F.next())!=null;){if(!Q){if(ye=="/"&&!Ce)return;ye=="["?Ce=!0:Ce&&ye=="]"&&(Ce=!1)}Q=!Q&&ye=="\\"}}var M,R;function I(F,Q,ye){return M=F,R=ye,Q}function z(F,Q){var ye=F.next();if(ye=='"'||ye=="'")return Q.tokenize=b(ye),Q.tokenize(F,Q);if(ye=="."&&F.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return I("number","number");if(ye=="."&&F.match(".."))return I("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(ye))return I(ye);if(ye=="="&&F.eat(">"))return I("=>","operator");if(ye=="0"&&F.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return I("number","number");if(/\d/.test(ye))return F.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),I("number","number");if(ye=="/")return F.eat("*")?(Q.tokenize=x,x(F,Q)):F.eat("/")?(F.skipToEnd(),I("comment","comment")):or(F,Q,1)?(k(F),F.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),I("regexp","string-2")):(F.eat("="),I("operator","operator",F.current()));if(ye=="`")return Q.tokenize=T,T(F,Q);if(ye=="#"&&F.peek()=="!")return F.skipToEnd(),I("meta","meta");if(ye=="#"&&F.eatWhile(m))return I("variable","property");if(ye=="<"&&F.match("!--")||ye=="-"&&F.match("->")&&!/\S/.test(F.string.slice(0,F.start)))return F.skipToEnd(),I("comment","comment");if(D.test(ye))return(ye!=">"||!Q.lexical||Q.lexical.type!=">")&&(F.eat("=")?(ye=="!"||ye=="=")&&F.eat("="):/[<>*+\-|&?]/.test(ye)&&(F.eat(ye),ye==">"&&F.eat(ye))),ye=="?"&&F.eat(".")?I("."):I("operator","operator",F.current());if(m.test(ye)){F.eatWhile(m);var Ce=F.current();if(Q.lastType!="."){if(v.propertyIsEnumerable(Ce)){var de=v[Ce];return I(de.type,de.style,Ce)}if(Ce=="async"&&F.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return I("async","keyword",Ce)}return I("variable","variable",Ce)}}function b(F){return function(Q,ye){var Ce=!1,de;if(u&&Q.peek()=="@"&&Q.match(w))return ye.tokenize=z,I("jsonld-keyword","meta");for(;(de=Q.next())!=null&&!(de==F&&!Ce);)Ce=!Ce&&de=="\\";return Ce||(ye.tokenize=z),I("string","string")}}function x(F,Q){for(var ye=!1,Ce;Ce=F.next();){if(Ce=="/"&&ye){Q.tokenize=z;break}ye=Ce=="*"}return I("comment","comment")}function T(F,Q){for(var ye=!1,Ce;(Ce=F.next())!=null;){if(!ye&&(Ce=="`"||Ce=="$"&&F.eat("{"))){Q.tokenize=z;break}ye=!ye&&Ce=="\\"}return I("quasi","string-2",F.current())}var B="([{}])";function $(F,Q){Q.fatArrowAt&&(Q.fatArrowAt=null);var ye=F.string.indexOf("=>",F.start);if(!(ye<0)){if(p){var Ce=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(F.string.slice(F.start,ye));Ce&&(ye=Ce.index)}for(var de=0,Oe=!1,ht=ye-1;ht>=0;--ht){var Xt=F.string.charAt(ht),In=B.indexOf(Xt);if(In>=0&&In<3){if(!de){++ht;break}if(--de==0){Xt=="("&&(Oe=!0);break}}else if(In>=3&&In<6)++de;else if(m.test(Xt))Oe=!0;else if(/["'\/`]/.test(Xt))for(;;--ht){if(ht==0)return;var ms=F.string.charAt(ht-1);if(ms==Xt&&F.string.charAt(ht-2)!="\\"){ht--;break}}else if(Oe&&!de){++ht;break}}Oe&&!de&&(Q.fatArrowAt=ht)}}var V={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function J(F,Q,ye,Ce,de,Oe){this.indented=F,this.column=Q,this.type=ye,this.prev=de,this.info=Oe,Ce!=null&&(this.align=Ce)}function U(F,Q){if(!d)return!1;for(var ye=F.localVars;ye;ye=ye.next)if(ye.name==Q)return!0;for(var Ce=F.context;Ce;Ce=Ce.prev)for(var ye=Ce.vars;ye;ye=ye.next)if(ye.name==Q)return!0}function H(F,Q,ye,Ce,de){var Oe=F.cc;for(j.state=F,j.stream=de,j.marked=null,j.cc=Oe,j.style=Q,F.lexical.hasOwnProperty("align")||(F.lexical.align=!0);;){var ht=Oe.length?Oe.pop():f?we:he;if(ht(ye,Ce)){for(;Oe.length&&Oe[Oe.length-1].lex;)Oe.pop()();return j.marked?j.marked:ye=="variable"&&U(F,Ce)?"variable-2":Q}}}var j={state:null,column:null,marked:null,cc:null};function _(){for(var F=arguments.length-1;F>=0;F--)j.cc.push(arguments[F])}function C(){return _.apply(null,arguments),!0}function N(F,Q){for(var ye=Q;ye;ye=ye.next)if(ye.name==F)return!0;return!1}function W(F){var Q=j.state;if(j.marked="def",!!d){if(Q.context){if(Q.lexical.info=="var"&&Q.context&&Q.context.block){var ye=G(F,Q.context);if(ye!=null){Q.context=ye;return}}else if(!N(F,Q.localVars)){Q.localVars=new pe(F,Q.localVars);return}}o.globalVars&&!N(F,Q.globalVars)&&(Q.globalVars=new pe(F,Q.globalVars))}}function G(F,Q){if(Q)if(Q.block){var ye=G(F,Q.prev);return ye?ye==Q.prev?Q:new se(ye,Q.vars,!0):null}else return N(F,Q.vars)?Q:new se(Q.prev,new pe(F,Q.vars),!1);else return null}function te(F){return F=="public"||F=="private"||F=="protected"||F=="abstract"||F=="readonly"}function se(F,Q,ye){this.prev=F,this.vars=Q,this.block=ye}function pe(F,Q){this.name=F,this.next=Q}var oe=new pe("this",new pe("arguments",null));function le(){j.state.context=new se(j.state.context,j.state.localVars,!1),j.state.localVars=oe}function ae(){j.state.context=new se(j.state.context,j.state.localVars,!0),j.state.localVars=null}le.lex=ae.lex=!0;function fe(){j.state.localVars=j.state.context.vars,j.state.context=j.state.context.prev}fe.lex=!0;function ce(F,Q){var ye=function(){var Ce=j.state,de=Ce.indented;if(Ce.lexical.type=="stat")de=Ce.lexical.indented;else for(var Oe=Ce.lexical;Oe&&Oe.type==")"&&Oe.align;Oe=Oe.prev)de=Oe.indented;Ce.lexical=new J(de,j.stream.column(),F,null,Ce.lexical,Q)};return ye.lex=!0,ye}function ee(){var F=j.state;F.lexical.prev&&(F.lexical.type==")"&&(F.indented=F.lexical.indented),F.lexical=F.lexical.prev)}ee.lex=!0;function ue(F){function Q(ye){return ye==F?C():F==";"||ye=="}"||ye==")"||ye=="]"?_():C(Q)}return Q}function he(F,Q){return F=="var"?C(ce("vardef",Q),us,ue(";"),ee):F=="keyword a"?C(ce("form"),Be,he,ee):F=="keyword b"?C(ce("form"),he,ee):F=="keyword d"?j.stream.match(/^\s*$/,!1)?C():C(ce("stat"),$e,ue(";"),ee):F=="debugger"?C(ue(";")):F=="{"?C(ce("}"),ae,lt,ee,fe):F==";"?C():F=="if"?(j.state.lexical.info=="else"&&j.state.cc[j.state.cc.length-1]==ee&&j.state.cc.pop()(),C(ce("form"),Be,he,ee,fs)):F=="function"?C(gr):F=="for"?C(ce("form"),ae,tu,he,fe,ee):F=="class"||p&&Q=="interface"?(j.marked="keyword",C(ce("form",F=="class"?F:Q),cs,ee)):F=="variable"?p&&Q=="declare"?(j.marked="keyword",C(he)):p&&(Q=="module"||Q=="enum"||Q=="type")&&j.stream.match(/^\s*\w/,!1)?(j.marked="keyword",Q=="enum"?C(ze):Q=="type"?C(nu,ue("operator"),je,ue(";")):C(ce("form"),Bn,ue("{"),ce("}"),lt,ee,ee)):p&&Q=="namespace"?(j.marked="keyword",C(ce("form"),we,he,ee)):p&&Q=="abstract"?(j.marked="keyword",C(he)):C(ce("stat"),re):F=="switch"?C(ce("form"),Be,ue("{"),ce("}","switch"),ae,lt,ee,ee,fe):F=="case"?C(we,ue(":")):F=="default"?C(ue(":")):F=="catch"?C(ce("form"),le,ve,he,ee,fe):F=="export"?C(ce("stat"),hs,ee):F=="import"?C(ce("stat"),Hi,ee):F=="async"?C(he):Q=="@"?C(we,he):_(ce("stat"),we,ue(";"),ee)}function ve(F){if(F=="(")return C(kr,ue(")"))}function we(F,Q){return Ie(F,Q,!1)}function Pe(F,Q){return Ie(F,Q,!0)}function Be(F){return F!="("?_():C(ce(")"),$e,ue(")"),ee)}function Ie(F,Q,ye){if(j.state.fatArrowAt==j.stream.start){var Ce=ye?Y:L;if(F=="(")return C(le,ce(")"),_e(kr,")"),ee,ue("=>"),Ce,fe);if(F=="variable")return _(le,Bn,ue("=>"),Ce,fe)}var de=ye?Ke:Ge;return V.hasOwnProperty(F)?C(de):F=="function"?C(gr,de):F=="class"||p&&Q=="interface"?(j.marked="keyword",C(ce("form"),jc,ee)):F=="keyword c"||F=="async"?C(ye?Pe:we):F=="("?C(ce(")"),$e,ue(")"),ee,de):F=="operator"||F=="spread"?C(ye?Pe:we):F=="["?C(ce("]"),Lt,ee,de):F=="{"?it(Se,"}",null,de):F=="quasi"?_(Ht,de):F=="new"?C(P(ye)):C()}function $e(F){return F.match(/[;\}\)\],]/)?_():_(we)}function Ge(F,Q){return F==","?C($e):Ke(F,Q,!1)}function Ke(F,Q,ye){var Ce=ye==!1?Ge:Ke,de=ye==!1?we:Pe;if(F=="=>")return C(le,ye?Y:L,fe);if(F=="operator")return/\+\+|--/.test(Q)||p&&Q=="!"?C(Ce):p&&Q=="<"&&j.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?C(ce(">"),_e(je,">"),ee,Ce):Q=="?"?C(we,ue(":"),de):C(de);if(F=="quasi")return _(Ht,Ce);if(F!=";"){if(F=="(")return it(Pe,")","call",Ce);if(F==".")return C(me,Ce);if(F=="[")return C(ce("]"),$e,ue("]"),ee,Ce);if(p&&Q=="as")return j.marked="keyword",C(je,Ce);if(F=="regexp")return j.state.lastType=j.marked="operator",j.stream.backUp(j.stream.pos-j.stream.start-1),C(de)}}function Ht(F,Q){return F!="quasi"?_():Q.slice(Q.length-2)!="${"?C(Ht):C($e,Et)}function Et(F){if(F=="}")return j.marked="string-2",j.state.tokenize=T,C(Ht)}function L(F){return $(j.stream,j.state),_(F=="{"?he:we)}function Y(F){return $(j.stream,j.state),_(F=="{"?he:Pe)}function P(F){return function(Q){return Q=="."?C(F?q:X):Q=="variable"&&p?C(Kt,F?Ke:Ge):_(F?Pe:we)}}function X(F,Q){if(Q=="target")return j.marked="keyword",C(Ge)}function q(F,Q){if(Q=="target")return j.marked="keyword",C(Ke)}function re(F){return F==":"?C(ee,he):_(Ge,ue(";"),ee)}function me(F){if(F=="variable")return j.marked="property",C()}function Se(F,Q){if(F=="async")return j.marked="property",C(Se);if(F=="variable"||j.style=="keyword"){if(j.marked="property",Q=="get"||Q=="set")return C(Ee);var ye;return p&&j.state.fatArrowAt==j.stream.start&&(ye=j.stream.match(/^\s*:\s*/,!1))&&(j.state.fatArrowAt=j.stream.pos+ye[0].length),C(Ue)}else{if(F=="number"||F=="string")return j.marked=u?"property":j.style+" property",C(Ue);if(F=="jsonld-keyword")return C(Ue);if(p&&te(Q))return j.marked="keyword",C(Se);if(F=="[")return C(we,ut,ue("]"),Ue);if(F=="spread")return C(Pe,Ue);if(Q=="*")return j.marked="keyword",C(Se);if(F==":")return _(Ue)}}function Ee(F){return F!="variable"?_(Ue):(j.marked="property",C(gr))}function Ue(F){if(F==":")return C(Pe);if(F=="(")return _(gr)}function _e(F,Q,ye){function Ce(de,Oe){if(ye?ye.indexOf(de)>-1:de==","){var ht=j.state.lexical;return ht.info=="call"&&(ht.pos=(ht.pos||0)+1),C(function(Xt,In){return Xt==Q||In==Q?_():_(F)},Ce)}return de==Q||Oe==Q?C():ye&&ye.indexOf(";")>-1?_(F):C(ue(Q))}return function(de,Oe){return de==Q||Oe==Q?C():_(F,Ce)}}function it(F,Q,ye){for(var Ce=3;Ce<arguments.length;Ce++)j.cc.push(arguments[Ce]);return C(ce(Q,ye),_e(F,Q),ee)}function lt(F){return F=="}"?C():_(he,lt)}function ut(F,Q){if(p){if(F==":")return C(je);if(Q=="?")return C(ut)}}function yt(F,Q){if(p&&(F==":"||Q=="in"))return C(je)}function Mt(F){if(p&&F==":")return j.stream.match(/^\s*\w+\s+is\b/,!1)?C(we,Ln,je):C(je)}function Ln(F,Q){if(Q=="is")return j.marked="keyword",C()}function je(F,Q){if(Q=="keyof"||Q=="typeof"||Q=="infer"||Q=="readonly")return j.marked="keyword",C(Q=="typeof"?Pe:je);if(F=="variable"||Q=="void")return j.marked="type",C(an);if(Q=="|"||Q=="&")return C(je);if(F=="string"||F=="number"||F=="atom")return C(an);if(F=="[")return C(ce("]"),_e(je,"]",","),ee,an);if(F=="{")return C(ce("}"),He,ee,an);if(F=="(")return C(_e(Ct,")"),ko,an);if(F=="<")return C(_e(je,">"),je);if(F=="quasi")return _(qt,an)}function ko(F){if(F=="=>")return C(je)}function He(F){return F.match(/[\}\)\]]/)?C():F==","||F==";"?C(He):_(pr,He)}function pr(F,Q){if(F=="variable"||j.style=="keyword")return j.marked="property",C(pr);if(Q=="?"||F=="number"||F=="string")return C(pr);if(F==":")return C(je);if(F=="[")return C(ue("variable"),yt,ue("]"),pr);if(F=="(")return _($i,pr);if(!F.match(/[;\}\)\],]/))return C()}function qt(F,Q){return F!="quasi"?_():Q.slice(Q.length-2)!="${"?C(qt):C(je,kt)}function kt(F){if(F=="}")return j.marked="string-2",j.state.tokenize=T,C(qt)}function Ct(F,Q){return F=="variable"&&j.stream.match(/^\s*[?:]/,!1)||Q=="?"?C(Ct):F==":"?C(je):F=="spread"?C(Ct):_(je)}function an(F,Q){if(Q=="<")return C(ce(">"),_e(je,">"),ee,an);if(Q=="|"||F=="."||Q=="&")return C(je);if(F=="[")return C(je,ue("]"),an);if(Q=="extends"||Q=="implements")return j.marked="keyword",C(je);if(Q=="?")return C(je,ue(":"),je)}function Kt(F,Q){if(Q=="<")return C(ce(">"),_e(je,">"),ee,an)}function Jn(){return _(je,Rt)}function Rt(F,Q){if(Q=="=")return C(je)}function us(F,Q){return Q=="enum"?(j.marked="keyword",C(ze)):_(Bn,ut,Er,Wc)}function Bn(F,Q){if(p&&te(Q))return j.marked="keyword",C(Bn);if(F=="variable")return W(Q),C();if(F=="spread")return C(Bn);if(F=="[")return it(Da,"]");if(F=="{")return it(zi,"}")}function zi(F,Q){return F=="variable"&&!j.stream.match(/^\s*:/,!1)?(W(Q),C(Er)):(F=="variable"&&(j.marked="property"),F=="spread"?C(Bn):F=="}"?_():F=="["?C(we,ue("]"),ue(":"),zi):C(ue(":"),Bn,Er))}function Da(){return _(Bn,Er)}function Er(F,Q){if(Q=="=")return C(Pe)}function Wc(F){if(F==",")return C(us)}function fs(F,Q){if(F=="keyword b"&&Q=="else")return C(ce("form","else"),he,ee)}function tu(F,Q){if(Q=="await")return C(tu);if(F=="(")return C(ce(")"),Sa,ee)}function Sa(F){return F=="var"?C(us,_i):F=="variable"?C(_i):_(_i)}function _i(F,Q){return F==")"?C():F==";"?C(_i):Q=="in"||Q=="of"?(j.marked="keyword",C(we,_i)):_(we,_i)}function gr(F,Q){if(Q=="*")return j.marked="keyword",C(gr);if(F=="variable")return W(Q),C(gr);if(F=="(")return C(le,ce(")"),_e(kr,")"),ee,Mt,he,fe);if(p&&Q=="<")return C(ce(">"),_e(Jn,">"),ee,gr)}function $i(F,Q){if(Q=="*")return j.marked="keyword",C($i);if(F=="variable")return W(Q),C($i);if(F=="(")return C(le,ce(")"),_e(kr,")"),ee,Mt,fe);if(p&&Q=="<")return C(ce(">"),_e(Jn,">"),ee,$i)}function nu(F,Q){if(F=="keyword"||F=="variable")return j.marked="type",C(nu);if(Q=="<")return C(ce(">"),_e(Jn,">"),ee)}function kr(F,Q){return Q=="@"&&C(we,kr),F=="spread"?C(kr):p&&te(Q)?(j.marked="keyword",C(kr)):p&&F=="this"?C(ut,Er):_(Bn,ut,Er)}function jc(F,Q){return F=="variable"?cs(F,Q):Ar(F,Q)}function cs(F,Q){if(F=="variable")return W(Q),C(Ar)}function Ar(F,Q){if(Q=="<")return C(ce(">"),_e(Jn,">"),ee,Ar);if(Q=="extends"||Q=="implements"||p&&F==",")return Q=="implements"&&(j.marked="keyword"),C(p?je:we,Ar);if(F=="{")return C(ce("}"),Tr,ee)}function Tr(F,Q){if(F=="async"||F=="variable"&&(Q=="static"||Q=="get"||Q=="set"||p&&te(Q))&&j.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1))return j.marked="keyword",C(Tr);if(F=="variable"||j.style=="keyword")return j.marked="property",C(Ao,Tr);if(F=="number"||F=="string")return C(Ao,Tr);if(F=="[")return C(we,ut,ue("]"),Ao,Tr);if(Q=="*")return j.marked="keyword",C(Tr);if(p&&F=="(")return _($i,Tr);if(F==";"||F==",")return C(Tr);if(F=="}")return C();if(Q=="@")return C(we,Tr)}function Ao(F,Q){if(Q=="!"||Q=="?")return C(Ao);if(F==":")return C(je,Er);if(Q=="=")return C(Pe);var ye=j.state.lexical.prev,Ce=ye&&ye.info=="interface";return _(Ce?$i:gr)}function hs(F,Q){return Q=="*"?(j.marked="keyword",C(gs,ue(";"))):Q=="default"?(j.marked="keyword",C(we,ue(";"))):F=="{"?C(_e(ds,"}"),gs,ue(";")):_(he)}function ds(F,Q){if(Q=="as")return j.marked="keyword",C(ue("variable"));if(F=="variable")return _(Pe,ds)}function Hi(F){return F=="string"?C():F=="("?_(we):F=="."?_(Ge):_(ps,Wr,gs)}function ps(F,Q){return F=="{"?it(ps,"}"):(F=="variable"&&W(Q),Q=="*"&&(j.marked="keyword"),C(Ca))}function Wr(F){if(F==",")return C(ps,Wr)}function Ca(F,Q){if(Q=="as")return j.marked="keyword",C(ps)}function gs(F,Q){if(Q=="from")return j.marked="keyword",C(we)}function Lt(F){return F=="]"?C():_(_e(Pe,"]"))}function ze(){return _(ce("form"),Bn,ue("{"),ce("}"),_e(pi,"}"),ee,ee)}function pi(){return _(Bn,Er)}function xa(F,Q){return F.lastType=="operator"||F.lastType==","||D.test(Q.charAt(0))||/[,.]/.test(Q.charAt(0))}function or(F,Q,ye){return Q.tokenize==z&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(Q.lastType)||Q.lastType=="quasi"&&/\{\s*$/.test(F.string.slice(0,F.pos-(ye||0)))}return{startState:function(F){var Q={tokenize:z,lastType:"sof",cc:[],lexical:new J((F||0)-s,0,"block",!1),localVars:o.localVars,context:o.localVars&&new se(null,null,!1),indented:F||0};return o.globalVars&&typeof o.globalVars=="object"&&(Q.globalVars=o.globalVars),Q},token:function(F,Q){if(F.sol()&&(Q.lexical.hasOwnProperty("align")||(Q.lexical.align=!1),Q.indented=F.indentation(),$(F,Q)),Q.tokenize!=x&&F.eatSpace())return null;var ye=Q.tokenize(F,Q);return M=="comment"?ye:(Q.lastType=M=="operator"&&(R=="++"||R=="--")?"incdec":M,H(Q,ye,M,R,F))},indent:function(F,Q){if(F.tokenize==x||F.tokenize==T)return t.Pass;if(F.tokenize!=z)return 0;var ye=Q&&Q.charAt(0),Ce=F.lexical,de;if(!/^\s*else\b/.test(Q))for(var Oe=F.cc.length-1;Oe>=0;--Oe){var ht=F.cc[Oe];if(ht==ee)Ce=Ce.prev;else if(ht!=fs&&ht!=fe)break}for(;(Ce.type=="stat"||Ce.type=="form")&&(ye=="}"||(de=F.cc[F.cc.length-1])&&(de==Ge||de==Ke)&&!/^[,\.=+\-*:?[\(]/.test(Q));)Ce=Ce.prev;l&&Ce.type==")"&&Ce.prev.type=="stat"&&(Ce=Ce.prev);var Xt=Ce.type,In=ye==Xt;return Xt=="vardef"?Ce.indented+(F.lastType=="operator"||F.lastType==","?Ce.info.length+1:0):Xt=="form"&&ye=="{"?Ce.indented:Xt=="form"?Ce.indented+s:Xt=="stat"?Ce.indented+(xa(F,Q)?l||s:0):Ce.info=="switch"&&!In&&o.doubleIndentSwitch!=!1?Ce.indented+(/^(?:case|default)\b/.test(Q)?s:2*s):Ce.align?Ce.column+(In?0:1):Ce.indented+(In?0:s)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:f?null:"/*",blockCommentEnd:f?null:"*/",blockCommentContinue:f?null:" * ",lineComment:f?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:f?"json":"javascript",jsonldMode:u,jsonMode:f,expressionAllowed:or,skipExpression:function(F){H(F,"atom","atom","true",new t.StringStream("",2,null))}}}),t.registerHelper("wordChars","javascript",/[\w$]/),t.defineMIME("text/javascript","javascript"),t.defineMIME("text/ecmascript","javascript"),t.defineMIME("application/javascript","javascript"),t.defineMIME("application/x-javascript","javascript"),t.defineMIME("application/ecmascript","javascript"),t.defineMIME("application/json",{name:"javascript",json:!0}),t.defineMIME("application/x-json",{name:"javascript",json:!0}),t.defineMIME("application/manifest+json",{name:"javascript",json:!0}),t.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),t.defineMIME("text/typescript",{name:"javascript",typescript:!0}),t.defineMIME("application/typescript",{name:"javascript",typescript:!0})})}()),Fy.exports}$w();(function(n,e){(function(t){t($r())})(function(t){t.defineOption("placeholder","",function(d,p,m){var v=m&&m!=t.Init;if(p&&!v)d.on("blur",l),d.on("change",u),d.on("swapDoc",u),t.on(d.getInputField(),"compositionupdate",d.state.placeholderCompose=function(){s(d)}),u(d);else if(!p&&v){d.off("blur",l),d.off("change",u),d.off("swapDoc",u),t.off(d.getInputField(),"compositionupdate",d.state.placeholderCompose),r(d);var D=d.getWrapperElement();D.className=D.className.replace(" CodeMirror-empty","")}p&&!d.hasFocus()&&l(d)});function r(d){d.state.placeholder&&(d.state.placeholder.parentNode.removeChild(d.state.placeholder),d.state.placeholder=null)}function o(d){r(d);var p=d.state.placeholder=document.createElement("pre");p.style.cssText="height: 0; overflow: visible",p.style.direction=d.getOption("direction"),p.className="CodeMirror-placeholder CodeMirror-line-like";var m=d.getOption("placeholder");typeof m=="string"&&(m=document.createTextNode(m)),p.appendChild(m),d.display.lineSpace.insertBefore(p,d.display.lineSpace.firstChild)}function s(d){setTimeout(function(){var p=!1;if(d.lineCount()==1){var m=d.getInputField();p=m.nodeName=="TEXTAREA"?!d.getLine(0).length:!/[^\u200b]/.test(m.querySelector(".CodeMirror-line").textContent)}p?o(d):r(d)},20)}function l(d){f(d)&&o(d)}function u(d){var p=d.getWrapperElement(),m=f(d);p.className=p.className.replace(" CodeMirror-empty","")+(m?" CodeMirror-empty":""),m?o(d):r(d)}function f(d){return d.lineCount()===1&&d.getLine(0)===""}})})();var Ry={exports:{}},Ly;function DF(){return Ly||(Ly=1,function(n,e){(function(t){t($r())})(function(t){var r={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},o={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};t.defineMode("xml",function(s,l){var u=s.indentUnit,f={},d=l.htmlMode?r:o;for(var p in d)f[p]=d[p];for(var p in l)f[p]=l[p];var m,v;function D(C,N){function W(se){return N.tokenize=se,se(C,N)}var G=C.next();if(G=="<")return C.eat("!")?C.eat("[")?C.match("CDATA[")?W(M("atom","]]>")):null:C.match("--")?W(M("comment","-->")):C.match("DOCTYPE",!0,!0)?(C.eatWhile(/[\w\._\-]/),W(R(1))):null:C.eat("?")?(C.eatWhile(/[\w\._\-]/),N.tokenize=M("meta","?>"),"meta"):(m=C.eat("/")?"closeTag":"openTag",N.tokenize=w,"tag bracket");if(G=="&"){var te;return C.eat("#")?C.eat("x")?te=C.eatWhile(/[a-fA-F\d]/)&&C.eat(";"):te=C.eatWhile(/[\d]/)&&C.eat(";"):te=C.eatWhile(/[\w\.\-:]/)&&C.eat(";"),te?"atom":"error"}else return C.eatWhile(/[^&<]/),null}D.isInText=!0;function w(C,N){var W=C.next();if(W==">"||W=="/"&&C.eat(">"))return N.tokenize=D,m=W==">"?"endTag":"selfcloseTag","tag bracket";if(W=="=")return m="equals",null;if(W=="<"){N.tokenize=D,N.state=T,N.tagName=N.tagStart=null;var G=N.tokenize(C,N);return G?G+" tag error":"tag error"}else return/[\'\"]/.test(W)?(N.tokenize=k(W),N.stringStartCol=C.column(),N.tokenize(C,N)):(C.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function k(C){var N=function(W,G){for(;!W.eol();)if(W.next()==C){G.tokenize=w;break}return"string"};return N.isInAttribute=!0,N}function M(C,N){return function(W,G){for(;!W.eol();){if(W.match(N)){G.tokenize=D;break}W.next()}return C}}function R(C){return function(N,W){for(var G;(G=N.next())!=null;){if(G=="<")return W.tokenize=R(C+1),W.tokenize(N,W);if(G==">")if(C==1){W.tokenize=D;break}else return W.tokenize=R(C-1),W.tokenize(N,W)}return"meta"}}function I(C){return C&&C.toLowerCase()}function z(C,N,W){this.prev=C.context,this.tagName=N||"",this.indent=C.indented,this.startOfLine=W,(f.doNotIndent.hasOwnProperty(N)||C.context&&C.context.noIndent)&&(this.noIndent=!0)}function b(C){C.context&&(C.context=C.context.prev)}function x(C,N){for(var W;;){if(!C.context||(W=C.context.tagName,!f.contextGrabbers.hasOwnProperty(I(W))||!f.contextGrabbers[I(W)].hasOwnProperty(I(N))))return;b(C)}}function T(C,N,W){return C=="openTag"?(W.tagStart=N.column(),B):C=="closeTag"?$:T}function B(C,N,W){return C=="word"?(W.tagName=N.current(),v="tag",U):f.allowMissingTagName&&C=="endTag"?(v="tag bracket",U(C,N,W)):(v="error",B)}function $(C,N,W){if(C=="word"){var G=N.current();return W.context&&W.context.tagName!=G&&f.implicitlyClosed.hasOwnProperty(I(W.context.tagName))&&b(W),W.context&&W.context.tagName==G||f.matchClosing===!1?(v="tag",V):(v="tag error",J)}else return f.allowMissingTagName&&C=="endTag"?(v="tag bracket",V(C,N,W)):(v="error",J)}function V(C,N,W){return C!="endTag"?(v="error",V):(b(W),T)}function J(C,N,W){return v="error",V(C,N,W)}function U(C,N,W){if(C=="word")return v="attribute",H;if(C=="endTag"||C=="selfcloseTag"){var G=W.tagName,te=W.tagStart;return W.tagName=W.tagStart=null,C=="selfcloseTag"||f.autoSelfClosers.hasOwnProperty(I(G))?x(W,G):(x(W,G),W.context=new z(W,G,te==W.indented)),T}return v="error",U}function H(C,N,W){return C=="equals"?j:(f.allowMissing||(v="error"),U(C,N,W))}function j(C,N,W){return C=="string"?_:C=="word"&&f.allowUnquoted?(v="string",U):(v="error",U(C,N,W))}function _(C,N,W){return C=="string"?_:U(C,N,W)}return{startState:function(C){var N={tokenize:D,state:T,indented:C||0,tagName:null,tagStart:null,context:null};return C!=null&&(N.baseIndent=C),N},token:function(C,N){if(!N.tagName&&C.sol()&&(N.indented=C.indentation()),C.eatSpace())return null;m=null;var W=N.tokenize(C,N);return(W||m)&&W!="comment"&&(v=null,N.state=N.state(m||W,C,N),v&&(W=v=="error"?W+" error":v)),W},indent:function(C,N,W){var G=C.context;if(C.tokenize.isInAttribute)return C.tagStart==C.indented?C.stringStartCol+1:C.indented+u;if(G&&G.noIndent)return t.Pass;if(C.tokenize!=w&&C.tokenize!=D)return W?W.match(/^(\s*)/)[0].length:0;if(C.tagName)return f.multilineTagIndentPastTag!==!1?C.tagStart+C.tagName.length+2:C.tagStart+u*(f.multilineTagIndentFactor||1);if(f.alignCDATA&&/<!\[CDATA\[/.test(N))return 0;var te=N&&/^<(\/)?([\w_:\.-]*)/.exec(N);if(te&&te[1])for(;G;)if(G.tagName==te[2]){G=G.prev;break}else if(f.implicitlyClosed.hasOwnProperty(I(G.tagName)))G=G.prev;else break;else if(te)for(;G;){var se=f.contextGrabbers[I(G.tagName)];if(se&&se.hasOwnProperty(I(te[2])))G=G.prev;else break}for(;G&&G.prev&&!G.startOfLine;)G=G.prev;return G?G.indent+u:C.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:f.htmlMode?"html":"xml",helperType:f.htmlMode?"html":"xml",skipAttribute:function(C){C.state==j&&(C.state=U)},xmlCurrentTag:function(C){return C.tagName?{name:C.tagName,close:C.type=="closeTag"}:null},xmlCurrentContext:function(C){for(var N=[],W=C.context;W;W=W.prev)N.push(W.tagName);return N.reverse()}}}),t.defineMIME("text/xml","xml"),t.defineMIME("application/xml","xml"),t.mimeModes.hasOwnProperty("text/html")||t.defineMIME("text/html",{name:"xml",htmlMode:!0})})}()),Ry.exports}var By={exports:{}},Iy;function Hw(){return Iy||(Iy=1,function(n,e){(function(t){t($r())})(function(t){t.defineMode("css",function(J,U){var H=U.inline;U.propertyKeywords||(U=t.resolveMode("text/css"));var j=J.indentUnit,_=U.tokenHooks,C=U.documentTypes||{},N=U.mediaTypes||{},W=U.mediaFeatures||{},G=U.mediaValueKeywords||{},te=U.propertyKeywords||{},se=U.nonStandardPropertyKeywords||{},pe=U.fontProperties||{},oe=U.counterDescriptors||{},le=U.colorKeywords||{},ae=U.valueKeywords||{},fe=U.allowNested,ce=U.lineComment,ee=U.supportsAtComponent===!0,ue=J.highlightNonStandardPropertyKeywords!==!1,he,ve;function we(P,X){return he=X,P}function Pe(P,X){var q=P.next();if(_[q]){var re=_[q](P,X);if(re!==!1)return re}if(q=="@")return P.eatWhile(/[\w\\\-]/),we("def",P.current());if(q=="="||(q=="~"||q=="|")&&P.eat("="))return we(null,"compare");if(q=='"'||q=="'")return X.tokenize=Be(q),X.tokenize(P,X);if(q=="#")return P.eatWhile(/[\w\\\-]/),we("atom","hash");if(q=="!")return P.match(/^\s*\w*/),we("keyword","important");if(/\d/.test(q)||q=="."&&P.eat(/\d/))return P.eatWhile(/[\w.%]/),we("number","unit");if(q==="-"){if(/[\d.]/.test(P.peek()))return P.eatWhile(/[\w.%]/),we("number","unit");if(P.match(/^-[\w\\\-]*/))return P.eatWhile(/[\w\\\-]/),P.match(/^\s*:/,!1)?we("variable-2","variable-definition"):we("variable-2","variable");if(P.match(/^\w+-/))return we("meta","meta")}else return/[,+>*\/]/.test(q)?we(null,"select-op"):q=="."&&P.match(/^-?[_a-z][_a-z0-9-]*/i)?we("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(q)?we(null,q):P.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(P.current())&&(X.tokenize=Ie),we("variable callee","variable")):/[\w\\\-]/.test(q)?(P.eatWhile(/[\w\\\-]/),we("property","word")):we(null,null)}function Be(P){return function(X,q){for(var re=!1,me;(me=X.next())!=null;){if(me==P&&!re){P==")"&&X.backUp(1);break}re=!re&&me=="\\"}return(me==P||!re&&P!=")")&&(q.tokenize=null),we("string","string")}}function Ie(P,X){return P.next(),P.match(/^\s*[\"\')]/,!1)?X.tokenize=null:X.tokenize=Be(")"),we(null,"(")}function $e(P,X,q){this.type=P,this.indent=X,this.prev=q}function Ge(P,X,q,re){return P.context=new $e(q,X.indentation()+(re===!1?0:j),P.context),q}function Ke(P){return P.context.prev&&(P.context=P.context.prev),P.context.type}function Ht(P,X,q){return Y[q.context.type](P,X,q)}function Et(P,X,q,re){for(var me=re||1;me>0;me--)q.context=q.context.prev;return Ht(P,X,q)}function L(P){var X=P.current().toLowerCase();ae.hasOwnProperty(X)?ve="atom":le.hasOwnProperty(X)?ve="keyword":ve="variable"}var Y={};return Y.top=function(P,X,q){if(P=="{")return Ge(q,X,"block");if(P=="}"&&q.context.prev)return Ke(q);if(ee&&/@component/i.test(P))return Ge(q,X,"atComponentBlock");if(/^@(-moz-)?document$/i.test(P))return Ge(q,X,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(P))return Ge(q,X,"atBlock");if(/^@(font-face|counter-style)/i.test(P))return q.stateArg=P,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(P))return"keyframes";if(P&&P.charAt(0)=="@")return Ge(q,X,"at");if(P=="hash")ve="builtin";else if(P=="word")ve="tag";else{if(P=="variable-definition")return"maybeprop";if(P=="interpolation")return Ge(q,X,"interpolation");if(P==":")return"pseudo";if(fe&&P=="(")return Ge(q,X,"parens")}return q.context.type},Y.block=function(P,X,q){if(P=="word"){var re=X.current().toLowerCase();return te.hasOwnProperty(re)?(ve="property","maybeprop"):se.hasOwnProperty(re)?(ve=ue?"string-2":"property","maybeprop"):fe?(ve=X.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(ve+=" error","maybeprop")}else return P=="meta"?"block":!fe&&(P=="hash"||P=="qualifier")?(ve="error","block"):Y.top(P,X,q)},Y.maybeprop=function(P,X,q){return P==":"?Ge(q,X,"prop"):Ht(P,X,q)},Y.prop=function(P,X,q){if(P==";")return Ke(q);if(P=="{"&&fe)return Ge(q,X,"propBlock");if(P=="}"||P=="{")return Et(P,X,q);if(P=="(")return Ge(q,X,"parens");if(P=="hash"&&!/^#([0-9a-fA-F]{3,4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/.test(X.current()))ve+=" error";else if(P=="word")L(X);else if(P=="interpolation")return Ge(q,X,"interpolation");return"prop"},Y.propBlock=function(P,X,q){return P=="}"?Ke(q):P=="word"?(ve="property","maybeprop"):q.context.type},Y.parens=function(P,X,q){return P=="{"||P=="}"?Et(P,X,q):P==")"?Ke(q):P=="("?Ge(q,X,"parens"):P=="interpolation"?Ge(q,X,"interpolation"):(P=="word"&&L(X),"parens")},Y.pseudo=function(P,X,q){return P=="meta"?"pseudo":P=="word"?(ve="variable-3",q.context.type):Ht(P,X,q)},Y.documentTypes=function(P,X,q){return P=="word"&&C.hasOwnProperty(X.current())?(ve="tag",q.context.type):Y.atBlock(P,X,q)},Y.atBlock=function(P,X,q){if(P=="(")return Ge(q,X,"atBlock_parens");if(P=="}"||P==";")return Et(P,X,q);if(P=="{")return Ke(q)&&Ge(q,X,fe?"block":"top");if(P=="interpolation")return Ge(q,X,"interpolation");if(P=="word"){var re=X.current().toLowerCase();re=="only"||re=="not"||re=="and"||re=="or"?ve="keyword":N.hasOwnProperty(re)?ve="attribute":W.hasOwnProperty(re)?ve="property":G.hasOwnProperty(re)?ve="keyword":te.hasOwnProperty(re)?ve="property":se.hasOwnProperty(re)?ve=ue?"string-2":"property":ae.hasOwnProperty(re)?ve="atom":le.hasOwnProperty(re)?ve="keyword":ve="error"}return q.context.type},Y.atComponentBlock=function(P,X,q){return P=="}"?Et(P,X,q):P=="{"?Ke(q)&&Ge(q,X,fe?"block":"top",!1):(P=="word"&&(ve="error"),q.context.type)},Y.atBlock_parens=function(P,X,q){return P==")"?Ke(q):P=="{"||P=="}"?Et(P,X,q,2):Y.atBlock(P,X,q)},Y.restricted_atBlock_before=function(P,X,q){return P=="{"?Ge(q,X,"restricted_atBlock"):P=="word"&&q.stateArg=="@counter-style"?(ve="variable","restricted_atBlock_before"):Ht(P,X,q)},Y.restricted_atBlock=function(P,X,q){return P=="}"?(q.stateArg=null,Ke(q)):P=="word"?(q.stateArg=="@font-face"&&!pe.hasOwnProperty(X.current().toLowerCase())||q.stateArg=="@counter-style"&&!oe.hasOwnProperty(X.current().toLowerCase())?ve="error":ve="property","maybeprop"):"restricted_atBlock"},Y.keyframes=function(P,X,q){return P=="word"?(ve="variable","keyframes"):P=="{"?Ge(q,X,"top"):Ht(P,X,q)},Y.at=function(P,X,q){return P==";"?Ke(q):P=="{"||P=="}"?Et(P,X,q):(P=="word"?ve="tag":P=="hash"&&(ve="builtin"),"at")},Y.interpolation=function(P,X,q){return P=="}"?Ke(q):P=="{"||P==";"?Et(P,X,q):(P=="word"?ve="variable":P!="variable"&&P!="("&&P!=")"&&(ve="error"),"interpolation")},{startState:function(P){return{tokenize:null,state:H?"block":"top",stateArg:null,context:new $e(H?"block":"top",P||0,null)}},token:function(P,X){if(!X.tokenize&&P.eatSpace())return null;var q=(X.tokenize||Pe)(P,X);return q&&typeof q=="object"&&(he=q[1],q=q[0]),ve=q,he!="comment"&&(X.state=Y[X.state](he,P,X)),ve},indent:function(P,X){var q=P.context,re=X&&X.charAt(0),me=q.indent;return q.type=="prop"&&(re=="}"||re==")")&&(q=q.prev),q.prev&&(re=="}"&&(q.type=="block"||q.type=="top"||q.type=="interpolation"||q.type=="restricted_atBlock")?(q=q.prev,me=q.indent):(re==")"&&(q.type=="parens"||q.type=="atBlock_parens")||re=="{"&&(q.type=="at"||q.type=="atBlock"))&&(me=Math.max(0,q.indent-j))),me},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:ce,fold:"brace"}});function r(J){for(var U={},H=0;H<J.length;++H)U[J[H].toLowerCase()]=!0;return U}var o=["domain","regexp","url","url-prefix"],s=r(o),l=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],u=r(l),f=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme","dynamic-range","video-dynamic-range"],d=r(f),p=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light","standard","high"],m=r(p),v=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],D=r(v),w=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],k=r(w),M=["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],R=r(M),I=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],z=r(I),b=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],x=r(b),T=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","conic-gradient","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-play-button","media-slider","media-sliderthumb","media-volume-slider","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeating-conic-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],B=r(T),$=o.concat(l).concat(f).concat(p).concat(v).concat(w).concat(b).concat(T);t.registerHelper("hintWords","css",$);function V(J,U){for(var H=!1,j;(j=J.next())!=null;){if(H&&j=="/"){U.tokenize=null;break}H=j=="*"}return["comment","comment"]}t.defineMIME("text/css",{documentTypes:s,mediaTypes:u,mediaFeatures:d,mediaValueKeywords:m,propertyKeywords:D,nonStandardPropertyKeywords:k,fontProperties:R,counterDescriptors:z,colorKeywords:x,valueKeywords:B,tokenHooks:{"/":function(J,U){return J.eat("*")?(U.tokenize=V,V(J,U)):!1}},name:"css"}),t.defineMIME("text/x-scss",{mediaTypes:u,mediaFeatures:d,mediaValueKeywords:m,propertyKeywords:D,nonStandardPropertyKeywords:k,colorKeywords:x,valueKeywords:B,fontProperties:R,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(J,U){return J.eat("/")?(J.skipToEnd(),["comment","comment"]):J.eat("*")?(U.tokenize=V,V(J,U)):["operator","operator"]},":":function(J){return J.match(/^\s*\{/,!1)?[null,null]:!1},$:function(J){return J.match(/^[\w-]+/),J.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(J){return J.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),t.defineMIME("text/x-less",{mediaTypes:u,mediaFeatures:d,mediaValueKeywords:m,propertyKeywords:D,nonStandardPropertyKeywords:k,colorKeywords:x,valueKeywords:B,fontProperties:R,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(J,U){return J.eat("/")?(J.skipToEnd(),["comment","comment"]):J.eat("*")?(U.tokenize=V,V(J,U)):["operator","operator"]},"@":function(J){return J.eat("{")?[null,"interpolation"]:J.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)?!1:(J.eatWhile(/[\w\\\-]/),J.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),t.defineMIME("text/x-gss",{documentTypes:s,mediaTypes:u,mediaFeatures:d,propertyKeywords:D,nonStandardPropertyKeywords:k,fontProperties:R,counterDescriptors:z,colorKeywords:x,valueKeywords:B,supportsAtComponent:!0,tokenHooks:{"/":function(J,U){return J.eat("*")?(U.tokenize=V,V(J,U)):!1}},name:"css",helperType:"gss"})})}()),By.exports}(function(n,e){(function(t){t($r(),DF(),$w(),Hw())})(function(t){var r={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};function o(m,v,D){var w=m.current(),k=w.search(v);return k>-1?m.backUp(w.length-k):w.match(/<\/?$/)&&(m.backUp(w.length),m.match(v,!1)||m.match(w)),D}var s={};function l(m){var v=s[m];return v||(s[m]=new RegExp("\\s+"+m+`\\s*=\\s*('|")?([^'"]+)('|")?\\s*`))}function u(m,v){var D=m.match(l(v));return D?/^\s*(.*?)\s*$/.exec(D[2])[1]:""}function f(m,v){return new RegExp((v?"^":"")+"</\\s*"+m+"\\s*>","i")}function d(m,v){for(var D in m)for(var w=v[D]||(v[D]=[]),k=m[D],M=k.length-1;M>=0;M--)w.unshift(k[M])}function p(m,v){for(var D=0;D<m.length;D++){var w=m[D];if(!w[0]||w[1].test(u(v,w[0])))return w[2]}}t.defineMode("htmlmixed",function(m,v){var D=t.getMode(m,{name:"xml",htmlMode:!0,multilineTagIndentFactor:v.multilineTagIndentFactor,multilineTagIndentPastTag:v.multilineTagIndentPastTag,allowMissingTagName:v.allowMissingTagName}),w={},k=v&&v.tags,M=v&&v.scriptTypes;if(d(r,w),k&&d(k,w),M)for(var R=M.length-1;R>=0;R--)w.script.unshift(["type",M[R].matches,M[R].mode]);function I(z,b){var x=D.token(z,b.htmlState),T=/\btag\b/.test(x),B;if(T&&!/[<>\s\/]/.test(z.current())&&(B=b.htmlState.tagName&&b.htmlState.tagName.toLowerCase())&&w.hasOwnProperty(B))b.inTag=B+" ";else if(b.inTag&&T&&/>$/.test(z.current())){var $=/^([\S]+) (.*)/.exec(b.inTag);b.inTag=null;var V=z.current()==">"&&p(w[$[1]],$[2]),J=t.getMode(m,V),U=f($[1],!0),H=f($[1],!1);b.token=function(j,_){return j.match(U,!1)?(_.token=I,_.localState=_.localMode=null,null):o(j,H,_.localMode.token(j,_.localState))},b.localMode=J,b.localState=t.startState(J,D.indent(b.htmlState,"",""))}else b.inTag&&(b.inTag+=z.current(),z.eol()&&(b.inTag+=" "));return x}return{startState:function(){var z=t.startState(D);return{token:I,inTag:null,localMode:null,localState:null,htmlState:z}},copyState:function(z){var b;return z.localState&&(b=t.copyState(z.localMode,z.localState)),{token:z.token,inTag:z.inTag,localMode:z.localMode,localState:b,htmlState:t.copyState(D,z.htmlState)}},token:function(z,b){return b.token(z,b)},indent:function(z,b,x){return!z.localMode||/^\s*<\//.test(b)?D.indent(z.htmlState,b,x):z.localMode.indent?z.localMode.indent(z.localState,b,x):t.Pass},innerMode:function(z){return{state:z.localState||z.htmlState,mode:z.localMode||D}}}},"xml","javascript","css"),t.defineMIME("text/html","htmlmixed")})})();Hw();function yn(n){this.content=n}yn.prototype={constructor:yn,find:function(n){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===n)return e;return-1},get:function(n){var e=this.find(n);return e==-1?void 0:this.content[e+1]},update:function(n,e,t){var r=t&&t!=n?this.remove(t):this,o=r.find(n),s=r.content.slice();return o==-1?s.push(t||n,e):(s[o+1]=e,t&&(s[o]=t)),new yn(s)},remove:function(n){var e=this.find(n);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new yn(t)},addToStart:function(n,e){return new yn([n,e].concat(this.remove(n).content))},addToEnd:function(n,e){var t=this.remove(n).content.slice();return t.push(n,e),new yn(t)},addBefore:function(n,e,t){var r=this.remove(e),o=r.content.slice(),s=r.find(n);return o.splice(s==-1?o.length:s,0,e,t),new yn(o)},forEach:function(n){for(var e=0;e<this.content.length;e+=2)n(this.content[e],this.content[e+1])},prepend:function(n){return n=yn.from(n),n.size?new yn(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=yn.from(n),n.size?new yn(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var e=this;n=yn.from(n);for(var t=0;t<n.content.length;t+=2)e=e.remove(n.content[t]);return e},toObject:function(){var n={};return this.forEach(function(e,t){n[e]=t}),n},get size(){return this.content.length>>1}};yn.from=function(n){if(n instanceof yn)return n;var e=[];if(n)for(var t in n)e.push(t,n[t]);return new yn(e)};function Ww(n,e,t){for(let r=0;;r++){if(r==n.childCount||r==e.childCount)return n.childCount==e.childCount?null:t;let o=n.child(r),s=e.child(r);if(o==s){t+=o.nodeSize;continue}if(!o.sameMarkup(s))return t;if(o.isText&&o.text!=s.text){for(let l=0;o.text[l]==s.text[l];l++)t++;return t}if(o.content.size||s.content.size){let l=Ww(o.content,s.content,t+1);if(l!=null)return l}t+=o.nodeSize}}function jw(n,e,t,r){for(let o=n.childCount,s=e.childCount;;){if(o==0||s==0)return o==s?null:{a:t,b:r};let l=n.child(--o),u=e.child(--s),f=l.nodeSize;if(l==u){t-=f,r-=f;continue}if(!l.sameMarkup(u))return{a:t,b:r};if(l.isText&&l.text!=u.text){let d=0,p=Math.min(l.text.length,u.text.length);for(;d<p&&l.text[l.text.length-d-1]==u.text[u.text.length-d-1];)d++,t--,r--;return{a:t,b:r}}if(l.content.size||u.content.size){let d=jw(l.content,u.content,t-1,r-1);if(d)return d}t-=f,r-=f}}class ke{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,t,r,o=0,s){for(let l=0,u=0;u<t;l++){let f=this.content[l],d=u+f.nodeSize;if(d>e&&r(f,o+u,s||null,l)!==!1&&f.content.size){let p=u+1;f.nodesBetween(Math.max(0,e-p),Math.min(f.content.size,t-p),r,o+p)}u=d}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,r,o){let s="",l=!0;return this.nodesBetween(e,t,(u,f)=>{let d=u.isText?u.text.slice(Math.max(e,f)-f,t-f):u.isLeaf?o?typeof o=="function"?o(u):o:u.type.spec.leafText?u.type.spec.leafText(u):"":"";u.isBlock&&(u.isLeaf&&d||u.isTextblock)&&r&&(l?l=!1:s+=r),s+=d},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,r=e.firstChild,o=this.content.slice(),s=0;for(t.isText&&t.sameMarkup(r)&&(o[o.length-1]=t.withText(t.text+r.text),s=1);s<e.content.length;s++)o.push(e.content[s]);return new ke(o,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let r=[],o=0;if(t>e)for(let s=0,l=0;l<t;s++){let u=this.content[s],f=l+u.nodeSize;f>e&&((l<e||f>t)&&(u.isText?u=u.cut(Math.max(0,e-l),Math.min(u.text.length,t-l)):u=u.cut(Math.max(0,e-l-1),Math.min(u.content.size,t-l-1))),r.push(u),o+=u.nodeSize),l=f}return new ke(r,o)}cutByIndex(e,t){return e==t?ke.empty:e==0&&t==this.content.length?this:new ke(this.content.slice(e,t))}replaceChild(e,t){let r=this.content[e];if(r==t)return this;let o=this.content.slice(),s=this.size+t.nodeSize-r.nodeSize;return o[e]=t,new ke(o,s)}addToStart(e){return new ke([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new ke(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,r=0;t<this.content.length;t++){let o=this.content[t];e(o,r,t),r+=o.nodeSize}}findDiffStart(e,t=0){return Ww(this,e,t)}findDiffEnd(e,t=this.size,r=e.size){return jw(this,e,t,r)}findIndex(e,t=-1){if(e==0)return ju(0,e);if(e==this.size)return ju(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,o=0;;r++){let s=this.child(r),l=o+s.nodeSize;if(l>=e)return l==e||t>0?ju(r+1,l):ju(r,o);o=l}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return ke.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new ke(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return ke.empty;let t,r=0;for(let o=0;o<e.length;o++){let s=e[o];r+=s.nodeSize,o&&s.isText&&e[o-1].sameMarkup(s)?(t||(t=e.slice(0,o)),t[t.length-1]=s.withText(t[t.length-1].text+s.text)):t&&t.push(s)}return new ke(t||e,r)}static from(e){if(!e)return ke.empty;if(e instanceof ke)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new ke([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ke.empty=new ke([],0);const Fd={index:0,offset:0};function ju(n,e){return Fd.index=n,Fd.offset=e,Fd}function Bf(n,e){if(n===e)return!0;if(!(n&&typeof n=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(n);if(Array.isArray(e)!=t)return!1;if(t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!Bf(n[r],e[r]))return!1}else{for(let r in n)if(!(r in e)||!Bf(n[r],e[r]))return!1;for(let r in e)if(!(r in n))return!1}return!0}class vt{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,r=!1;for(let o=0;o<e.length;o++){let s=e[o];if(this.eq(s))return e;if(this.type.excludes(s.type))t||(t=e.slice(0,o));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(t||(t=e.slice(0,o)),t.push(this),r=!0),t&&t.push(s)}}return t||(t=e.slice()),r||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Bf(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[t.type];if(!r)throw new RangeError(`There is no mark type ${t.type} in this schema`);return r.create(t.attrs)}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(t[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return vt.none;if(e instanceof vt)return[e];let t=e.slice();return t.sort((r,o)=>r.type.rank-o.type.rank),t}}vt.none=[];class If extends Error{}class Le{constructor(e,t,r){this.content=e,this.openStart=t,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let r=Vw(this.content,e+this.openStart,t);return r&&new Le(r,this.openStart,this.openEnd)}removeBetween(e,t){return new Le(Uw(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return Le.empty;let r=t.openStart||0,o=t.openEnd||0;if(typeof r!="number"||typeof o!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Le(ke.fromJSON(e,t.content),r,o)}static maxOpen(e,t=!0){let r=0,o=0;for(let s=e.firstChild;s&&!s.isLeaf&&(t||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(t||!s.type.spec.isolating);s=s.lastChild)o++;return new Le(e,r,o)}}Le.empty=new Le(ke.empty,0,0);function Uw(n,e,t){let{index:r,offset:o}=n.findIndex(e),s=n.maybeChild(r),{index:l,offset:u}=n.findIndex(t);if(o==e||s.isText){if(u!=t&&!n.child(l).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(r!=l)throw new RangeError("Removing non-flat range");return n.replaceChild(r,s.copy(Uw(s.content,e-o-1,t-o-1)))}function Vw(n,e,t,r){let{index:o,offset:s}=n.findIndex(e),l=n.maybeChild(o);if(s==e||l.isText)return r&&!r.canReplace(o,o,t)?null:n.cut(0,e).append(t).append(n.cut(e));let u=Vw(l.content,e-s-1,t);return u&&n.replaceChild(o,l.copy(u))}function SF(n,e,t){if(t.openStart>n.depth)throw new If("Inserted content deeper than insertion position");if(n.depth-t.openStart!=e.depth-t.openEnd)throw new If("Inconsistent open depths");return qw(n,e,t,0)}function qw(n,e,t,r){let o=n.index(r),s=n.node(r);if(o==e.index(r)&&r<n.depth-t.openStart){let l=qw(n,e,t,r+1);return s.copy(s.content.replaceChild(o,l))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&n.depth==r&&e.depth==r){let l=n.parent,u=l.content;return Zo(l,u.cut(0,n.parentOffset).append(t.content).append(u.cut(e.parentOffset)))}else{let{start:l,end:u}=CF(t,n);return Zo(s,Gw(n,l,u,e,r))}else return Zo(s,Pf(n,e,r))}function Kw(n,e){if(!e.type.compatibleContent(n.type))throw new If("Cannot join "+e.type.name+" onto "+n.type.name)}function zp(n,e,t){let r=n.node(t);return Kw(r,e.node(t)),r}function Qo(n,e){let t=e.length-1;t>=0&&n.isText&&n.sameMarkup(e[t])?e[t]=n.withText(e[t].text+n.text):e.push(n)}function wl(n,e,t,r){let o=(e||n).node(t),s=0,l=e?e.index(t):o.childCount;n&&(s=n.index(t),n.depth>t?s++:n.textOffset&&(Qo(n.nodeAfter,r),s++));for(let u=s;u<l;u++)Qo(o.child(u),r);e&&e.depth==t&&e.textOffset&&Qo(e.nodeBefore,r)}function Zo(n,e){return n.type.checkContent(e),n.copy(e)}function Gw(n,e,t,r,o){let s=n.depth>o&&zp(n,e,o+1),l=r.depth>o&&zp(t,r,o+1),u=[];return wl(null,n,o,u),s&&l&&e.index(o)==t.index(o)?(Kw(s,l),Qo(Zo(s,Gw(n,e,t,r,o+1)),u)):(s&&Qo(Zo(s,Pf(n,e,o+1)),u),wl(e,t,o,u),l&&Qo(Zo(l,Pf(t,r,o+1)),u)),wl(r,null,o,u),new ke(u)}function Pf(n,e,t){let r=[];if(wl(null,n,t,r),n.depth>t){let o=zp(n,e,t+1);Qo(Zo(o,Pf(n,e,t+1)),r)}return wl(e,null,t,r),new ke(r)}function CF(n,e){let t=e.depth-n.openStart,o=e.node(t).copy(n.content);for(let s=t-1;s>=0;s--)o=e.node(s).copy(ke.from(o));return{start:o.resolveNoCache(n.openStart+t),end:o.resolveNoCache(o.content.size-n.openEnd-t)}}class Ll{constructor(e,t,r){this.pos=e,this.path=t,this.parentOffset=r,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],o=e.child(t);return r?e.child(t).cut(r):o}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let r=this.path[t*3],o=t==0?0:this.path[t*3-1]+1;for(let s=0;s<e;s++)o+=r.child(s).nodeSize;return o}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return vt.none;if(this.textOffset)return e.child(t).marks;let r=e.maybeChild(t-1),o=e.maybeChild(t);if(!r){let u=r;r=o,o=u}let s=r.marks;for(var l=0;l<s.length;l++)s[l].type.spec.inclusive===!1&&(!o||!s[l].isInSet(o.marks))&&(s=s[l--].removeFromSet(s));return s}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let r=t.marks,o=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!o||!r[s].isInSet(o.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!t||t(this.node(r))))return new zf(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let r=[],o=0,s=t;for(let l=e;;){let{index:u,offset:f}=l.content.findIndex(s),d=s-f;if(r.push(l,u,o+f),!d||(l=l.child(u),l.isText))break;s=d-1,o+=f+1}return new Ll(t,r,s)}static resolveCached(e,t){for(let o=0;o<Nd.length;o++){let s=Nd[o];if(s.pos==t&&s.doc==e)return s}let r=Nd[Rd]=Ll.resolve(e,t);return Rd=(Rd+1)%xF,r}}let Nd=[],Rd=0,xF=12;class zf{constructor(e,t,r){this.$from=e,this.$to=t,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const EF=Object.create(null);class ai{constructor(e,t,r,o=vt.none){this.type=e,this.attrs=t,this.marks=o,this.content=r||ke.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,r,o=0){this.content.nodesBetween(e,t,r,o,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,r,o){return this.content.textBetween(e,t,r,o)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,r){return this.type==e&&Bf(this.attrs,t||e.defaultAttrs||EF)&&vt.sameSet(this.marks,r||vt.none)}copy(e=null){return e==this.content?this:new ai(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new ai(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,r=!1){if(e==t)return Le.empty;let o=this.resolve(e),s=this.resolve(t),l=r?0:o.sharedDepth(t),u=o.start(l),d=o.node(l).content.cut(o.pos-u,s.pos-u);return new Le(d,o.depth-l,s.depth-l)}replace(e,t,r){return SF(this.resolve(e),this.resolve(t),r)}nodeAt(e){for(let t=this;;){let{index:r,offset:o}=t.content.findIndex(e);if(t=t.maybeChild(r),!t)return null;if(o==e||t.isText)return t;e-=o+1}}childAfter(e){let{index:t,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(t),index:t,offset:r};let o=this.content.child(t-1);return{node:o,index:t-1,offset:r-o.nodeSize}}resolve(e){return Ll.resolveCached(this,e)}resolveNoCache(e){return Ll.resolve(this,e)}rangeHasMark(e,t,r){let o=!1;return t>e&&this.nodesBetween(e,t,s=>(r.isInSet(s.marks)&&(o=!0),!o)),o}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),Jw(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,r=ke.empty,o=0,s=r.childCount){let l=this.contentMatchAt(e).matchFragment(r,o,s),u=l&&l.matchFragment(this.content,t);if(!u||!u.validEnd)return!1;for(let f=o;f<s;f++)if(!this.type.allowsMarks(r.child(f).marks))return!1;return!0}canReplaceWith(e,t,r,o){if(o&&!this.type.allowsMarks(o))return!1;let s=this.contentMatchAt(e).matchType(r),l=s&&s.matchFragment(this.content,t);return l?l.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content);let e=vt.none;for(let t=0;t<this.marks.length;t++)e=this.marks[t].addToSet(e);if(!vt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let r=null;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,r)}let o=ke.fromJSON(e,t.content);return e.nodeType(t.type).create(t.attrs,o,r)}}ai.prototype.text=void 0;class _f extends ai{constructor(e,t,r,o){if(super(e,t,null,o),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Jw(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new _f(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new _f(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function Jw(n,e){for(let t=n.length-1;t>=0;t--)e=n[t].type.name+"("+e+")";return e}class rs{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let r=new kF(e,t);if(r.next==null)return rs.empty;let o=Yw(r);r.next&&r.err("Unexpected trailing text");let s=RF(NF(o));return LF(s,r),s}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,r=e.childCount){let o=this;for(let s=t;o&&s<r;s++)o=o.matchType(e.child(s).type);return o}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let r=0;r<e.next.length;r++)if(this.next[t].type==e.next[r].type)return!0;return!1}fillBefore(e,t=!1,r=0){let o=[this];function s(l,u){let f=l.matchFragment(e,r);if(f&&(!t||f.validEnd))return ke.from(u.map(d=>d.createAndFill()));for(let d=0;d<l.next.length;d++){let{type:p,next:m}=l.next[d];if(!(p.isText||p.hasRequiredAttrs())&&o.indexOf(m)==-1){o.push(m);let v=s(m,u.concat(p));if(v)return v}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let o=r.shift(),s=o.match;if(s.matchType(e)){let l=[];for(let u=o;u.type;u=u.via)l.push(u.type);return l.reverse()}for(let l=0;l<s.next.length;l++){let{type:u,next:f}=s.next[l];!u.isLeaf&&!u.hasRequiredAttrs()&&!(u.name in t)&&(!o.type||f.validEnd)&&(r.push({match:u.contentMatch,type:u,via:o}),t[u.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(r){e.push(r);for(let o=0;o<r.next.length;o++)e.indexOf(r.next[o].next)==-1&&t(r.next[o].next)}return t(this),e.map((r,o)=>{let s=o+(r.validEnd?"*":" ")+" ";for(let l=0;l<r.next.length;l++)s+=(l?", ":"")+r.next[l].type.name+"->"+e.indexOf(r.next[l].next);return s}).join(`
`)}}rs.empty=new rs(!0);class kF{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function Yw(n){let e=[];do e.push(AF(n));while(n.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function AF(n){let e=[];do e.push(TF(n));while(n.next&&n.next!=")"&&n.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function TF(n){let e=FF(n);for(;;)if(n.eat("+"))e={type:"plus",expr:e};else if(n.eat("*"))e={type:"star",expr:e};else if(n.eat("?"))e={type:"opt",expr:e};else if(n.eat("{"))e=OF(n,e);else break;return e}function Py(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let e=Number(n.next);return n.pos++,e}function OF(n,e){let t=Py(n),r=t;return n.eat(",")&&(n.next!="}"?r=Py(n):r=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:t,max:r,expr:e}}function MF(n,e){let t=n.nodeTypes,r=t[e];if(r)return[r];let o=[];for(let s in t){let l=t[s];l.groups.indexOf(e)>-1&&o.push(l)}return o.length==0&&n.err("No node type or group '"+e+"' found"),o}function FF(n){if(n.eat("(")){let e=Yw(n);return n.eat(")")||n.err("Missing closing paren"),e}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let e=MF(n,n.next).map(t=>(n.inline==null?n.inline=t.isInline:n.inline!=t.isInline&&n.err("Mixing inline and block content"),{type:"name",value:t}));return n.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function NF(n){let e=[[]];return o(s(n,0),t()),e;function t(){return e.push([])-1}function r(l,u,f){let d={term:f,to:u};return e[l].push(d),d}function o(l,u){l.forEach(f=>f.to=u)}function s(l,u){if(l.type=="choice")return l.exprs.reduce((f,d)=>f.concat(s(d,u)),[]);if(l.type=="seq")for(let f=0;;f++){let d=s(l.exprs[f],u);if(f==l.exprs.length-1)return d;o(d,u=t())}else if(l.type=="star"){let f=t();return r(u,f),o(s(l.expr,f),f),[r(f)]}else if(l.type=="plus"){let f=t();return o(s(l.expr,u),f),o(s(l.expr,f),f),[r(f)]}else{if(l.type=="opt")return[r(u)].concat(s(l.expr,u));if(l.type=="range"){let f=u;for(let d=0;d<l.min;d++){let p=t();o(s(l.expr,f),p),f=p}if(l.max==-1)o(s(l.expr,f),f);else for(let d=l.min;d<l.max;d++){let p=t();r(f,p),o(s(l.expr,f),p),f=p}return[r(f)]}else{if(l.type=="name")return[r(u,void 0,l.value)];throw new Error("Unknown expr type")}}}}function Xw(n,e){return e-n}function zy(n,e){let t=[];return r(e),t.sort(Xw);function r(o){let s=n[o];if(s.length==1&&!s[0].term)return r(s[0].to);t.push(o);for(let l=0;l<s.length;l++){let{term:u,to:f}=s[l];!u&&t.indexOf(f)==-1&&r(f)}}}function RF(n){let e=Object.create(null);return t(zy(n,0));function t(r){let o=[];r.forEach(l=>{n[l].forEach(({term:u,to:f})=>{if(!u)return;let d;for(let p=0;p<o.length;p++)o[p][0]==u&&(d=o[p][1]);zy(n,f).forEach(p=>{d||o.push([u,d=[]]),d.indexOf(p)==-1&&d.push(p)})})});let s=e[r.join(",")]=new rs(r.indexOf(n.length-1)>-1);for(let l=0;l<o.length;l++){let u=o[l][1].sort(Xw);s.next.push({type:o[l][0],next:e[u.join(",")]||t(u)})}return s}}function LF(n,e){for(let t=0,r=[n];t<r.length;t++){let o=r[t],s=!o.validEnd,l=[];for(let u=0;u<o.next.length;u++){let{type:f,next:d}=o.next[u];l.push(f.name),s&&!(f.isText||f.hasRequiredAttrs())&&(s=!1),r.indexOf(d)==-1&&r.push(d)}s&&e.err("Only non-generatable nodes ("+l.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function Qw(n){let e=Object.create(null);for(let t in n){let r=n[t];if(!r.hasDefault)return null;e[t]=r.default}return e}function Zw(n,e){let t=Object.create(null);for(let r in n){let o=e&&e[r];if(o===void 0){let s=n[r];if(s.hasDefault)o=s.default;else throw new RangeError("No value supplied for attribute "+r)}t[r]=o}return t}function eD(n){let e=Object.create(null);if(n)for(let t in n)e[t]=new BF(n[t]);return e}let _y=class tD{constructor(e,t,r){this.name=e,this.schema=t,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=eD(r.attrs),this.defaultAttrs=Qw(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==rs.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:Zw(this.attrs,e)}create(e=null,t,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new ai(this,this.computeAttrs(e),ke.from(t),vt.setFrom(r))}createChecked(e=null,t,r){return t=ke.from(t),this.checkContent(t),new ai(this,this.computeAttrs(e),t,vt.setFrom(r))}createAndFill(e=null,t,r){if(e=this.computeAttrs(e),t=ke.from(t),t.size){let l=this.contentMatch.fillBefore(t);if(!l)return null;t=l.append(t)}let o=this.contentMatch.matchFragment(t),s=o&&o.fillBefore(ke.empty,!0);return s?new ai(this,e,t.append(s),vt.setFrom(r)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?t&&t.push(e[r]):t||(t=e.slice(0,r));return t?t.length?t:vt.none:e}static compile(e,t){let r=Object.create(null);e.forEach((s,l)=>r[s]=new tD(s,t,l));let o=t.spec.topNode||"doc";if(!r[o])throw new RangeError("Schema is missing its top node type ('"+o+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};class BF{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class Fc{constructor(e,t,r,o){this.name=e,this.rank=t,this.schema=r,this.spec=o,this.attrs=eD(o.attrs),this.excluded=null;let s=Qw(this.attrs);this.instance=s?new vt(this,s):null}create(e=null){return!e&&this.instance?this.instance:new vt(this,Zw(this.attrs,e))}static compile(e,t){let r=Object.create(null),o=0;return e.forEach((s,l)=>r[s]=new Fc(s,o++,t,l)),r}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}excludes(e){return this.excluded.indexOf(e)>-1}}class $L{constructor(e){this.cached=Object.create(null);let t=this.spec={};for(let o in e)t[o]=e[o];t.nodes=yn.from(e.nodes),t.marks=yn.from(e.marks||{}),this.nodes=_y.compile(this.spec.nodes,this),this.marks=Fc.compile(this.spec.marks,this);let r=Object.create(null);for(let o in this.nodes){if(o in this.marks)throw new RangeError(o+" can not be both a node and a mark");let s=this.nodes[o],l=s.spec.content||"",u=s.spec.marks;s.contentMatch=r[l]||(r[l]=rs.parse(l,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.markSet=u=="_"?null:u?$y(this,u.split(" ")):u==""||!s.inlineContent?[]:null}for(let o in this.marks){let s=this.marks[o],l=s.spec.excludes;s.excluded=l==null?[s]:l==""?[]:$y(this,l.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,r,o){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof _y){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,r,o)}text(e,t){let r=this.nodes.text;return new _f(r,r.defaultAttrs,e,vt.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return ai.fromJSON(this,e)}markFromJSON(e){return vt.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function $y(n,e){let t=[];for(let r=0;r<e.length;r++){let o=e[r],s=n.marks[o],l=s;if(s)t.push(s);else for(let u in n.marks){let f=n.marks[u];(o=="_"||f.spec.group&&f.spec.group.split(" ").indexOf(o)>-1)&&t.push(l=f)}if(!l)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return t}class Bl{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[],t.forEach(r=>{r.tag?this.tags.push(r):r.style&&this.styles.push(r)}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let o=e.nodes[r.node];return o.contentMatch.matchType(o)})}parse(e,t={}){let r=new Wy(this,t,!1);return r.addAll(e,t.from,t.to),r.finish()}parseSlice(e,t={}){let r=new Wy(this,t,!0);return r.addAll(e,t.from,t.to),Le.maxOpen(r.finish())}matchTag(e,t,r){for(let o=r?this.tags.indexOf(r)+1:0;o<this.tags.length;o++){let s=this.tags[o];if(zF(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||t.matchesContext(s.context))){if(s.getAttrs){let l=s.getAttrs(e);if(l===!1)continue;s.attrs=l||void 0}return s}}}matchStyle(e,t,r,o){for(let s=o?this.styles.indexOf(o)+1:0;s<this.styles.length;s++){let l=this.styles[s],u=l.style;if(!(u.indexOf(e)!=0||l.context&&!r.matchesContext(l.context)||u.length>e.length&&(u.charCodeAt(e.length)!=61||u.slice(e.length+1)!=t))){if(l.getAttrs){let f=l.getAttrs(t);if(f===!1)continue;l.attrs=f||void 0}return l}}}static schemaRules(e){let t=[];function r(o){let s=o.priority==null?50:o.priority,l=0;for(;l<t.length;l++){let u=t[l];if((u.priority==null?50:u.priority)<s)break}t.splice(l,0,o)}for(let o in e.marks){let s=e.marks[o].spec.parseDOM;s&&s.forEach(l=>{r(l=jy(l)),l.mark||l.ignore||l.clearMark||(l.mark=o)})}for(let o in e.nodes){let s=e.nodes[o].spec.parseDOM;s&&s.forEach(l=>{r(l=jy(l)),l.node||l.ignore||l.mark||(l.node=o)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Bl(e,Bl.schemaRules(e)))}}const nD={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},IF={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},rD={ol:!0,ul:!0},$f=1,Hf=2,Dl=4;function Hy(n,e,t){return e!=null?(e?$f:0)|(e==="full"?Hf:0):n&&n.whitespace=="pre"?$f|Hf:t&~Dl}class Uu{constructor(e,t,r,o,s,l,u){this.type=e,this.attrs=t,this.marks=r,this.pendingMarks=o,this.solid=s,this.options=u,this.content=[],this.activeMarks=vt.none,this.stashMarks=[],this.match=l||(u&Dl?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(ke.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let r=this.type.contentMatch,o;return(o=r.findWrapping(e.type))?(this.match=r,o):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&$f)){let r=this.content[this.content.length-1],o;if(r&&r.isText&&(o=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==o[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-o[0].length))}}let t=ke.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(ke.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}popFromStashMark(e){for(let t=this.stashMarks.length-1;t>=0;t--)if(e.eq(this.stashMarks[t]))return this.stashMarks.splice(t,1)[0]}applyPending(e){for(let t=0,r=this.pendingMarks;t<r.length;t++){let o=r[t];(this.type?this.type.allowsMarkType(o.type):$F(o.type,e))&&!o.isInSet(this.activeMarks)&&(this.activeMarks=o.addToSet(this.activeMarks),this.pendingMarks=o.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!nD.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Wy{constructor(e,t,r){this.parser=e,this.options=t,this.isOpen=r,this.open=0;let o=t.topNode,s,l=Hy(null,t.preserveWhitespace,0)|(r?Dl:0);o?s=new Uu(o.type,o.attrs,vt.none,vt.none,!0,t.topMatch||o.type.contentMatch,l):r?s=new Uu(null,null,vt.none,vt.none,!0,null,l):s=new Uu(e.schema.topNodeType,null,vt.none,vt.none,!0,null,l),this.nodes=[s],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){e.nodeType==3?this.addTextNode(e):e.nodeType==1&&this.addElement(e)}withStyleRules(e,t){let r=e.getAttribute("style");if(!r)return t();let o=this.readStyles(_F(r));if(!o)return;let[s,l]=o,u=this.top;for(let f=0;f<l.length;f++)this.removePendingMark(l[f],u);for(let f=0;f<s.length;f++)this.addPendingMark(s[f]);t();for(let f=0;f<s.length;f++)this.removePendingMark(s[f],u);for(let f=0;f<l.length;f++)this.addPendingMark(l[f])}addTextNode(e){let t=e.nodeValue,r=this.top;if(r.options&Hf||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(t)){if(r.options&$f)r.options&Hf?t=t.replace(/\r\n?/g,`
`):t=t.replace(/\r?\n|\r/g," ");else if(t=t.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(t)&&this.open==this.nodes.length-1){let o=r.content[r.content.length-1],s=e.previousSibling;(!o||s&&s.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(t=t.slice(1))}t&&this.insertNode(this.parser.schema.text(t)),this.findInText(e)}else this.findInside(e)}addElement(e,t){let r=e.nodeName.toLowerCase(),o;rD.hasOwnProperty(r)&&this.parser.normalizeLists&&PF(e);let s=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(o=this.parser.matchTag(e,this,t));if(s?s.ignore:IF.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!s||s.skip||s.closeParent){s&&s.closeParent?this.open=Math.max(0,this.open-1):s&&s.skip.nodeType&&(e=s.skip);let l,u=this.top,f=this.needsBlock;if(nD.hasOwnProperty(r))u.content.length&&u.content[0].isInline&&this.open&&(this.open--,u=this.top),l=!0,u.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e);return}s&&s.skip?this.addAll(e):this.withStyleRules(e,()=>this.addAll(e)),l&&this.sync(u),this.needsBlock=f}else this.withStyleRules(e,()=>{this.addElementByRule(e,s,s.consuming===!1?o:void 0)})}leafFallback(e){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`))}ignoreFallback(e){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(e){let t=vt.none,r=vt.none;for(let o=0;o<e.length;o+=2)for(let s=void 0;;){let l=this.parser.matchStyle(e[o],e[o+1],this,s);if(!l)break;if(l.ignore)return null;if(l.clearMark?this.top.pendingMarks.concat(this.top.activeMarks).forEach(u=>{l.clearMark(u)&&(r=u.addToSet(r))}):t=this.parser.schema.marks[l.mark].create(l.attrs).addToSet(t),l.consuming===!1)s=l;else break}return[t,r]}addElementByRule(e,t,r){let o,s,l;t.node?(s=this.parser.schema.nodes[t.node],s.isLeaf?this.insertNode(s.create(t.attrs))||this.leafFallback(e):o=this.enter(s,t.attrs||null,t.preserveWhitespace)):(l=this.parser.schema.marks[t.mark].create(t.attrs),this.addPendingMark(l));let u=this.top;if(s&&s.isLeaf)this.findInside(e);else if(r)this.addElement(e,r);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(f=>this.insertNode(f));else{let f=e;typeof t.contentElement=="string"?f=e.querySelector(t.contentElement):typeof t.contentElement=="function"?f=t.contentElement(e):t.contentElement&&(f=t.contentElement),this.findAround(e,f,!0),this.addAll(f)}o&&this.sync(u)&&this.open--,l&&this.removePendingMark(l,u)}addAll(e,t,r){let o=t||0;for(let s=t?e.childNodes[t]:e.firstChild,l=r==null?null:e.childNodes[r];s!=l;s=s.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(s);this.findAtPoint(e,o)}findPlace(e){let t,r;for(let o=this.open;o>=0;o--){let s=this.nodes[o],l=s.findWrapping(e);if(l&&(!t||t.length>l.length)&&(t=l,r=s,!l.length)||s.solid)break}if(!t)return!1;this.sync(r);for(let o=0;o<t.length;o++)this.enterInner(t[o],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let t=this.textblockFromContext();t&&this.enterInner(t)}if(this.findPlace(e)){this.closeExtra();let t=this.top;t.applyPending(e.type),t.match&&(t.match=t.match.matchType(e.type));let r=t.activeMarks;for(let o=0;o<e.marks.length;o++)(!t.type||t.type.allowsMarkType(e.marks[o].type))&&(r=e.marks[o].addToSet(r));return t.content.push(e.mark(r)),!0}return!1}enter(e,t,r){let o=this.findPlace(e.create(t));return o&&this.enterInner(e,t,!0,r),o}enterInner(e,t=null,r=!1,o){this.closeExtra();let s=this.top;s.applyPending(e),s.match=s.match&&s.match.matchType(e);let l=Hy(e,o,s.options);s.options&Dl&&s.content.length==0&&(l|=Dl),this.nodes.push(new Uu(e,t,s.activeMarks,s.pendingMarks,r,null,l)),this.open++}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let t=this.open;t>=0;t--)if(this.nodes[t]==e)return this.open=t,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let r=this.nodes[t].content;for(let o=r.length-1;o>=0;o--)e+=r[o].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==t&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,r){if(e!=t&&this.find)for(let o=0;o<this.find.length;o++)this.find[o].pos==null&&e.nodeType==1&&e.contains(this.find[o].node)&&t.compareDocumentPosition(this.find[o].node)&(r?2:4)&&(this.find[o].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),r=this.options.context,o=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(o?0:1),l=(u,f)=>{for(;u>=0;u--){let d=t[u];if(d==""){if(u==t.length-1||u==0)continue;for(;f>=s;f--)if(l(u-1,f))return!0;return!1}else{let p=f>0||f==0&&o?this.nodes[f].type:r&&f>=s?r.node(f-s).type:null;if(!p||p.name!=d&&p.groups.indexOf(d)==-1)return!1;f--}}return!0};return l(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let r=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let t in this.parser.schema.nodes){let r=this.parser.schema.nodes[t];if(r.isTextblock&&r.defaultAttrs)return r}}addPendingMark(e){let t=HF(e,this.top.pendingMarks);t&&this.top.stashMarks.push(t),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,t){for(let r=this.open;r>=0;r--){let o=this.nodes[r];if(o.pendingMarks.lastIndexOf(e)>-1)o.pendingMarks=e.removeFromSet(o.pendingMarks);else{o.activeMarks=e.removeFromSet(o.activeMarks);let l=o.popFromStashMark(e);l&&o.type&&o.type.allowsMarkType(l.type)&&(o.activeMarks=l.addToSet(o.activeMarks))}if(o==t)break}}}function PF(n){for(let e=n.firstChild,t=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&rD.hasOwnProperty(r)&&t?(t.appendChild(e),e=t):r=="li"?t=e:r&&(t=null)}}function zF(n,e){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,e)}function _F(n){let e=/\s*([\w-]+)\s*:\s*([^;]+)/g,t,r=[];for(;t=e.exec(n);)r.push(t[1],t[2].trim());return r}function jy(n){let e={};for(let t in n)e[t]=n[t];return e}function $F(n,e){let t=e.schema.nodes;for(let r in t){let o=t[r];if(!o.allowsMarkType(n))continue;let s=[],l=u=>{s.push(u);for(let f=0;f<u.edgeCount;f++){let{type:d,next:p}=u.edge(f);if(d==e||s.indexOf(p)<0&&l(p))return!0}};if(l(o.contentMatch))return!0}}function HF(n,e){for(let t=0;t<e.length;t++)if(n.eq(e[t]))return e[t]}class Mi{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},r){r||(r=Ld(t).createDocumentFragment());let o=r,s=[];return e.forEach(l=>{if(s.length||l.marks.length){let u=0,f=0;for(;u<s.length&&f<l.marks.length;){let d=l.marks[f];if(!this.marks[d.type.name]){f++;continue}if(!d.eq(s[u][0])||d.type.spec.spanning===!1)break;u++,f++}for(;u<s.length;)o=s.pop()[1];for(;f<l.marks.length;){let d=l.marks[f++],p=this.serializeMark(d,l.isInline,t);p&&(s.push([d,o]),o.appendChild(p.dom),o=p.contentDOM||p.dom)}}o.appendChild(this.serializeNodeInner(l,t))}),r}serializeNodeInner(e,t){let{dom:r,contentDOM:o}=Mi.renderSpec(Ld(t),this.nodes[e.type.name](e));if(o){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,o)}return r}serializeNode(e,t={}){let r=this.serializeNodeInner(e,t);for(let o=e.marks.length-1;o>=0;o--){let s=this.serializeMark(e.marks[o],e.isInline,t);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,t,r={}){let o=this.marks[e.type.name];return o&&Mi.renderSpec(Ld(r),o(e,t))}static renderSpec(e,t,r=null){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let o=t[0],s=o.indexOf(" ");s>0&&(r=o.slice(0,s),o=o.slice(s+1));let l,u=r?e.createElementNS(r,o):e.createElement(o),f=t[1],d=1;if(f&&typeof f=="object"&&f.nodeType==null&&!Array.isArray(f)){d=2;for(let p in f)if(f[p]!=null){let m=p.indexOf(" ");m>0?u.setAttributeNS(p.slice(0,m),p.slice(m+1),f[p]):u.setAttribute(p,f[p])}}for(let p=d;p<t.length;p++){let m=t[p];if(m===0){if(p<t.length-1||p>d)throw new RangeError("Content hole must be the only child of its parent node");return{dom:u,contentDOM:u}}else{let{dom:v,contentDOM:D}=Mi.renderSpec(e,m,r);if(u.appendChild(v),D){if(l)throw new RangeError("Multiple content holes");l=D}}}return{dom:u,contentDOM:l}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Mi(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=Uy(e.nodes);return t.text||(t.text=r=>r.text),t}static marksFromSchema(e){return Uy(e.marks)}}function Uy(n){let e={};for(let t in n){let r=n[t].spec.toDOM;r&&(e[t]=r)}return e}function Ld(n){return n.document||window.document}const iD=65535,oD=Math.pow(2,16);function WF(n,e){return n+e*oD}function Vy(n){return n&iD}function jF(n){return(n-(n&iD))/oD}const sD=1,aD=2,gf=4,lD=8;class _p{constructor(e,t,r){this.pos=e,this.delInfo=t,this.recover=r}get deleted(){return(this.delInfo&lD)>0}get deletedBefore(){return(this.delInfo&(sD|gf))>0}get deletedAfter(){return(this.delInfo&(aD|gf))>0}get deletedAcross(){return(this.delInfo&gf)>0}}class cr{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&cr.empty)return cr.empty}recover(e){let t=0,r=Vy(e);if(!this.inverted)for(let o=0;o<r;o++)t+=this.ranges[o*3+2]-this.ranges[o*3+1];return this.ranges[r*3]+t+jF(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,r){let o=0,s=this.inverted?2:1,l=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let f=this.ranges[u]-(this.inverted?o:0);if(f>e)break;let d=this.ranges[u+s],p=this.ranges[u+l],m=f+d;if(e<=m){let v=d?e==f?-1:e==m?1:t:t,D=f+o+(v<0?0:p);if(r)return D;let w=e==(t<0?f:m)?null:WF(u/3,e-f),k=e==f?aD:e==m?sD:gf;return(t<0?e!=f:e!=m)&&(k|=lD),new _p(D,k,w)}o+=p-d}return r?e+o:new _p(e+o,0,null)}touches(e,t){let r=0,o=Vy(t),s=this.inverted?2:1,l=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let f=this.ranges[u]-(this.inverted?r:0);if(f>e)break;let d=this.ranges[u+s],p=f+d;if(e<=p&&u==o*3)return!0;r+=this.ranges[u+l]-d}return!1}forEach(e){let t=this.inverted?2:1,r=this.inverted?1:2;for(let o=0,s=0;o<this.ranges.length;o+=3){let l=this.ranges[o],u=l-(this.inverted?s:0),f=l+(this.inverted?0:s),d=this.ranges[o+t],p=this.ranges[o+r];e(u,u+d,f,f+p),s+=p-d}}invert(){return new cr(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?cr.empty:new cr(e<0?[0,-e,0]:[0,0,e])}}cr.empty=new cr([]);class ta{constructor(e=[],t,r=0,o=e.length){this.maps=e,this.mirror=t,this.from=r,this.to=o}slice(e=0,t=this.maps.length){return new ta(this.maps,this.mirror,e,t)}copy(){return new ta(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,t){this.to=this.maps.push(e),t!=null&&this.setMirror(this.maps.length-1,t)}appendMapping(e){for(let t=0,r=this.maps.length;t<e.maps.length;t++){let o=e.getMirror(t);this.appendMap(e.maps[t],o!=null&&o<t?r+o:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,r=this.maps.length+e.maps.length;t>=0;t--){let o=e.getMirror(t);this.appendMap(e.maps[t].invert(),o!=null&&o>t?r-o-1:void 0)}}invert(){let e=new ta;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,r){let o=0;for(let s=this.from;s<this.to;s++){let l=this.maps[s],u=l.mapResult(e,t);if(u.recover!=null){let f=this.getMirror(s);if(f!=null&&f>s&&f<this.to){s=f,e=this.maps[f].recover(u.recover);continue}}o|=u.delInfo,e=u.pos}return r?e:new _p(e,o,null)}}const Bd=Object.create(null);class Rn{getMap(){return cr.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Bd[t.stepType];if(!r)throw new RangeError(`No step type ${t.stepType} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in Bd)throw new RangeError("Duplicate use of step JSON ID "+e);return Bd[e]=t,t.prototype.jsonID=e,t}}class Yt{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new Yt(e,null)}static fail(e){return new Yt(null,e)}static fromReplace(e,t,r,o){try{return Yt.ok(e.replace(t,r,o))}catch(s){if(s instanceof If)return Yt.fail(s.message);throw s}}}function Mg(n,e,t){let r=[];for(let o=0;o<n.childCount;o++){let s=n.child(o);s.content.size&&(s=s.copy(Mg(s.content,e,s))),s.isInline&&(s=e(s,t,o)),r.push(s)}return ke.fromArray(r)}class go extends Rn{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=e.resolve(this.from),o=r.node(r.sharedDepth(this.to)),s=new Le(Mg(t.content,(l,u)=>!l.isAtom||!u.type.allowsMarkType(this.mark.type)?l:l.mark(this.mark.addToSet(l.marks)),o),t.openStart,t.openEnd);return Yt.fromReplace(e,this.from,this.to,s)}invert(){return new oi(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new go(t.pos,r.pos,this.mark)}merge(e){return e instanceof go&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new go(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new go(t.from,t.to,e.markFromJSON(t.mark))}}Rn.jsonID("addMark",go);class oi extends Rn{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=new Le(Mg(t.content,o=>o.mark(this.mark.removeFromSet(o.marks)),e),t.openStart,t.openEnd);return Yt.fromReplace(e,this.from,this.to,r)}invert(){return new go(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new oi(t.pos,r.pos,this.mark)}merge(e){return e instanceof oi&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new oi(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new oi(t.from,t.to,e.markFromJSON(t.mark))}}Rn.jsonID("removeMark",oi);class mo extends Rn{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Yt.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return Yt.fromReplace(e,this.pos,this.pos+1,new Le(ke.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(let o=0;o<t.marks.length;o++)if(!t.marks[o].isInSet(r))return new mo(this.pos,t.marks[o]);return new mo(this.pos,this.mark)}}return new fa(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new mo(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new mo(t.pos,e.markFromJSON(t.mark))}}Rn.jsonID("addNodeMark",mo);class fa extends Rn{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Yt.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return Yt.fromReplace(e,this.pos,this.pos+1,new Le(ke.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new mo(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new fa(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new fa(t.pos,e.markFromJSON(t.mark))}}Rn.jsonID("removeNodeMark",fa);class wn extends Rn{constructor(e,t,r,o=!1){super(),this.from=e,this.to=t,this.slice=r,this.structure=o}apply(e){return this.structure&&$p(e,this.from,this.to)?Yt.fail("Structure replace would overwrite content"):Yt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new cr([this.from,this.to-this.from,this.slice.size])}invert(e){return new wn(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new wn(t.pos,Math.max(t.pos,r.pos),this.slice)}merge(e){if(!(e instanceof wn)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?Le.empty:new Le(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new wn(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?Le.empty:new Le(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new wn(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new wn(t.from,t.to,Le.fromJSON(e,t.slice),!!t.structure)}}Rn.jsonID("replace",wn);class xn extends Rn{constructor(e,t,r,o,s,l,u=!1){super(),this.from=e,this.to=t,this.gapFrom=r,this.gapTo=o,this.slice=s,this.insert=l,this.structure=u}apply(e){if(this.structure&&($p(e,this.from,this.gapFrom)||$p(e,this.gapTo,this.to)))return Yt.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return Yt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,t.content);return r?Yt.fromReplace(e,this.from,this.to,r):Yt.fail("Content does not fit in gap")}getMap(){return new cr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new xn(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),o=e.map(this.gapFrom,-1),s=e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||o<t.pos||s>r.pos?null:new xn(t.pos,r.pos,o,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new xn(t.from,t.to,t.gapFrom,t.gapTo,Le.fromJSON(e,t.slice),t.insert,!!t.structure)}}Rn.jsonID("replaceAround",xn);function $p(n,e,t){let r=n.resolve(e),o=t-e,s=r.depth;for(;o>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,o--;if(o>0){let l=r.node(s).maybeChild(r.indexAfter(s));for(;o>0;){if(!l||l.isLeaf)return!0;l=l.firstChild,o--}}return!1}function UF(n,e,t,r){let o=[],s=[],l,u;n.doc.nodesBetween(e,t,(f,d,p)=>{if(!f.isInline)return;let m=f.marks;if(!r.isInSet(m)&&p.type.allowsMarkType(r.type)){let v=Math.max(d,e),D=Math.min(d+f.nodeSize,t),w=r.addToSet(m);for(let k=0;k<m.length;k++)m[k].isInSet(w)||(l&&l.to==v&&l.mark.eq(m[k])?l.to=D:o.push(l=new oi(v,D,m[k])));u&&u.to==v?u.to=D:s.push(u=new go(v,D,r))}}),o.forEach(f=>n.step(f)),s.forEach(f=>n.step(f))}function VF(n,e,t,r){let o=[],s=0;n.doc.nodesBetween(e,t,(l,u)=>{if(!l.isInline)return;s++;let f=null;if(r instanceof Fc){let d=l.marks,p;for(;p=r.isInSet(d);)(f||(f=[])).push(p),d=p.removeFromSet(d)}else r?r.isInSet(l.marks)&&(f=[r]):f=l.marks;if(f&&f.length){let d=Math.min(u+l.nodeSize,t);for(let p=0;p<f.length;p++){let m=f[p],v;for(let D=0;D<o.length;D++){let w=o[D];w.step==s-1&&m.eq(o[D].style)&&(v=w)}v?(v.to=d,v.step=s):o.push({style:m,from:Math.max(u,e),to:d,step:s})}}}),o.forEach(l=>n.step(new oi(l.from,l.to,l.style)))}function qF(n,e,t,r=t.contentMatch){let o=n.doc.nodeAt(e),s=[],l=e+1;for(let u=0;u<o.childCount;u++){let f=o.child(u),d=l+f.nodeSize,p=r.matchType(f.type);if(!p)s.push(new wn(l,d,Le.empty));else{r=p;for(let m=0;m<f.marks.length;m++)t.allowsMarkType(f.marks[m].type)||n.step(new oi(l,d,f.marks[m]));if(f.isText&&!t.spec.code){let m,v=/\r?\n|\r/g,D;for(;m=v.exec(f.text);)D||(D=new Le(ke.from(t.schema.text(" ",t.allowedMarks(f.marks))),0,0)),s.push(new wn(l+m.index,l+m.index+m[0].length,D))}}l=d}if(!r.validEnd){let u=r.fillBefore(ke.empty,!0);n.replace(l,l,new Le(u,0,0))}for(let u=s.length-1;u>=0;u--)n.step(s[u])}function KF(n,e,t){return(e==0||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function Xl(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let r=n.depth;;--r){let o=n.$from.node(r),s=n.$from.index(r),l=n.$to.indexAfter(r);if(r<n.depth&&o.canReplace(s,l,t))return r;if(r==0||o.type.spec.isolating||!KF(o,s,l))break}return null}function GF(n,e,t){let{$from:r,$to:o,depth:s}=e,l=r.before(s+1),u=o.after(s+1),f=l,d=u,p=ke.empty,m=0;for(let w=s,k=!1;w>t;w--)k||r.index(w)>0?(k=!0,p=ke.from(r.node(w).copy(p)),m++):f--;let v=ke.empty,D=0;for(let w=s,k=!1;w>t;w--)k||o.after(w+1)<o.end(w)?(k=!0,v=ke.from(o.node(w).copy(v)),D++):d++;n.step(new xn(f,d,l,u,new Le(p.append(v),m,D),p.size-m,!0))}function uD(n,e,t=null,r=n){let o=JF(n,e),s=o&&YF(r,e);return s?o.map(qy).concat({type:e,attrs:t}).concat(s.map(qy)):null}function qy(n){return{type:n,attrs:null}}function JF(n,e){let{parent:t,startIndex:r,endIndex:o}=n,s=t.contentMatchAt(r).findWrapping(e);if(!s)return null;let l=s.length?s[0]:e;return t.canReplaceWith(r,o,l)?s:null}function YF(n,e){let{parent:t,startIndex:r,endIndex:o}=n,s=t.child(r),l=e.contentMatch.findWrapping(s.type);if(!l)return null;let f=(l.length?l[l.length-1]:e).contentMatch;for(let d=r;f&&d<o;d++)f=f.matchType(t.child(d).type);return!f||!f.validEnd?null:l}function XF(n,e,t){let r=ke.empty;for(let l=t.length-1;l>=0;l--){if(r.size){let u=t[l].type.contentMatch.matchFragment(r);if(!u||!u.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=ke.from(t[l].type.create(t[l].attrs,r))}let o=e.start,s=e.end;n.step(new xn(o,s,o,s,new Le(r,0,0),t.length,!0))}function QF(n,e,t,r,o){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=n.steps.length;n.doc.nodesBetween(e,t,(l,u)=>{if(l.isTextblock&&!l.hasMarkup(r,o)&&ZF(n.doc,n.mapping.slice(s).map(u),r)){n.clearIncompatible(n.mapping.slice(s).map(u,1),r);let f=n.mapping.slice(s),d=f.map(u,1),p=f.map(u+l.nodeSize,1);return n.step(new xn(d,p,d+1,p-1,new Le(ke.from(r.create(o,null,l.marks)),0,0),1,!0)),!1}})}function ZF(n,e,t){let r=n.resolve(e),o=r.index();return r.parent.canReplaceWith(o,o+1,t)}function e2(n,e,t,r,o){let s=n.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");t||(t=s.type);let l=t.create(r,null,o||s.marks);if(s.isLeaf)return n.replaceWith(e,e+s.nodeSize,l);if(!t.validContent(s.content))throw new RangeError("Invalid content for node type "+t.name);n.step(new xn(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new Le(ke.from(l),0,0),1,!0))}function fD(n,e,t=1,r){let o=n.resolve(e),s=o.depth-t,l=r&&r[r.length-1]||o.parent;if(s<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!l.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let d=o.depth-1,p=t-2;d>s;d--,p--){let m=o.node(d),v=o.index(d);if(m.type.spec.isolating)return!1;let D=m.content.cutByIndex(v,m.childCount),w=r&&r[p+1];w&&(D=D.replaceChild(0,w.type.create(w.attrs)));let k=r&&r[p]||m;if(!m.canReplace(v+1,m.childCount)||!k.type.validContent(D))return!1}let u=o.indexAfter(s),f=r&&r[0];return o.node(s).canReplaceWith(u,u,f?f.type:o.node(s+1).type)}function t2(n,e,t=1,r){let o=n.doc.resolve(e),s=ke.empty,l=ke.empty;for(let u=o.depth,f=o.depth-t,d=t-1;u>f;u--,d--){s=ke.from(o.node(u).copy(s));let p=r&&r[d];l=ke.from(p?p.type.create(p.attrs,l):o.node(u).copy(l))}n.step(new wn(e,e,new Le(s.append(l),t,t),!0))}function Ql(n,e){let t=n.resolve(e),r=t.index();return cD(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(r,r+1)}function cD(n,e){return!!(n&&e&&!n.isLeaf&&n.canAppend(e))}function hD(n,e,t=-1){let r=n.resolve(e);for(let o=r.depth;;o--){let s,l,u=r.index(o);if(o==r.depth?(s=r.nodeBefore,l=r.nodeAfter):t>0?(s=r.node(o+1),u++,l=r.node(o).maybeChild(u)):(s=r.node(o).maybeChild(u-1),l=r.node(o+1)),s&&!s.isTextblock&&cD(s,l)&&r.node(o).canReplace(u,u+1))return e;if(o==0)break;e=t<0?r.before(o):r.after(o)}}function n2(n,e,t){let r=new wn(e-t,e+t,Le.empty,!0);n.step(r)}function r2(n,e,t){let r=n.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),t))return e;if(r.parentOffset==0)for(let o=r.depth-1;o>=0;o--){let s=r.index(o);if(r.node(o).canReplaceWith(s,s,t))return r.before(o+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let o=r.depth-1;o>=0;o--){let s=r.indexAfter(o);if(r.node(o).canReplaceWith(s,s,t))return r.after(o+1);if(s<r.node(o).childCount)return null}return null}function dD(n,e,t){let r=n.resolve(e);if(!t.content.size)return e;let o=t.content;for(let s=0;s<t.openStart;s++)o=o.firstChild.content;for(let s=1;s<=(t.openStart==0&&t.size?2:1);s++)for(let l=r.depth;l>=0;l--){let u=l==r.depth?0:r.pos<=(r.start(l+1)+r.end(l+1))/2?-1:1,f=r.index(l)+(u>0?1:0),d=r.node(l),p=!1;if(s==1)p=d.canReplace(f,f,o);else{let m=d.contentMatchAt(f).findWrapping(o.firstChild.type);p=m&&d.canReplaceWith(f,f,m[0])}if(p)return u==0?r.pos:u<0?r.before(l+1):r.after(l+1)}return null}function Nc(n,e,t=e,r=Le.empty){if(e==t&&!r.size)return null;let o=n.resolve(e),s=n.resolve(t);return pD(o,s,r)?new wn(e,t,r):new i2(o,s,r).fit()}function pD(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}class i2{constructor(e,t,r){this.$from=e,this.$to=t,this.unplaced=r,this.frontier=[],this.placed=ke.empty;for(let o=0;o<=e.depth;o++){let s=e.node(o);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(o))})}for(let o=e.depth;o>0;o--)this.placed=ke.from(e.node(o).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let d=this.findFittable();d?this.placeNodes(d):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,r=this.$from,o=this.close(e<0?this.$to:r.doc.resolve(e));if(!o)return null;let s=this.placed,l=r.depth,u=o.depth;for(;l&&u&&s.childCount==1;)s=s.firstChild.content,l--,u--;let f=new Le(s,l,u);return e>-1?new xn(r.pos,e,this.$to.pos,this.$to.end(),f,t):f.size||r.pos!=this.$to.pos?new wn(r.pos,o.pos,f):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,r=0,o=this.unplaced.openEnd;r<e;r++){let s=t.firstChild;if(t.childCount>1&&(o=0),s.type.spec.isolating&&o<=r){e=r;break}t=s.content}for(let t=1;t<=2;t++)for(let r=t==1?e:this.unplaced.openStart;r>=0;r--){let o,s=null;r?(s=Id(this.unplaced.content,r-1).firstChild,o=s.content):o=this.unplaced.content;let l=o.firstChild;for(let u=this.depth;u>=0;u--){let{type:f,match:d}=this.frontier[u],p,m=null;if(t==1&&(l?d.matchType(l.type)||(m=d.fillBefore(ke.from(l),!1)):s&&f.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:u,parent:s,inject:m};if(t==2&&l&&(p=d.findWrapping(l.type)))return{sliceDepth:r,frontierDepth:u,parent:s,wrap:p};if(s&&d.matchType(s.type))break}}}openMore(){let{content:e,openStart:t,openEnd:r}=this.unplaced,o=Id(e,t);return!o.childCount||o.firstChild.isLeaf?!1:(this.unplaced=new Le(e,t+1,Math.max(r,o.size+t>=e.size-r?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:r}=this.unplaced,o=Id(e,t);if(o.childCount<=1&&t>0){let s=e.size-t<=t+o.size;this.unplaced=new Le(ol(e,t-1,1),t-1,s?t-1:r)}else this.unplaced=new Le(ol(e,t,1),t,r)}placeNodes({sliceDepth:e,frontierDepth:t,parent:r,inject:o,wrap:s}){for(;this.depth>t;)this.closeFrontierNode();if(s)for(let k=0;k<s.length;k++)this.openFrontierNode(s[k]);let l=this.unplaced,u=r?r.content:l.content,f=l.openStart-e,d=0,p=[],{match:m,type:v}=this.frontier[t];if(o){for(let k=0;k<o.childCount;k++)p.push(o.child(k));m=m.matchFragment(o)}let D=u.size+e-(l.content.size-l.openEnd);for(;d<u.childCount;){let k=u.child(d),M=m.matchType(k.type);if(!M)break;d++,(d>1||f==0||k.content.size)&&(m=M,p.push(gD(k.mark(v.allowedMarks(k.marks)),d==1?f:0,d==u.childCount?D:-1)))}let w=d==u.childCount;w||(D=-1),this.placed=sl(this.placed,t,ke.from(p)),this.frontier[t].match=m,w&&D<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let k=0,M=u;k<D;k++){let R=M.lastChild;this.frontier.push({type:R.type,match:R.contentMatchAt(R.childCount)}),M=R.content}this.unplaced=w?e==0?Le.empty:new Le(ol(l.content,e-1,1),e-1,D<0?l.openEnd:e-1):new Le(ol(l.content,e,d),l.openStart,l.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!Pd(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:r}=this.$to,o=this.$to.after(r);for(;r>1&&o==this.$to.end(--r);)++o;return o}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:r,type:o}=this.frontier[t],s=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),l=Pd(e,t,o,r,s);if(l){for(let u=t-1;u>=0;u--){let{match:f,type:d}=this.frontier[u],p=Pd(e,u,d,f,!0);if(!p||p.childCount)continue e}return{depth:t,fit:l,move:s?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=sl(this.placed,t.depth,t.fit)),e=t.move;for(let r=t.depth+1;r<=e.depth;r++){let o=e.node(r),s=o.type.contentMatch.fillBefore(o.content,!0,e.index(r));this.openFrontierNode(o.type,o.attrs,s)}return e}openFrontierNode(e,t=null,r){let o=this.frontier[this.depth];o.match=o.match.matchType(e),this.placed=sl(this.placed,this.depth,ke.from(e.create(t,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(ke.empty,!0);t.childCount&&(this.placed=sl(this.placed,this.frontier.length,t))}}function ol(n,e,t){return e==0?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(ol(n.firstChild.content,e-1,t)))}function sl(n,e,t){return e==0?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(sl(n.lastChild.content,e-1,t)))}function Id(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function gD(n,e,t){if(e<=0)return n;let r=n.content;return e>1&&(r=r.replaceChild(0,gD(r.firstChild,e-1,r.childCount==1?t-1:0))),e>0&&(r=n.type.contentMatch.fillBefore(r).append(r),t<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore(ke.empty,!0)))),n.copy(r)}function Pd(n,e,t,r,o){let s=n.node(e),l=o?n.indexAfter(e):n.index(e);if(l==s.childCount&&!t.compatibleContent(s.type))return null;let u=r.fillBefore(s.content,!0,l);return u&&!o2(t,s.content,l)?u:null}function o2(n,e,t){for(let r=t;r<e.childCount;r++)if(!n.allowsMarks(e.child(r).marks))return!0;return!1}function s2(n){return n.spec.defining||n.spec.definingForContent}function a2(n,e,t,r){if(!r.size)return n.deleteRange(e,t);let o=n.doc.resolve(e),s=n.doc.resolve(t);if(pD(o,s,r))return n.step(new wn(e,t,r));let l=vD(o,n.doc.resolve(t));l[l.length-1]==0&&l.pop();let u=-(o.depth+1);l.unshift(u);for(let v=o.depth,D=o.pos-1;v>0;v--,D--){let w=o.node(v).type.spec;if(w.defining||w.definingAsContext||w.isolating)break;l.indexOf(v)>-1?u=v:o.before(v)==D&&l.splice(1,0,-v)}let f=l.indexOf(u),d=[],p=r.openStart;for(let v=r.content,D=0;;D++){let w=v.firstChild;if(d.push(w),D==r.openStart)break;v=w.content}for(let v=p-1;v>=0;v--){let D=d[v],w=s2(D.type);if(w&&!D.sameMarkup(o.node(Math.abs(u)-1)))p=v;else if(w||!D.type.isTextblock)break}for(let v=r.openStart;v>=0;v--){let D=(v+p+1)%(r.openStart+1),w=d[D];if(w)for(let k=0;k<l.length;k++){let M=l[(k+f)%l.length],R=!0;M<0&&(R=!1,M=-M);let I=o.node(M-1),z=o.index(M-1);if(I.canReplaceWith(z,z,w.type,w.marks))return n.replace(o.before(M),R?s.after(M):t,new Le(mD(r.content,0,r.openStart,D),D,r.openEnd))}}let m=n.steps.length;for(let v=l.length-1;v>=0&&(n.replace(e,t,r),!(n.steps.length>m));v--){let D=l[v];D<0||(e=o.before(D),t=s.after(D))}}function mD(n,e,t,r,o){if(e<t){let s=n.firstChild;n=n.replaceChild(0,s.copy(mD(s.content,e+1,t,r,s)))}if(e>r){let s=o.contentMatchAt(0),l=s.fillBefore(n).append(n);n=l.append(s.matchFragment(l).fillBefore(ke.empty,!0))}return n}function l2(n,e,t,r){if(!r.isInline&&e==t&&n.doc.resolve(e).parent.content.size){let o=r2(n.doc,e,r.type);o!=null&&(e=t=o)}n.replaceRange(e,t,new Le(ke.from(r),0,0))}function u2(n,e,t){let r=n.doc.resolve(e),o=n.doc.resolve(t),s=vD(r,o);for(let l=0;l<s.length;l++){let u=s[l],f=l==s.length-1;if(f&&u==0||r.node(u).type.contentMatch.validEnd)return n.delete(r.start(u),o.end(u));if(u>0&&(f||r.node(u-1).canReplace(r.index(u-1),o.indexAfter(u-1))))return n.delete(r.before(u),o.after(u))}for(let l=1;l<=r.depth&&l<=o.depth;l++)if(e-r.start(l)==r.depth-l&&t>r.end(l)&&o.end(l)-t!=o.depth-l)return n.delete(r.before(l),t);n.delete(e,t)}function vD(n,e){let t=[],r=Math.min(n.depth,e.depth);for(let o=r;o>=0;o--){let s=n.start(o);if(s<n.pos-(n.depth-o)||e.end(o)>e.pos+(e.depth-o)||n.node(o).type.spec.isolating||e.node(o).type.spec.isolating)break;(s==e.start(o)||o==n.depth&&o==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&o&&e.start(o-1)==s-1)&&t.push(o)}return t}class na extends Rn{constructor(e,t,r){super(),this.pos=e,this.attr=t,this.value=r}apply(e){let t=e.nodeAt(this.pos);if(!t)return Yt.fail("No node at attribute step's position");let r=Object.create(null);for(let s in t.attrs)r[s]=t.attrs[s];r[this.attr]=this.value;let o=t.type.create(r,null,t.marks);return Yt.fromReplace(e,this.pos,this.pos+1,new Le(ke.from(o),0,t.isLeaf?0:1))}getMap(){return cr.empty}invert(e){return new na(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new na(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new na(t.pos,t.attr,t.value)}}Rn.jsonID("attr",na);class Il extends Rn{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let o in e.attrs)t[o]=e.attrs[o];t[this.attr]=this.value;let r=e.type.create(t,e.content,e.marks);return Yt.ok(r)}getMap(){return cr.empty}invert(e){return new Il(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Il(t.attr,t.value)}}Rn.jsonID("docAttr",Il);let ca=class extends Error{};ca=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};ca.prototype=Object.create(Error.prototype);ca.prototype.constructor=ca;ca.prototype.name="TransformError";class f2{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new ta}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new ca(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,r=Le.empty){let o=Nc(this.doc,e,t,r);return o&&this.step(o),this}replaceWith(e,t,r){return this.replace(e,t,new Le(ke.from(r),0,0))}delete(e,t){return this.replace(e,t,Le.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,r){return a2(this,e,t,r),this}replaceRangeWith(e,t,r){return l2(this,e,t,r),this}deleteRange(e,t){return u2(this,e,t),this}lift(e,t){return GF(this,e,t),this}join(e,t=1){return n2(this,e,t),this}wrap(e,t){return XF(this,e,t),this}setBlockType(e,t=e,r,o=null){return QF(this,e,t,r,o),this}setNodeMarkup(e,t,r=null,o){return e2(this,e,t,r,o),this}setNodeAttribute(e,t,r){return this.step(new na(e,t,r)),this}setDocAttribute(e,t){return this.step(new Il(e,t)),this}addNodeMark(e,t){return this.step(new mo(e,t)),this}removeNodeMark(e,t){if(!(t instanceof vt)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(t=t.isInSet(r.marks),!t)return this}return this.step(new fa(e,t)),this}split(e,t=1,r){return t2(this,e,t,r),this}addMark(e,t,r){return UF(this,e,t,r),this}removeMark(e,t,r){return VF(this,e,t,r),this}clearIncompatible(e,t,r){return qF(this,e,t,r),this}}const zd=Object.create(null);class ft{constructor(e,t,r){this.$anchor=e,this.$head=t,this.ranges=r||[new c2(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=Le.empty){let r=t.content.lastChild,o=null;for(let u=0;u<t.openEnd;u++)o=r,r=r.lastChild;let s=e.steps.length,l=this.ranges;for(let u=0;u<l.length;u++){let{$from:f,$to:d}=l[u],p=e.mapping.slice(s);e.replaceRange(p.map(f.pos),p.map(d.pos),u?Le.empty:t),u==0&&Jy(e,s,(r?r.isInline:o&&o.isTextblock)?-1:1)}}replaceWith(e,t){let r=e.steps.length,o=this.ranges;for(let s=0;s<o.length;s++){let{$from:l,$to:u}=o[s],f=e.mapping.slice(r),d=f.map(l.pos),p=f.map(u.pos);s?e.deleteRange(d,p):(e.replaceRangeWith(d,p,t),Jy(e,r,t.isInline?-1:1))}}static findFrom(e,t,r=!1){let o=e.parent.inlineContent?new Dt(e):Gs(e.node(0),e.parent,e.pos,e.index(),t,r);if(o)return o;for(let s=e.depth-1;s>=0;s--){let l=t<0?Gs(e.node(0),e.node(s),e.before(s+1),e.index(s),t,r):Gs(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,t,r);if(l)return l}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new Pr(e.node(0))}static atStart(e){return Gs(e,e,0,0,1)||new Pr(e)}static atEnd(e){return Gs(e,e,e.content.size,e.childCount,-1)||new Pr(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=zd[t.type];if(!r)throw new RangeError(`No selection type ${t.type} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in zd)throw new RangeError("Duplicate use of selection JSON ID "+e);return zd[e]=t,t.prototype.jsonID=e,t}getBookmark(){return Dt.between(this.$anchor,this.$head).getBookmark()}}ft.prototype.visible=!0;class c2{constructor(e,t){this.$from=e,this.$to=t}}let Ky=!1;function Gy(n){!Ky&&!n.parent.inlineContent&&(Ky=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class Dt extends ft{constructor(e,t=e){Gy(e),Gy(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let r=e.resolve(t.map(this.head));if(!r.parent.inlineContent)return ft.near(r);let o=e.resolve(t.map(this.anchor));return new Dt(o.parent.inlineContent?o:r,r)}replace(e,t=Le.empty){if(super.replace(e,t),t==Le.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Dt&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Rc(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Dt(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,r=t){let o=e.resolve(t);return new this(o,r==t?o:e.resolve(r))}static between(e,t,r){let o=e.pos-t.pos;if((!r||o)&&(r=o>=0?1:-1),!t.parent.inlineContent){let s=ft.findFrom(t,r,!0)||ft.findFrom(t,-r,!0);if(s)t=s.$head;else return ft.near(t,r)}return e.parent.inlineContent||(o==0?e=t:(e=(ft.findFrom(e,-r,!0)||ft.findFrom(e,r,!0)).$anchor,e.pos<t.pos!=o<0&&(e=t))),new Dt(e,t)}}ft.jsonID("text",Dt);class Rc{constructor(e,t){this.anchor=e,this.head=t}map(e){return new Rc(e.map(this.anchor),e.map(this.head))}resolve(e){return Dt.between(e.resolve(this.anchor),e.resolve(this.head))}}class Xe extends ft{constructor(e){let t=e.nodeAfter,r=e.node(0).resolve(e.pos+t.nodeSize);super(e,r),this.node=t}map(e,t){let{deleted:r,pos:o}=t.mapResult(this.anchor),s=e.resolve(o);return r?ft.near(s):new Xe(s)}content(){return new Le(ke.from(this.node),0,0)}eq(e){return e instanceof Xe&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Fg(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Xe(e.resolve(t.anchor))}static create(e,t){return new Xe(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Xe.prototype.visible=!1;ft.jsonID("node",Xe);class Fg{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:r}=e.mapResult(this.anchor);return t?new Rc(r,r):new Fg(r)}resolve(e){let t=e.resolve(this.anchor),r=t.nodeAfter;return r&&Xe.isSelectable(r)?new Xe(t):ft.near(t)}}class Pr extends ft{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=Le.empty){if(t==Le.empty){e.delete(0,e.doc.content.size);let r=ft.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new Pr(e)}map(e){return new Pr(e)}eq(e){return e instanceof Pr}getBookmark(){return h2}}ft.jsonID("all",Pr);const h2={map(){return this},resolve(n){return new Pr(n)}};function Gs(n,e,t,r,o,s=!1){if(e.inlineContent)return Dt.create(n,t);for(let l=r-(o>0?0:1);o>0?l<e.childCount:l>=0;l+=o){let u=e.child(l);if(u.isAtom){if(!s&&Xe.isSelectable(u))return Xe.create(n,t-(o<0?u.nodeSize:0))}else{let f=Gs(n,u,t+o,o<0?u.childCount:0,o,s);if(f)return f}t+=u.nodeSize*o}return null}function Jy(n,e,t){let r=n.steps.length-1;if(r<e)return;let o=n.steps[r];if(!(o instanceof wn||o instanceof xn))return;let s=n.mapping.maps[r],l;s.forEach((u,f,d,p)=>{l==null&&(l=p)}),n.setSelection(ft.near(n.doc.resolve(l),t))}const Yy=1,Vu=2,Xy=4;class d2 extends f2{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Yy)&~Vu,this.storedMarks=null,this}get selectionSet(){return(this.updated&Yy)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Vu,this}ensureMarks(e){return vt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Vu)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&~Vu,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let r=this.selection;return t&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||vt.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,r){let o=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(o.text(e),!0):this.deleteSelection();{if(r==null&&(r=t),r=r??t,!e)return this.deleteRange(t,r);let s=this.storedMarks;if(!s){let l=this.doc.resolve(t);s=r==t?l.marks():l.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(t,r,o.text(e,s)),this.selection.empty||this.setSelection(ft.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Xy,this}get scrolledIntoView(){return(this.updated&Xy)>0}}function Qy(n,e){return!e||!n?n:n.bind(e)}class al{constructor(e,t,r){this.name=e,this.init=Qy(t.init,r),this.apply=Qy(t.apply,r)}}const p2=[new al("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new al("selection",{init(n,e){return n.selection||ft.atStart(e.doc)},apply(n){return n.selection}}),new al("storedMarks",{init(n){return n.storedMarks||null},apply(n,e,t,r){return r.selection.$cursor?n.storedMarks:null}}),new al("scrollToSelection",{init(){return 0},apply(n,e){return n.scrolledIntoView?e+1:e}})];class _d{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=p2.slice(),t&&t.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new al(r.key,r.spec.state,r))})}}class ll{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=t){let o=this.config.plugins[r];if(o.spec.filterTransaction&&!o.spec.filterTransaction.call(o,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],r=this.applyInner(e),o=null;for(;;){let s=!1;for(let l=0;l<this.config.plugins.length;l++){let u=this.config.plugins[l];if(u.spec.appendTransaction){let f=o?o[l].n:0,d=o?o[l].state:this,p=f<t.length&&u.spec.appendTransaction.call(u,f?t.slice(f):t,d,r);if(p&&r.filterTransaction(p,l)){if(p.setMeta("appendedTransaction",e),!o){o=[];for(let m=0;m<this.config.plugins.length;m++)o.push(m<l?{state:r,n:t.length}:{state:this,n:0})}t.push(p),r=r.applyInner(p),s=!0}o&&(o[l]={state:r,n:t.length})}}if(!s)return{state:r,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new ll(this.config),r=this.config.fields;for(let o=0;o<r.length;o++){let s=r[o];t[s.name]=s.apply(e,this[s.name],this,t)}return t}get tr(){return new d2(this)}static create(e){let t=new _d(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new ll(t);for(let o=0;o<t.fields.length;o++)r[t.fields[o].name]=t.fields[o].init(e,r);return r}reconfigure(e){let t=new _d(this.schema,e.plugins),r=t.fields,o=new ll(t);for(let s=0;s<r.length;s++){let l=r[s].name;o[l]=this.hasOwnProperty(l)?this[l]:r[s].init(e,o)}return o}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let o=e[r],s=o.spec.state;s&&s.toJSON&&(t[r]=s.toJSON.call(o,this[o.key]))}return t}static fromJSON(e,t,r){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let o=new _d(e.schema,e.plugins),s=new ll(o);return o.fields.forEach(l=>{if(l.name=="doc")s.doc=ai.fromJSON(e.schema,t.doc);else if(l.name=="selection")s.selection=ft.fromJSON(s.doc,t.selection);else if(l.name=="storedMarks")t.storedMarks&&(s.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let u in r){let f=r[u],d=f.spec.state;if(f.key==l.name&&d&&d.fromJSON&&Object.prototype.hasOwnProperty.call(t,u)){s[l.name]=d.fromJSON.call(f,e,t[u],s);return}}s[l.name]=l.init(e,s)}}),s}}function yD(n,e,t){for(let r in n){let o=n[r];o instanceof Function?o=o.bind(e):r=="handleDOMEvents"&&(o=yD(o,e,{})),t[r]=o}return t}class Lc{constructor(e){this.spec=e,this.props={},e.props&&yD(e.props,this,this.props),this.key=e.key?e.key.key:bD("plugin")}getState(e){return e[this.key]}}const $d=Object.create(null);function bD(n){return n in $d?n+"$"+ ++$d[n]:($d[n]=0,n+"$")}class wD{constructor(e="key"){this.key=bD(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const jn=function(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e},Pl=function(n){let e=n.assignedSlot||n.parentNode;return e&&e.nodeType==11?e.host:e};let Zy=null;const ki=function(n,e,t){let r=Zy||(Zy=document.createRange());return r.setEnd(n,t??n.nodeValue.length),r.setStart(n,e||0),r},is=function(n,e,t,r){return t&&(eb(n,e,t,r,-1)||eb(n,e,t,r,1))},g2=/^(img|br|input|textarea|hr)$/i;function eb(n,e,t,r,o){for(;;){if(n==t&&e==r)return!0;if(e==(o<0?0:ri(n))){let s=n.parentNode;if(!s||s.nodeType!=1||Ng(n)||g2.test(n.nodeName)||n.contentEditable=="false")return!1;e=jn(n)+(o<0?0:1),n=s}else if(n.nodeType==1){if(n=n.childNodes[e+(o<0?-1:0)],n.contentEditable=="false")return!1;e=o<0?ri(n):0}else return!1}}function ri(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function m2(n,e,t){for(let r=e==0,o=e==ri(n);r||o;){if(n==t)return!0;let s=jn(n);if(n=n.parentNode,!n)return!1;r=r&&s==0,o=o&&s==ri(n)}}function Ng(n){let e;for(let t=n;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==n||e.contentDOM==n)}const Bc=function(n){return n.focusNode&&is(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function Uo(n,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=n,t.key=t.code=e,t}function v2(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function y2(n,e,t){if(n.caretPositionFromPoint)try{let r=n.caretPositionFromPoint(e,t);if(r)return{node:r.offsetNode,offset:r.offset}}catch{}if(n.caretRangeFromPoint){let r=n.caretRangeFromPoint(e,t);if(r)return{node:r.startContainer,offset:r.startOffset}}}const fi=typeof navigator<"u"?navigator:null,tb=typeof document<"u"?document:null,Eo=fi&&fi.userAgent||"",Hp=/Edge\/(\d+)/.exec(Eo),DD=/MSIE \d/.exec(Eo),Wp=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Eo),nr=!!(DD||Wp||Hp),yo=DD?document.documentMode:Wp?+Wp[1]:Hp?+Hp[1]:0,_r=!nr&&/gecko\/(\d+)/i.test(Eo);_r&&+(/Firefox\/(\d+)/.exec(Eo)||[0,0])[1];const jp=!nr&&/Chrome\/(\d+)/.exec(Eo),Fn=!!jp,b2=jp?+jp[1]:0,qn=!nr&&!!fi&&/Apple Computer/.test(fi.vendor),ha=qn&&(/Mobile\/\w+/.test(Eo)||!!fi&&fi.maxTouchPoints>2),br=ha||(fi?/Mac/.test(fi.platform):!1),w2=fi?/Win/.test(fi.platform):!1,Lr=/Android \d/.test(Eo),Zl=!!tb&&"webkitFontSmoothing"in tb.documentElement.style,D2=Zl?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function S2(n){return{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function Si(n,e){return typeof n=="number"?n:n[e]}function C2(n){let e=n.getBoundingClientRect(),t=e.width/n.offsetWidth||1,r=e.height/n.offsetHeight||1;return{left:e.left,right:e.left+n.clientWidth*t,top:e.top,bottom:e.top+n.clientHeight*r}}function nb(n,e,t){let r=n.someProp("scrollThreshold")||0,o=n.someProp("scrollMargin")||5,s=n.dom.ownerDocument;for(let l=t||n.dom;l;l=Pl(l)){if(l.nodeType!=1)continue;let u=l,f=u==s.body,d=f?S2(s):C2(u),p=0,m=0;if(e.top<d.top+Si(r,"top")?m=-(d.top-e.top+Si(o,"top")):e.bottom>d.bottom-Si(r,"bottom")&&(m=e.bottom-e.top>d.bottom-d.top?e.top+Si(o,"top")-d.top:e.bottom-d.bottom+Si(o,"bottom")),e.left<d.left+Si(r,"left")?p=-(d.left-e.left+Si(o,"left")):e.right>d.right-Si(r,"right")&&(p=e.right-d.right+Si(o,"right")),p||m)if(f)s.defaultView.scrollBy(p,m);else{let v=u.scrollLeft,D=u.scrollTop;m&&(u.scrollTop+=m),p&&(u.scrollLeft+=p);let w=u.scrollLeft-v,k=u.scrollTop-D;e={left:e.left-w,top:e.top-k,right:e.right-w,bottom:e.bottom-k}}if(f||/^(fixed|sticky)$/.test(getComputedStyle(l).position))break}}function x2(n){let e=n.dom.getBoundingClientRect(),t=Math.max(0,e.top),r,o;for(let s=(e.left+e.right)/2,l=t+1;l<Math.min(innerHeight,e.bottom);l+=5){let u=n.root.elementFromPoint(s,l);if(!u||u==n.dom||!n.dom.contains(u))continue;let f=u.getBoundingClientRect();if(f.top>=t-20){r=u,o=f.top;break}}return{refDOM:r,refTop:o,stack:SD(n.dom)}}function SD(n){let e=[],t=n.ownerDocument;for(let r=n;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),n!=t);r=Pl(r));return e}function E2({refDOM:n,refTop:e,stack:t}){let r=n?n.getBoundingClientRect().top:0;CD(t,r==0?0:r-e)}function CD(n,e){for(let t=0;t<n.length;t++){let{dom:r,top:o,left:s}=n[t];r.scrollTop!=o+e&&(r.scrollTop=o+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let Hs=null;function k2(n){if(n.setActive)return n.setActive();if(Hs)return n.focus(Hs);let e=SD(n);n.focus(Hs==null?{get preventScroll(){return Hs={preventScroll:!0},!0}}:void 0),Hs||(Hs=!1,CD(e,0))}function xD(n,e){let t,r=2e8,o,s=0,l=e.top,u=e.top,f,d;for(let p=n.firstChild,m=0;p;p=p.nextSibling,m++){let v;if(p.nodeType==1)v=p.getClientRects();else if(p.nodeType==3)v=ki(p).getClientRects();else continue;for(let D=0;D<v.length;D++){let w=v[D];if(w.top<=l&&w.bottom>=u){l=Math.max(w.bottom,l),u=Math.min(w.top,u);let k=w.left>e.left?w.left-e.left:w.right<e.left?e.left-w.right:0;if(k<r){t=p,r=k,o=k&&t.nodeType==3?{left:w.right<e.left?w.right:w.left,top:e.top}:e,p.nodeType==1&&k&&(s=m+(e.left>=(w.left+w.right)/2?1:0));continue}}else w.top>e.top&&!f&&w.left<=e.left&&w.right>=e.left&&(f=p,d={left:Math.max(w.left,Math.min(w.right,e.left)),top:w.top});!t&&(e.left>=w.right&&e.top>=w.top||e.left>=w.left&&e.top>=w.bottom)&&(s=m+1)}}return!t&&f&&(t=f,o=d,r=0),t&&t.nodeType==3?A2(t,o):!t||r&&t.nodeType==1?{node:n,offset:s}:xD(t,o)}function A2(n,e){let t=n.nodeValue.length,r=document.createRange();for(let o=0;o<t;o++){r.setEnd(n,o+1),r.setStart(n,o);let s=eo(r,1);if(s.top!=s.bottom&&Rg(e,s))return{node:n,offset:o+(e.left>=(s.left+s.right)/2?1:0)}}return{node:n,offset:0}}function Rg(n,e){return n.left>=e.left-1&&n.left<=e.right+1&&n.top>=e.top-1&&n.top<=e.bottom+1}function T2(n,e){let t=n.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<n.getBoundingClientRect().left?t:n}function O2(n,e,t){let{node:r,offset:o}=xD(e,t),s=-1;if(r.nodeType==1&&!r.firstChild){let l=r.getBoundingClientRect();s=l.left!=l.right&&t.left>(l.left+l.right)/2?1:-1}return n.docView.posFromDOM(r,o,s)}function M2(n,e,t,r){let o=-1;for(let s=e,l=!1;s!=n.dom;){let u=n.docView.nearestDesc(s,!0);if(!u)return null;if(u.dom.nodeType==1&&(u.node.isBlock&&u.parent&&!l||!u.contentDOM)){let f=u.dom.getBoundingClientRect();if(u.node.isBlock&&u.parent&&!l&&(l=!0,f.left>r.left||f.top>r.top?o=u.posBefore:(f.right<r.left||f.bottom<r.top)&&(o=u.posAfter)),!u.contentDOM&&o<0&&!u.node.isText)return(u.node.isBlock?r.top<(f.top+f.bottom)/2:r.left<(f.left+f.right)/2)?u.posBefore:u.posAfter}s=u.dom.parentNode}return o>-1?o:n.docView.posFromDOM(e,t,-1)}function ED(n,e,t){let r=n.childNodes.length;if(r&&t.top<t.bottom)for(let o=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-t.top)/(t.bottom-t.top))-2)),s=o;;){let l=n.childNodes[s];if(l.nodeType==1){let u=l.getClientRects();for(let f=0;f<u.length;f++){let d=u[f];if(Rg(e,d))return ED(l,e,d)}}if((s=(s+1)%r)==o)break}return n}function F2(n,e){let t=n.dom.ownerDocument,r,o=0,s=y2(t,e.left,e.top);s&&({node:r,offset:o}=s);let l=(n.root.elementFromPoint?n.root:t).elementFromPoint(e.left,e.top),u;if(!l||!n.dom.contains(l.nodeType!=1?l.parentNode:l)){let d=n.dom.getBoundingClientRect();if(!Rg(e,d)||(l=ED(n.dom,e,d),!l))return null}if(qn)for(let d=l;r&&d;d=Pl(d))d.draggable&&(r=void 0);if(l=T2(l,e),r){if(_r&&r.nodeType==1&&(o=Math.min(o,r.childNodes.length),o<r.childNodes.length)){let p=r.childNodes[o],m;p.nodeName=="IMG"&&(m=p.getBoundingClientRect()).right<=e.left&&m.bottom>e.top&&o++}let d;Zl&&o&&r.nodeType==1&&(d=r.childNodes[o-1]).nodeType==1&&d.contentEditable=="false"&&d.getBoundingClientRect().top>=e.top&&o--,r==n.dom&&o==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?u=n.state.doc.content.size:(o==0||r.nodeType!=1||r.childNodes[o-1].nodeName!="BR")&&(u=M2(n,r,o,e))}u==null&&(u=O2(n,l,e));let f=n.docView.nearestDesc(l,!0);return{pos:u,inside:f?f.posAtStart-f.border:-1}}function rb(n){return n.top<n.bottom||n.left<n.right}function eo(n,e){let t=n.getClientRects();if(t.length){let r=t[e<0?0:t.length-1];if(rb(r))return r}return Array.prototype.find.call(t,rb)||n.getBoundingClientRect()}const N2=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function kD(n,e,t){let{node:r,offset:o,atom:s}=n.docView.domFromPos(e,t<0?-1:1),l=Zl||_r;if(r.nodeType==3)if(l&&(N2.test(r.nodeValue)||(t<0?!o:o==r.nodeValue.length))){let f=eo(ki(r,o,o),t);if(_r&&o&&/\s/.test(r.nodeValue[o-1])&&o<r.nodeValue.length){let d=eo(ki(r,o-1,o-1),-1);if(d.top==f.top){let p=eo(ki(r,o,o+1),-1);if(p.top!=f.top)return el(p,p.left<d.left)}}return f}else{let f=o,d=o,p=t<0?1:-1;return t<0&&!o?(d++,p=-1):t>=0&&o==r.nodeValue.length?(f--,p=1):t<0?f--:d++,el(eo(ki(r,f,d),p),p<0)}if(!n.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&o&&(t<0||o==ri(r))){let f=r.childNodes[o-1];if(f.nodeType==1)return Hd(f.getBoundingClientRect(),!1)}if(s==null&&o<ri(r)){let f=r.childNodes[o];if(f.nodeType==1)return Hd(f.getBoundingClientRect(),!0)}return Hd(r.getBoundingClientRect(),t>=0)}if(s==null&&o&&(t<0||o==ri(r))){let f=r.childNodes[o-1],d=f.nodeType==3?ki(f,ri(f)-(l?0:1)):f.nodeType==1&&(f.nodeName!="BR"||!f.nextSibling)?f:null;if(d)return el(eo(d,1),!1)}if(s==null&&o<ri(r)){let f=r.childNodes[o];for(;f.pmViewDesc&&f.pmViewDesc.ignoreForCoords;)f=f.nextSibling;let d=f?f.nodeType==3?ki(f,0,l?0:1):f.nodeType==1?f:null:null;if(d)return el(eo(d,-1),!0)}return el(eo(r.nodeType==3?ki(r):r,-t),t>=0)}function el(n,e){if(n.width==0)return n;let t=e?n.left:n.right;return{top:n.top,bottom:n.bottom,left:t,right:t}}function Hd(n,e){if(n.height==0)return n;let t=e?n.top:n.bottom;return{top:t,bottom:t,left:n.left,right:n.right}}function AD(n,e,t){let r=n.state,o=n.root.activeElement;r!=e&&n.updateState(e),o!=n.dom&&n.focus();try{return t()}finally{r!=e&&n.updateState(r),o!=n.dom&&o&&o.focus()}}function R2(n,e,t){let r=e.selection,o=t=="up"?r.$from:r.$to;return AD(n,e,()=>{let{node:s}=n.docView.domFromPos(o.pos,t=="up"?-1:1);for(;;){let u=n.docView.nearestDesc(s,!0);if(!u)break;if(u.node.isBlock){s=u.contentDOM||u.dom;break}s=u.dom.parentNode}let l=kD(n,o.pos,1);for(let u=s.firstChild;u;u=u.nextSibling){let f;if(u.nodeType==1)f=u.getClientRects();else if(u.nodeType==3)f=ki(u,0,u.nodeValue.length).getClientRects();else continue;for(let d=0;d<f.length;d++){let p=f[d];if(p.bottom>p.top+1&&(t=="up"?l.top-p.top>(p.bottom-l.top)*2:p.bottom-l.bottom>(l.bottom-p.top)*2))return!1}}return!0})}const L2=/[\u0590-\u08ac]/;function B2(n,e,t){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let o=r.parentOffset,s=!o,l=o==r.parent.content.size,u=n.domSelection();return!L2.test(r.parent.textContent)||!u.modify?t=="left"||t=="backward"?s:l:AD(n,e,()=>{let{focusNode:f,focusOffset:d,anchorNode:p,anchorOffset:m}=n.domSelectionRange(),v=u.caretBidiLevel;u.modify("move",t,"character");let D=r.depth?n.docView.domAfterPos(r.before()):n.dom,{focusNode:w,focusOffset:k}=n.domSelectionRange(),M=w&&!D.contains(w.nodeType==1?w:w.parentNode)||f==w&&d==k;try{u.collapse(p,m),f&&(f!=p||d!=m)&&u.extend&&u.extend(f,d)}catch{}return v!=null&&(u.caretBidiLevel=v),M})}let ib=null,ob=null,sb=!1;function I2(n,e,t){return ib==e&&ob==t?sb:(ib=e,ob=t,sb=t=="up"||t=="down"?R2(n,e,t):B2(n,e,t))}const Cr=0,ab=1,Ko=2,ci=3;class eu{constructor(e,t,r,o){this.parent=e,this.children=t,this.dom=r,this.contentDOM=o,this.dirty=Cr,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,r=this.posAtStart;;t++){let o=this.children[t];if(o==e)return r;r+=o.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,l;if(e==this.contentDOM)s=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((l=s.pmViewDesc)&&l.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(l)+l.size:this.posAtStart}else{let s,l;if(e==this.contentDOM)s=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((l=s.pmViewDesc)&&l.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(l):this.posAtEnd}let o;if(e==this.dom&&this.contentDOM)o=t>jn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))o=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let s=e;;s=s.parentNode){if(s==this.dom){o=!1;break}if(s.previousSibling)break}if(o==null&&t==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){o=!0;break}if(s.nextSibling)break}}return o??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let r=!0,o=e;o;o=o.parentNode){let s=this.getDesc(o),l;if(s&&(!t||s.node))if(r&&(l=s.nodeDOM)&&!(l.nodeType==1?l.contains(e.nodeType==1?e:e.parentNode):l==e))r=!1;else return s}}getDesc(e){let t=e.pmViewDesc;for(let r=t;r;r=r.parent)if(r==this)return t}posFromDOM(e,t,r){for(let o=e;o;o=o.parentNode){let s=this.getDesc(o);if(s)return s.localPosFromDOM(e,t,r)}return-1}descAt(e){for(let t=0,r=0;t<this.children.length;t++){let o=this.children[t],s=r+o.size;if(r==e&&s!=r){for(;!o.border&&o.children.length;)o=o.children[0];return o}if(e<s)return o.descAt(e-r-o.border);r=s}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,o=0;for(let s=0;r<this.children.length;r++){let l=this.children[r],u=s+l.size;if(u>e||l instanceof OD){o=e-s;break}s=u}if(o)return this.children[r].domFromPos(o-this.children[r].border,t);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof TD&&s.side>=0;r--);if(t<=0){let s,l=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,l=!1);return s&&t&&l&&!s.border&&!s.domAtom?s.domFromPos(s.size,t):{node:this.contentDOM,offset:s?jn(s.dom)+1:0}}else{let s,l=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,l=!1);return s&&l&&!s.border&&!s.domAtom?s.domFromPos(0,t):{node:this.contentDOM,offset:s?jn(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let o=-1,s=-1;for(let l=r,u=0;;u++){let f=this.children[u],d=l+f.size;if(o==-1&&e<=d){let p=l+f.border;if(e>=p&&t<=d-f.border&&f.node&&f.contentDOM&&this.contentDOM.contains(f.contentDOM))return f.parseRange(e,t,p);e=l;for(let m=u;m>0;m--){let v=this.children[m-1];if(v.size&&v.dom.parentNode==this.contentDOM&&!v.emptyChildAt(1)){o=jn(v.dom)+1;break}e-=v.size}o==-1&&(o=0)}if(o>-1&&(d>t||u==this.children.length-1)){t=d;for(let p=u+1;p<this.children.length;p++){let m=this.children[p];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(-1)){s=jn(m.dom);break}t+=m.size}s==-1&&(s=this.contentDOM.childNodes.length);break}l=d}return{node:this.contentDOM,from:e,to:t,fromOffset:o,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:r}=this.domFromPos(e,0);if(t.nodeType!=1||r==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[r]}setSelection(e,t,r,o=!1){let s=Math.min(e,t),l=Math.max(e,t);for(let v=0,D=0;v<this.children.length;v++){let w=this.children[v],k=D+w.size;if(s>D&&l<k)return w.setSelection(e-D-w.border,t-D-w.border,r,o);D=k}let u=this.domFromPos(e,e?-1:1),f=t==e?u:this.domFromPos(t,t?-1:1),d=r.getSelection(),p=!1;if((_r||qn)&&e==t){let{node:v,offset:D}=u;if(v.nodeType==3){if(p=!!(D&&v.nodeValue[D-1]==`
`),p&&D==v.nodeValue.length)for(let w=v,k;w;w=w.parentNode){if(k=w.nextSibling){k.nodeName=="BR"&&(u=f={node:k.parentNode,offset:jn(k)+1});break}let M=w.pmViewDesc;if(M&&M.node&&M.node.isBlock)break}}else{let w=v.childNodes[D-1];p=w&&(w.nodeName=="BR"||w.contentEditable=="false")}}if(_r&&d.focusNode&&d.focusNode!=f.node&&d.focusNode.nodeType==1){let v=d.focusNode.childNodes[d.focusOffset];v&&v.contentEditable=="false"&&(o=!0)}if(!(o||p&&qn)&&is(u.node,u.offset,d.anchorNode,d.anchorOffset)&&is(f.node,f.offset,d.focusNode,d.focusOffset))return;let m=!1;if((d.extend||e==t)&&!p){d.collapse(u.node,u.offset);try{e!=t&&d.extend(f.node,f.offset),m=!0}catch{}}if(!m){if(e>t){let D=u;u=f,f=D}let v=document.createRange();v.setEnd(f.node,f.offset),v.setStart(u.node,u.offset),d.removeAllRanges(),d.addRange(v)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let r=0,o=0;o<this.children.length;o++){let s=this.children[o],l=r+s.size;if(r==l?e<=l&&t>=r:e<l&&t>r){let u=r+s.border,f=l-s.border;if(e>=u&&t<=f){this.dirty=e==r||t==l?Ko:ab,e==u&&t==f&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=ci:s.markDirty(e-u,t-u);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?Ko:ci}r=l}this.dirty=Ko}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let r=e==1?Ko:ab;t.dirty<r&&(t.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class TD extends eu{constructor(e,t,r,o){let s,l=t.type.toDOM;if(typeof l=="function"&&(l=l(r,()=>{if(!s)return o;if(s.parent)return s.parent.posBeforeChild(s)})),!t.type.spec.raw){if(l.nodeType!=1){let u=document.createElement("span");u.appendChild(l),l=u}l.contentEditable="false",l.classList.add("ProseMirror-widget")}super(e,[],l,null),this.widget=t,this.widget=t,s=this}matchesWidget(e){return this.dirty==Cr&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class P2 extends eu{constructor(e,t,r,o){super(e,[],t,null),this.textDOM=r,this.text=o}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class ss extends eu{constructor(e,t,r,o){super(e,[],r,o),this.mark=t}static create(e,t,r,o){let s=o.nodeViews[t.type.name],l=s&&s(t,o,r);return(!l||!l.dom)&&(l=Mi.renderSpec(document,t.type.spec.toDOM(t,r))),new ss(e,t,l.dom,l.contentDOM||l.dom)}parseRule(){return this.dirty&ci||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=ci&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=Cr){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Cr}}slice(e,t,r){let o=ss.create(this.parent,this.mark,!0,r),s=this.children,l=this.size;t<l&&(s=qp(s,t,l,r)),e>0&&(s=qp(s,0,e,r));for(let u=0;u<s.length;u++)s[u].parent=o;return o.children=s,o}}class bo extends eu{constructor(e,t,r,o,s,l,u,f,d){super(e,[],s,l),this.node=t,this.outerDeco=r,this.innerDeco=o,this.nodeDOM=u}static create(e,t,r,o,s,l){let u=s.nodeViews[t.type.name],f,d=u&&u(t,s,()=>{if(!f)return l;if(f.parent)return f.parent.posBeforeChild(f)},r,o),p=d&&d.dom,m=d&&d.contentDOM;if(t.isText){if(!p)p=document.createTextNode(t.text);else if(p.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else p||({dom:p,contentDOM:m}=Mi.renderSpec(document,t.type.spec.toDOM(t)));!m&&!t.isText&&p.nodeName!="BR"&&(p.hasAttribute("contenteditable")||(p.contentEditable="false"),t.type.spec.draggable&&(p.draggable=!0));let v=p;return p=ND(p,r,t),d?f=new z2(e,t,r,o,p,m||null,v,d,s,l+1):t.isText?new Ic(e,t,r,o,p,v,s):new bo(e,t,r,o,p,m||null,v,s,l+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let r=this.children[t];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>ke.empty)}return e}matchesNode(e,t,r){return this.dirty==Cr&&e.eq(this.node)&&Vp(t,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let r=this.node.inlineContent,o=t,s=e.composing?this.localCompositionInfo(e,t):null,l=s&&s.pos>-1?s:null,u=s&&s.pos<0,f=new $2(this,l&&l.node,e);j2(this.node,this.innerDeco,(d,p,m)=>{d.spec.marks?f.syncToMarks(d.spec.marks,r,e):d.type.side>=0&&!m&&f.syncToMarks(p==this.node.childCount?vt.none:this.node.child(p).marks,r,e),f.placeWidget(d,e,o)},(d,p,m,v)=>{f.syncToMarks(d.marks,r,e);let D;f.findNodeMatch(d,p,m,v)||u&&e.state.selection.from>o&&e.state.selection.to<o+d.nodeSize&&(D=f.findIndexWithChild(s.node))>-1&&f.updateNodeAt(d,p,m,D,e)||f.updateNextNode(d,p,m,e,v,o)||f.addNode(d,p,m,e,o),o+=d.nodeSize}),f.syncToMarks([],r,e),this.node.isTextblock&&f.addTextblockHacks(),f.destroyRest(),(f.changed||this.dirty==Ko)&&(l&&this.protectLocalComposition(e,l),MD(this.contentDOM,this.children,e),ha&&U2(this.dom))}localCompositionInfo(e,t){let{from:r,to:o}=e.state.selection;if(!(e.state.selection instanceof Dt)||r<t||o>t+this.node.content.size)return null;let s=e.domSelectionRange(),l=V2(s.focusNode,s.focusOffset);if(!l||!this.dom.contains(l.parentNode))return null;if(this.node.inlineContent){let u=l.nodeValue,f=q2(this.node.content,u,r-t,o-t);return f<0?null:{node:l,pos:f,text:u}}else return{node:l,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:r,text:o}){if(this.getDesc(t))return;let s=t;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let l=new P2(this,s,t,o);e.input.compositionNodes.push(l),this.children=qp(this.children,r,r+o.length,e,l)}update(e,t,r,o){return this.dirty==ci||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,r,o),!0)}updateInner(e,t,r,o){this.updateOuterDeco(t),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(o,this.posAtStart),this.dirty=Cr}updateOuterDeco(e){if(Vp(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=FD(this.dom,this.nodeDOM,Up(this.outerDeco,this.node,t),Up(e,this.node,t)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function lb(n,e,t,r,o){ND(r,e,n);let s=new bo(void 0,n,e,t,r,r,r,o,0);return s.contentDOM&&s.updateChildren(o,0),s}class Ic extends bo{constructor(e,t,r,o,s,l,u){super(e,t,r,o,s,null,l,u,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,r,o){return this.dirty==ci||this.dirty!=Cr&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=Cr||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,o.trackWrites==this.nodeDOM&&(o.trackWrites=null)),this.node=e,this.dirty=Cr,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,r){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,r){let o=this.node.cut(e,t),s=document.createTextNode(o.text);return new Ic(this.parent,o,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=ci)}get domAtom(){return!1}}class OD extends eu{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Cr&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class z2 extends bo{constructor(e,t,r,o,s,l,u,f,d,p){super(e,t,r,o,s,l,u,d,p),this.spec=f}update(e,t,r,o){if(this.dirty==ci)return!1;if(this.spec.update){let s=this.spec.update(e,t,r);return s&&this.updateInner(e,t,r,o),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,r,o)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,r,o){this.spec.setSelection?this.spec.setSelection(e,t,r):super.setSelection(e,t,r,o)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function MD(n,e,t){let r=n.firstChild,o=!1;for(let s=0;s<e.length;s++){let l=e[s],u=l.dom;if(u.parentNode==n){for(;u!=r;)r=ub(r),o=!0;r=r.nextSibling}else o=!0,n.insertBefore(u,r);if(l instanceof ss){let f=r?r.previousSibling:n.lastChild;MD(l.contentDOM,l.children,t),r=f?f.nextSibling:n.firstChild}}for(;r;)r=ub(r),o=!0;o&&t.trackWrites==n&&(t.trackWrites=null)}const Sl=function(n){n&&(this.nodeName=n)};Sl.prototype=Object.create(null);const Go=[new Sl];function Up(n,e,t){if(n.length==0)return Go;let r=t?Go[0]:new Sl,o=[r];for(let s=0;s<n.length;s++){let l=n[s].type.attrs;if(l){l.nodeName&&o.push(r=new Sl(l.nodeName));for(let u in l){let f=l[u];f!=null&&(t&&o.length==1&&o.push(r=new Sl(e.isInline?"span":"div")),u=="class"?r.class=(r.class?r.class+" ":"")+f:u=="style"?r.style=(r.style?r.style+";":"")+f:u!="nodeName"&&(r[u]=f))}}}return o}function FD(n,e,t,r){if(t==Go&&r==Go)return e;let o=e;for(let s=0;s<r.length;s++){let l=r[s],u=t[s];if(s){let f;u&&u.nodeName==l.nodeName&&o!=n&&(f=o.parentNode)&&f.nodeName.toLowerCase()==l.nodeName||(f=document.createElement(l.nodeName),f.pmIsDeco=!0,f.appendChild(o),u=Go[0]),o=f}_2(o,u||Go[0],l)}return o}function _2(n,e,t){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in t)&&n.removeAttribute(r);for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&t[r]!=e[r]&&n.setAttribute(r,t[r]);if(e.class!=t.class){let r=e.class?e.class.split(" ").filter(Boolean):[],o=t.class?t.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)o.indexOf(r[s])==-1&&n.classList.remove(r[s]);for(let s=0;s<o.length;s++)r.indexOf(o[s])==-1&&n.classList.add(o[s]);n.classList.length==0&&n.removeAttribute("class")}if(e.style!=t.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,o;for(;o=r.exec(e.style);)n.style.removeProperty(o[1])}t.style&&(n.style.cssText+=t.style)}}function ND(n,e,t){return FD(n,n,Go,Up(e,t,n.nodeType!=1))}function Vp(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].type.eq(e[t].type))return!1;return!0}function ub(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class $2{constructor(e,t,r){this.lock=t,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=H2(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let r=e;r<t;r++)this.top.children[r].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,r){let o=0,s=this.stack.length>>1,l=Math.min(s,e.length);for(;o<l&&(o==s-1?this.top:this.stack[o+1<<1]).matchesMark(e[o])&&e[o].type.spec.spanning!==!1;)o++;for(;o<s;)this.destroyRest(),this.top.dirty=Cr,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let u=-1;for(let f=this.index;f<Math.min(this.index+3,this.top.children.length);f++){let d=this.top.children[f];if(d.matchesMark(e[s])&&!this.isLocked(d.dom)){u=f;break}}if(u>-1)u>this.index&&(this.changed=!0,this.destroyBetween(this.index,u)),this.top=this.top.children[this.index];else{let f=ss.create(this.top,e[s],t,r);this.top.children.splice(this.index,0,f),this.top=f,this.changed=!0}this.index=0,s++}}findNodeMatch(e,t,r,o){let s=-1,l;if(o>=this.preMatch.index&&(l=this.preMatch.matches[o-this.preMatch.index]).parent==this.top&&l.matchesNode(e,t,r))s=this.top.children.indexOf(l,this.index);else for(let u=this.index,f=Math.min(this.top.children.length,u+5);u<f;u++){let d=this.top.children[u];if(d.matchesNode(e,t,r)&&!this.preMatch.matched.has(d)){s=u;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,t,r,o,s){let l=this.top.children[o];return l.dirty==ci&&l.dom==l.contentDOM&&(l.dirty=Ko),l.update(e,t,r,s)?(this.destroyBetween(this.index,o),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let o=this.index;o<this.top.children.length;o++)if(this.top.children[o]==r)return o}return-1}e=t}}updateNextNode(e,t,r,o,s,l){for(let u=this.index;u<this.top.children.length;u++){let f=this.top.children[u];if(f instanceof bo){let d=this.preMatch.matched.get(f);if(d!=null&&d!=s)return!1;let p=f.dom,m,v=this.isLocked(p)&&!(e.isText&&f.node&&f.node.isText&&f.nodeDOM.nodeValue==e.text&&f.dirty!=ci&&Vp(t,f.outerDeco));if(!v&&f.update(e,t,r,o))return this.destroyBetween(this.index,u),f.dom!=p&&(this.changed=!0),this.index++,!0;if(!v&&(m=this.recreateWrapper(f,e,t,r,o,l)))return this.top.children[this.index]=m,m.contentDOM&&(m.dirty=Ko,m.updateChildren(o,l+1),m.dirty=Cr),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,r,o,s,l){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content))return null;let u=bo.create(this.top,t,r,o,s,l);if(u.contentDOM){u.children=e.children,e.children=[];for(let f of u.children)f.parent=u}return e.destroy(),u}addNode(e,t,r,o,s){let l=bo.create(this.top,e,t,r,o,s);l.contentDOM&&l.updateChildren(o,s+1),this.top.children.splice(this.index++,0,l),this.changed=!0}placeWidget(e,t,r){let o=this.index<this.top.children.length?this.top.children[this.index]:null;if(o&&o.matchesWidget(e)&&(e==o.widget||!o.widget.type.toDOM.parentNode))this.index++;else{let s=new TD(this.top,e,t,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof ss;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof Ic)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((qn||Fn)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let o=new OD(this.top,[],r,null);t!=this.top?t.children.push(o):t.children.splice(this.index++,0,o),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function H2(n,e){let t=e,r=t.children.length,o=n.childCount,s=new Map,l=[];e:for(;o>0;){let u;for(;;)if(r){let d=t.children[r-1];if(d instanceof ss)t=d,r=d.children.length;else{u=d,r--;break}}else{if(t==e)break e;r=t.parent.children.indexOf(t),t=t.parent}let f=u.node;if(f){if(f!=n.child(o-1))break;--o,s.set(u,o),l.push(u)}}return{index:o,matched:s,matches:l.reverse()}}function W2(n,e){return n.type.side-e.type.side}function j2(n,e,t,r){let o=e.locals(n),s=0;if(o.length==0){for(let d=0;d<n.childCount;d++){let p=n.child(d);r(p,o,e.forChild(s,p),d),s+=p.nodeSize}return}let l=0,u=[],f=null;for(let d=0;;){let p,m;for(;l<o.length&&o[l].to==s;){let M=o[l++];M.widget&&(p?(m||(m=[p])).push(M):p=M)}if(p)if(m){m.sort(W2);for(let M=0;M<m.length;M++)t(m[M],d,!!f)}else t(p,d,!!f);let v,D;if(f)D=-1,v=f,f=null;else if(d<n.childCount)D=d,v=n.child(d++);else break;for(let M=0;M<u.length;M++)u[M].to<=s&&u.splice(M--,1);for(;l<o.length&&o[l].from<=s&&o[l].to>s;)u.push(o[l++]);let w=s+v.nodeSize;if(v.isText){let M=w;l<o.length&&o[l].from<M&&(M=o[l].from);for(let R=0;R<u.length;R++)u[R].to<M&&(M=u[R].to);M<w&&(f=v.cut(M-s),v=v.cut(0,M-s),w=M,D=-1)}else for(;l<o.length&&o[l].to<w;)l++;let k=v.isInline&&!v.isLeaf?u.filter(M=>!M.inline):u.slice();r(v,k,e.forChild(s,v),D),s=w}}function U2(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let e=n.style.cssText;n.style.cssText=e+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=e}}function V2(n,e){for(;;){if(n.nodeType==3)return n;if(n.nodeType==1&&e>0){if(n.childNodes.length>e&&n.childNodes[e].nodeType==3)return n.childNodes[e];n=n.childNodes[e-1],e=ri(n)}else if(n.nodeType==1&&e<n.childNodes.length)n=n.childNodes[e],e=0;else return null}}function q2(n,e,t,r){for(let o=0,s=0;o<n.childCount&&s<=r;){let l=n.child(o++),u=s;if(s+=l.nodeSize,!l.isText)continue;let f=l.text;for(;o<n.childCount;){let d=n.child(o++);if(s+=d.nodeSize,!d.isText)break;f+=d.text}if(s>=t){if(s>=r&&f.slice(r-e.length-u,r-u)==e)return r-e.length;let d=u<r?f.lastIndexOf(e,r-u-1):-1;if(d>=0&&d+e.length+u>=t)return u+d;if(t==r&&f.length>=r+e.length-u&&f.slice(r-u,r-u+e.length)==e)return r}}return-1}function qp(n,e,t,r,o){let s=[];for(let l=0,u=0;l<n.length;l++){let f=n[l],d=u,p=u+=f.size;d>=t||p<=e?s.push(f):(d<e&&s.push(f.slice(0,e-d,r)),o&&(s.push(o),o=void 0),p>t&&s.push(f.slice(t-d,f.size,r)))}return s}function Lg(n,e=null){let t=n.domSelectionRange(),r=n.state.doc;if(!t.focusNode)return null;let o=n.docView.nearestDesc(t.focusNode),s=o&&o.size==0,l=n.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(l<0)return null;let u=r.resolve(l),f,d;if(Bc(t)){for(f=u;o&&!o.node;)o=o.parent;let p=o.node;if(o&&p.isAtom&&Xe.isSelectable(p)&&o.parent&&!(p.isInline&&m2(t.focusNode,t.focusOffset,o.dom))){let m=o.posBefore;d=new Xe(l==m?u:r.resolve(m))}}else{let p=n.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(p<0)return null;f=r.resolve(p)}if(!d){let p=e=="pointer"||n.state.selection.head<u.pos&&!s?1:-1;d=Bg(n,f,u,p)}return d}function RD(n){return n.editable?n.hasFocus():BD(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function Li(n,e=!1){let t=n.state.selection;if(LD(n,t),!!RD(n)){if(!e&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&Fn){let r=n.domSelectionRange(),o=n.domObserver.currentSelection;if(r.anchorNode&&o.anchorNode&&is(r.anchorNode,r.anchorOffset,o.anchorNode,o.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)G2(n);else{let{anchor:r,head:o}=t,s,l;fb&&!(t instanceof Dt)&&(t.$from.parent.inlineContent||(s=cb(n,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(l=cb(n,t.to))),n.docView.setSelection(r,o,n.root,e),fb&&(s&&hb(s),l&&hb(l)),t.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&K2(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const fb=qn||Fn&&b2<63;function cb(n,e){let{node:t,offset:r}=n.docView.domFromPos(e,0),o=r<t.childNodes.length?t.childNodes[r]:null,s=r?t.childNodes[r-1]:null;if(qn&&o&&o.contentEditable=="false")return Wd(o);if((!o||o.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(o)return Wd(o);if(s)return Wd(s)}}function Wd(n){return n.contentEditable="true",qn&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function hb(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function K2(n){let e=n.dom.ownerDocument;e.removeEventListener("selectionchange",n.input.hideSelectionGuard);let t=n.domSelectionRange(),r=t.anchorNode,o=t.anchorOffset;e.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(t.anchorNode!=r||t.anchorOffset!=o)&&(e.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!RD(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function G2(n){let e=n.domSelection(),t=document.createRange(),r=n.cursorWrapper.dom,o=r.nodeName=="IMG";o?t.setEnd(r.parentNode,jn(r)+1):t.setEnd(r,0),t.collapse(!1),e.removeAllRanges(),e.addRange(t),!o&&!n.state.selection.visible&&nr&&yo<=11&&(r.disabled=!0,r.disabled=!1)}function LD(n,e){if(e instanceof Xe){let t=n.docView.descAt(e.from);t!=n.lastSelectedViewDesc&&(db(n),t&&t.selectNode(),n.lastSelectedViewDesc=t)}else db(n)}function db(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function Bg(n,e,t,r){return n.someProp("createSelectionBetween",o=>o(n,e,t))||Dt.between(e,t,r)}function pb(n){return n.editable&&!n.hasFocus()?!1:BD(n)}function BD(n){let e=n.domSelectionRange();if(!e.anchorNode)return!1;try{return n.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(n.editable||n.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function J2(n){let e=n.docView.domFromPos(n.state.selection.anchor,0),t=n.domSelectionRange();return is(e.node,e.offset,t.anchorNode,t.anchorOffset)}function Kp(n,e){let{$anchor:t,$head:r}=n.selection,o=e>0?t.max(r):t.min(r),s=o.parent.inlineContent?o.depth?n.doc.resolve(e>0?o.after():o.before()):null:o;return s&&ft.findFrom(s,e)}function io(n,e){return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()),!0}function gb(n,e,t){let r=n.state.selection;if(r instanceof Dt)if(t.indexOf("s")>-1){let{$head:o}=r,s=o.textOffset?null:e<0?o.nodeBefore:o.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let l=n.state.doc.resolve(o.pos+s.nodeSize*(e<0?-1:1));return io(n,new Dt(r.$anchor,l))}else if(r.empty){if(n.endOfTextblock(e>0?"forward":"backward")){let o=Kp(n.state,e);return o&&o instanceof Xe?io(n,o):!1}else if(!(br&&t.indexOf("m")>-1)){let o=r.$head,s=o.textOffset?null:e<0?o.nodeBefore:o.nodeAfter,l;if(!s||s.isText)return!1;let u=e<0?o.pos-s.nodeSize:o.pos;return s.isAtom||(l=n.docView.descAt(u))&&!l.contentDOM?Xe.isSelectable(s)?io(n,new Xe(e<0?n.state.doc.resolve(o.pos-s.nodeSize):o)):Zl?io(n,new Dt(n.state.doc.resolve(e<0?u:u+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Xe&&r.node.isInline)return io(n,new Dt(e>0?r.$to:r.$from));{let o=Kp(n.state,e);return o?io(n,o):!1}}}function Wf(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function Cl(n,e){let t=n.pmViewDesc;return t&&t.size==0&&(e<0||n.nextSibling||n.nodeName!="BR")}function Ws(n,e){return e<0?Y2(n):X2(n)}function Y2(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let o,s,l=!1;for(_r&&t.nodeType==1&&r<Wf(t)&&Cl(t.childNodes[r],-1)&&(l=!0);;)if(r>0){if(t.nodeType!=1)break;{let u=t.childNodes[r-1];if(Cl(u,-1))o=t,s=--r;else if(u.nodeType==3)t=u,r=t.nodeValue.length;else break}}else{if(ID(t))break;{let u=t.previousSibling;for(;u&&Cl(u,-1);)o=t.parentNode,s=jn(u),u=u.previousSibling;if(u)t=u,r=Wf(t);else{if(t=t.parentNode,t==n.dom)break;r=0}}}l?Gp(n,t,r):o&&Gp(n,o,s)}function X2(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let o=Wf(t),s,l;for(;;)if(r<o){if(t.nodeType!=1)break;let u=t.childNodes[r];if(Cl(u,1))s=t,l=++r;else break}else{if(ID(t))break;{let u=t.nextSibling;for(;u&&Cl(u,1);)s=u.parentNode,l=jn(u)+1,u=u.nextSibling;if(u)t=u,r=0,o=Wf(t);else{if(t=t.parentNode,t==n.dom)break;r=o=0}}}s&&Gp(n,s,l)}function ID(n){let e=n.pmViewDesc;return e&&e.node&&e.node.isBlock}function Q2(n,e){for(;n&&e==n.childNodes.length&&!Ng(n);)e=jn(n)+1,n=n.parentNode;for(;n&&e<n.childNodes.length;){let t=n.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=0}}function Z2(n,e){for(;n&&!e&&!Ng(n);)e=jn(n),n=n.parentNode;for(;n&&e;){let t=n.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=n.childNodes.length}}function Gp(n,e,t){if(e.nodeType!=3){let s,l;(l=Q2(e,t))?(e=l,t=0):(s=Z2(e,t))&&(e=s,t=s.nodeValue.length)}let r=n.domSelection();if(Bc(r)){let s=document.createRange();s.setEnd(e,t),s.setStart(e,t),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,t);n.domObserver.setCurSelection();let{state:o}=n;setTimeout(()=>{n.state==o&&Li(n)},50)}function mb(n,e){let t=n.state.doc.resolve(e);if(!(Fn||w2)&&t.parent.inlineContent){let o=n.coordsAtPos(e);if(e>t.start()){let s=n.coordsAtPos(e-1),l=(s.top+s.bottom)/2;if(l>o.top&&l<o.bottom&&Math.abs(s.left-o.left)>1)return s.left<o.left?"ltr":"rtl"}if(e<t.end()){let s=n.coordsAtPos(e+1),l=(s.top+s.bottom)/2;if(l>o.top&&l<o.bottom&&Math.abs(s.left-o.left)>1)return s.left>o.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function vb(n,e,t){let r=n.state.selection;if(r instanceof Dt&&!r.empty||t.indexOf("s")>-1||br&&t.indexOf("m")>-1)return!1;let{$from:o,$to:s}=r;if(!o.parent.inlineContent||n.endOfTextblock(e<0?"up":"down")){let l=Kp(n.state,e);if(l&&l instanceof Xe)return io(n,l)}if(!o.parent.inlineContent){let l=e<0?o:s,u=r instanceof Pr?ft.near(l,e):ft.findFrom(l,e);return u?io(n,u):!1}return!1}function yb(n,e){if(!(n.state.selection instanceof Dt))return!0;let{$head:t,$anchor:r,empty:o}=n.state.selection;if(!t.sameParent(r))return!0;if(!o)return!1;if(n.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(s&&!s.isText){let l=n.state.tr;return e<0?l.delete(t.pos-s.nodeSize,t.pos):l.delete(t.pos,t.pos+s.nodeSize),n.dispatch(l),!0}return!1}function bb(n,e,t){n.domObserver.stop(),e.contentEditable=t,n.domObserver.start()}function eN(n){if(!qn||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;bb(n,r,"true"),setTimeout(()=>bb(n,r,"false"),20)}return!1}function tN(n){let e="";return n.ctrlKey&&(e+="c"),n.metaKey&&(e+="m"),n.altKey&&(e+="a"),n.shiftKey&&(e+="s"),e}function nN(n,e){let t=e.keyCode,r=tN(e);if(t==8||br&&t==72&&r=="c")return yb(n,-1)||Ws(n,-1);if(t==46&&!e.shiftKey||br&&t==68&&r=="c")return yb(n,1)||Ws(n,1);if(t==13||t==27)return!0;if(t==37||br&&t==66&&r=="c"){let o=t==37?mb(n,n.state.selection.from)=="ltr"?-1:1:-1;return gb(n,o,r)||Ws(n,o)}else if(t==39||br&&t==70&&r=="c"){let o=t==39?mb(n,n.state.selection.from)=="ltr"?1:-1:1;return gb(n,o,r)||Ws(n,o)}else{if(t==38||br&&t==80&&r=="c")return vb(n,-1,r)||Ws(n,-1);if(t==40||br&&t==78&&r=="c")return eN(n)||vb(n,1,r)||Ws(n,1);if(r==(br?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function PD(n,e){n.someProp("transformCopied",D=>{e=D(e,n)});let t=[],{content:r,openStart:o,openEnd:s}=e;for(;o>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){o--,s--;let D=r.firstChild;t.push(D.type.name,D.attrs!=D.type.defaultAttrs?D.attrs:null),r=D.content}let l=n.someProp("clipboardSerializer")||Mi.fromSchema(n.state.schema),u=jD(),f=u.createElement("div");f.appendChild(l.serializeFragment(r,{document:u}));let d=f.firstChild,p,m=0;for(;d&&d.nodeType==1&&(p=WD[d.nodeName.toLowerCase()]);){for(let D=p.length-1;D>=0;D--){let w=u.createElement(p[D]);for(;f.firstChild;)w.appendChild(f.firstChild);f.appendChild(w),m++}d=f.firstChild}d&&d.nodeType==1&&d.setAttribute("data-pm-slice",`${o} ${s}${m?` -${m}`:""} ${JSON.stringify(t)}`);let v=n.someProp("clipboardTextSerializer",D=>D(e,n))||e.content.textBetween(0,e.content.size,`

`);return{dom:f,text:v}}function zD(n,e,t,r,o){let s=o.parent.type.spec.code,l,u;if(!t&&!e)return null;let f=e&&(r||s||!t);if(f){if(n.someProp("transformPastedText",v=>{e=v(e,s||r,n)}),s)return e?new Le(ke.from(n.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):Le.empty;let m=n.someProp("clipboardTextParser",v=>v(e,o,r,n));if(m)u=m;else{let v=o.marks(),{schema:D}=n.state,w=Mi.fromSchema(D);l=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(k=>{let M=l.appendChild(document.createElement("p"));k&&M.appendChild(w.serializeNode(D.text(k,v)))})}}else n.someProp("transformPastedHTML",m=>{t=m(t,n)}),l=oN(t),Zl&&sN(l);let d=l&&l.querySelector("[data-pm-slice]"),p=d&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(d.getAttribute("data-pm-slice")||"");if(p&&p[3])for(let m=+p[3];m>0;m--){let v=l.firstChild;for(;v&&v.nodeType!=1;)v=v.nextSibling;if(!v)break;l=v}if(u||(u=(n.someProp("clipboardParser")||n.someProp("domParser")||Bl.fromSchema(n.state.schema)).parseSlice(l,{preserveWhitespace:!!(f||p),context:o,ruleFromNode(v){return v.nodeName=="BR"&&!v.nextSibling&&v.parentNode&&!rN.test(v.parentNode.nodeName)?{ignore:!0}:null}})),p)u=aN(wb(u,+p[1],+p[2]),p[4]);else if(u=Le.maxOpen(iN(u.content,o),!0),u.openStart||u.openEnd){let m=0,v=0;for(let D=u.content.firstChild;m<u.openStart&&!D.type.spec.isolating;m++,D=D.firstChild);for(let D=u.content.lastChild;v<u.openEnd&&!D.type.spec.isolating;v++,D=D.lastChild);u=wb(u,m,v)}return n.someProp("transformPasted",m=>{u=m(u,n)}),u}const rN=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function iN(n,e){if(n.childCount<2)return n;for(let t=e.depth;t>=0;t--){let o=e.node(t).contentMatchAt(e.index(t)),s,l=[];if(n.forEach(u=>{if(!l)return;let f=o.findWrapping(u.type),d;if(!f)return l=null;if(d=l.length&&s.length&&$D(f,s,u,l[l.length-1],0))l[l.length-1]=d;else{l.length&&(l[l.length-1]=HD(l[l.length-1],s.length));let p=_D(u,f);l.push(p),o=o.matchType(p.type),s=f}}),l)return ke.from(l)}return n}function _D(n,e,t=0){for(let r=e.length-1;r>=t;r--)n=e[r].create(null,ke.from(n));return n}function $D(n,e,t,r,o){if(o<n.length&&o<e.length&&n[o]==e[o]){let s=$D(n,e,t,r.lastChild,o+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(o==n.length-1?t.type:n[o+1]))return r.copy(r.content.append(ke.from(_D(t,n,o+1))))}}function HD(n,e){if(e==0)return n;let t=n.content.replaceChild(n.childCount-1,HD(n.lastChild,e-1)),r=n.contentMatchAt(n.childCount).fillBefore(ke.empty,!0);return n.copy(t.append(r))}function Jp(n,e,t,r,o,s){let l=e<0?n.firstChild:n.lastChild,u=l.content;return n.childCount>1&&(s=0),o<r-1&&(u=Jp(u,e,t,r,o+1,s)),o>=t&&(u=e<0?l.contentMatchAt(0).fillBefore(u,s<=o).append(u):u.append(l.contentMatchAt(l.childCount).fillBefore(ke.empty,!0))),n.replaceChild(e<0?0:n.childCount-1,l.copy(u))}function wb(n,e,t){return e<n.openStart&&(n=new Le(Jp(n.content,-1,e,n.openStart,0,n.openEnd),e,n.openEnd)),t<n.openEnd&&(n=new Le(Jp(n.content,1,t,n.openEnd,0,0),n.openStart,t)),n}const WD={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Db=null;function jD(){return Db||(Db=document.implementation.createHTMLDocument("title"))}function oN(n){let e=/^(\s*<meta [^>]*>)*/.exec(n);e&&(n=n.slice(e[0].length));let t=jD().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(n),o;if((o=r&&WD[r[1].toLowerCase()])&&(n=o.map(s=>"<"+s+">").join("")+n+o.map(s=>"</"+s+">").reverse().join("")),t.innerHTML=n,o)for(let s=0;s<o.length;s++)t=t.querySelector(o[s])||t;return t}function sN(n){let e=n.querySelectorAll(Fn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let r=e[t];r.childNodes.length==1&&r.textContent=="Â "&&r.parentNode&&r.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),r)}}function aN(n,e){if(!n.size)return n;let t=n.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return n}let{content:o,openStart:s,openEnd:l}=n;for(let u=r.length-2;u>=0;u-=2){let f=t.nodes[r[u]];if(!f||f.hasRequiredAttrs())break;o=ke.from(f.create(r[u+1],o)),s++,l++}return new Le(o,s,l)}const Kn={},Gn={},lN={touchstart:!0,touchmove:!0};class uN{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function fN(n){for(let e in Kn){let t=Kn[e];n.dom.addEventListener(e,n.input.eventHandlers[e]=r=>{hN(n,r)&&!Ig(n,r)&&(n.editable||!(r.type in Gn))&&t(n,r)},lN[e]?{passive:!0}:void 0)}qn&&n.dom.addEventListener("input",()=>null),Yp(n)}function vo(n,e){n.input.lastSelectionOrigin=e,n.input.lastSelectionTime=Date.now()}function cN(n){n.domObserver.stop();for(let e in n.input.eventHandlers)n.dom.removeEventListener(e,n.input.eventHandlers[e]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function Yp(n){n.someProp("handleDOMEvents",e=>{for(let t in e)n.input.eventHandlers[t]||n.dom.addEventListener(t,n.input.eventHandlers[t]=r=>Ig(n,r))})}function Ig(n,e){return n.someProp("handleDOMEvents",t=>{let r=t[e.type];return r?r(n,e)||e.defaultPrevented:!1})}function hN(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=n.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function dN(n,e){!Ig(n,e)&&Kn[e.type]&&(n.editable||!(e.type in Gn))&&Kn[e.type](n,e)}Gn.keydown=(n,e)=>{let t=e;if(n.input.shiftKey=t.keyCode==16||t.shiftKey,!VD(n,t)&&(n.input.lastKeyCode=t.keyCode,n.input.lastKeyCodeTime=Date.now(),!(Lr&&Fn&&t.keyCode==13)))if(t.keyCode!=229&&n.domObserver.forceFlush(),ha&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let r=Date.now();n.input.lastIOSEnter=r,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==r&&(n.someProp("handleKeyDown",o=>o(n,Uo(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",r=>r(n,t))||nN(n,t)?t.preventDefault():vo(n,"key")};Gn.keyup=(n,e)=>{e.keyCode==16&&(n.input.shiftKey=!1)};Gn.keypress=(n,e)=>{let t=e;if(VD(n,t)||!t.charCode||t.ctrlKey&&!t.altKey||br&&t.metaKey)return;if(n.someProp("handleKeyPress",o=>o(n,t))){t.preventDefault();return}let r=n.state.selection;if(!(r instanceof Dt)||!r.$from.sameParent(r.$to)){let o=String.fromCharCode(t.charCode);!/[\r\n]/.test(o)&&!n.someProp("handleTextInput",s=>s(n,r.$from.pos,r.$to.pos,o))&&n.dispatch(n.state.tr.insertText(o).scrollIntoView()),t.preventDefault()}};function Pc(n){return{left:n.clientX,top:n.clientY}}function pN(n,e){let t=e.x-n.clientX,r=e.y-n.clientY;return t*t+r*r<100}function Pg(n,e,t,r,o){if(r==-1)return!1;let s=n.state.doc.resolve(r);for(let l=s.depth+1;l>0;l--)if(n.someProp(e,u=>l>s.depth?u(n,t,s.nodeAfter,s.before(l),o,!0):u(n,t,s.node(l),s.before(l),o,!1)))return!0;return!1}function ra(n,e,t){n.focused||n.focus();let r=n.state.tr.setSelection(e);t=="pointer"&&r.setMeta("pointer",!0),n.dispatch(r)}function gN(n,e){if(e==-1)return!1;let t=n.state.doc.resolve(e),r=t.nodeAfter;return r&&r.isAtom&&Xe.isSelectable(r)?(ra(n,new Xe(t),"pointer"),!0):!1}function mN(n,e){if(e==-1)return!1;let t=n.state.selection,r,o;t instanceof Xe&&(r=t.node);let s=n.state.doc.resolve(e);for(let l=s.depth+1;l>0;l--){let u=l>s.depth?s.nodeAfter:s.node(l);if(Xe.isSelectable(u)){r&&t.$from.depth>0&&l>=t.$from.depth&&s.before(t.$from.depth+1)==t.$from.pos?o=s.before(t.$from.depth):o=s.before(l);break}}return o!=null?(ra(n,Xe.create(n.state.doc,o),"pointer"),!0):!1}function vN(n,e,t,r,o){return Pg(n,"handleClickOn",e,t,r)||n.someProp("handleClick",s=>s(n,e,r))||(o?mN(n,t):gN(n,t))}function yN(n,e,t,r){return Pg(n,"handleDoubleClickOn",e,t,r)||n.someProp("handleDoubleClick",o=>o(n,e,r))}function bN(n,e,t,r){return Pg(n,"handleTripleClickOn",e,t,r)||n.someProp("handleTripleClick",o=>o(n,e,r))||wN(n,t,r)}function wN(n,e,t){if(t.button!=0)return!1;let r=n.state.doc;if(e==-1)return r.inlineContent?(ra(n,Dt.create(r,0,r.content.size),"pointer"),!0):!1;let o=r.resolve(e);for(let s=o.depth+1;s>0;s--){let l=s>o.depth?o.nodeAfter:o.node(s),u=o.before(s);if(l.inlineContent)ra(n,Dt.create(r,u+1,u+1+l.content.size),"pointer");else if(Xe.isSelectable(l))ra(n,Xe.create(r,u),"pointer");else continue;return!0}}function zg(n){return jf(n)}const UD=br?"metaKey":"ctrlKey";Kn.mousedown=(n,e)=>{let t=e;n.input.shiftKey=t.shiftKey;let r=zg(n),o=Date.now(),s="singleClick";o-n.input.lastClick.time<500&&pN(t,n.input.lastClick)&&!t[UD]&&(n.input.lastClick.type=="singleClick"?s="doubleClick":n.input.lastClick.type=="doubleClick"&&(s="tripleClick")),n.input.lastClick={time:o,x:t.clientX,y:t.clientY,type:s};let l=n.posAtCoords(Pc(t));l&&(s=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new DN(n,l,t,!!r)):(s=="doubleClick"?yN:bN)(n,l.pos,l.inside,t)?t.preventDefault():vo(n,"pointer"))};class DN{constructor(e,t,r,o){this.view=e,this.pos=t,this.event=r,this.flushed=o,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[UD],this.allowDefault=r.shiftKey;let s,l;if(t.inside>-1)s=e.state.doc.nodeAt(t.inside),l=t.inside;else{let p=e.state.doc.resolve(t.pos);s=p.parent,l=p.depth?p.before():0}const u=o?null:r.target,f=u?e.docView.nearestDesc(u,!0):null;this.target=f?f.dom:null;let{selection:d}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||d instanceof Xe&&d.from<=l&&d.to>l)&&(this.mightDrag={node:s,pos:l,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&_r&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),vo(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Li(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(Pc(e))),this.updateAllowDefault(e),this.allowDefault||!t?vo(this.view,"pointer"):vN(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||qn&&this.mightDrag&&!this.mightDrag.node.isAtom||Fn&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(ra(this.view,ft.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):vo(this.view,"pointer")}move(e){this.updateAllowDefault(e),vo(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Kn.touchstart=n=>{n.input.lastTouch=Date.now(),zg(n),vo(n,"pointer")};Kn.touchmove=n=>{n.input.lastTouch=Date.now(),vo(n,"pointer")};Kn.contextmenu=n=>zg(n);function VD(n,e){return n.composing?!0:qn&&Math.abs(e.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const SN=Lr?5e3:-1;Gn.compositionstart=Gn.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:e}=n,t=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))n.markCursor=n.state.storedMarks||t.marks(),jf(n,!0),n.markCursor=null;else if(jf(n),_r&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let r=n.domSelectionRange();for(let o=r.focusNode,s=r.focusOffset;o&&o.nodeType==1&&s!=0;){let l=s<0?o.lastChild:o.childNodes[s-1];if(!l)break;if(l.nodeType==3){n.domSelection().collapse(l,l.nodeValue.length);break}else o=l,s=-1}}n.input.composing=!0}qD(n,SN)};Gn.compositionend=(n,e)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=e.timeStamp,n.input.compositionPendingChanges=n.domObserver.pendingRecords().length?n.input.compositionID:0,n.input.compositionPendingChanges&&Promise.resolve().then(()=>n.domObserver.flush()),n.input.compositionID++,qD(n,20))};function qD(n,e){clearTimeout(n.input.composingTimeout),e>-1&&(n.input.composingTimeout=setTimeout(()=>jf(n),e))}function KD(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=CN());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function CN(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function jf(n,e=!1){if(!(Lr&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),KD(n),e||n.docView&&n.docView.dirty){let t=Lg(n);return t&&!t.eq(n.state.selection)?n.dispatch(n.state.tr.setSelection(t)):n.updateState(n.state),!0}return!1}}function xN(n,e){if(!n.dom.parentNode)return;let t=n.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),o=document.createRange();o.selectNodeContents(e),n.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),n.focus()},50)}const zl=nr&&yo<15||ha&&D2<604;Kn.copy=Gn.cut=(n,e)=>{let t=e,r=n.state.selection,o=t.type=="cut";if(r.empty)return;let s=zl?null:t.clipboardData,l=r.content(),{dom:u,text:f}=PD(n,l);s?(t.preventDefault(),s.clearData(),s.setData("text/html",u.innerHTML),s.setData("text/plain",f)):xN(n,u),o&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function EN(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function kN(n,e){if(!n.dom.parentNode)return;let t=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,r=n.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let o=n.input.shiftKey&&n.input.lastKeyCode!=45;setTimeout(()=>{n.focus(),r.parentNode&&r.parentNode.removeChild(r),t?_l(n,r.value,null,o,e):_l(n,r.textContent,r.innerHTML,o,e)},50)}function _l(n,e,t,r,o){let s=zD(n,e,t,r,n.state.selection.$from);if(n.someProp("handlePaste",f=>f(n,o,s||Le.empty)))return!0;if(!s)return!1;let l=EN(s),u=l?n.state.tr.replaceSelectionWith(l,r):n.state.tr.replaceSelection(s);return n.dispatch(u.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function GD(n){let e=n.getData("text/plain")||n.getData("Text");if(e)return e;let t=n.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}Gn.paste=(n,e)=>{let t=e;if(n.composing&&!Lr)return;let r=zl?null:t.clipboardData,o=n.input.shiftKey&&n.input.lastKeyCode!=45;r&&_l(n,GD(r),r.getData("text/html"),o,t)?t.preventDefault():kN(n,t)};class JD{constructor(e,t,r){this.slice=e,this.move=t,this.node=r}}const YD=br?"altKey":"ctrlKey";Kn.dragstart=(n,e)=>{let t=e,r=n.input.mouseDown;if(r&&r.done(),!t.dataTransfer)return;let o=n.state.selection,s=o.empty?null:n.posAtCoords(Pc(t)),l;if(!(s&&s.pos>=o.from&&s.pos<=(o instanceof Xe?o.to-1:o.to))){if(r&&r.mightDrag)l=Xe.create(n.state.doc,r.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let p=n.docView.nearestDesc(t.target,!0);p&&p.node.type.spec.draggable&&p!=n.docView&&(l=Xe.create(n.state.doc,p.posBefore))}}let u=(l||n.state.selection).content(),{dom:f,text:d}=PD(n,u);t.dataTransfer.clearData(),t.dataTransfer.setData(zl?"Text":"text/html",f.innerHTML),t.dataTransfer.effectAllowed="copyMove",zl||t.dataTransfer.setData("text/plain",d),n.dragging=new JD(u,!t[YD],l)};Kn.dragend=n=>{let e=n.dragging;window.setTimeout(()=>{n.dragging==e&&(n.dragging=null)},50)};Gn.dragover=Gn.dragenter=(n,e)=>e.preventDefault();Gn.drop=(n,e)=>{let t=e,r=n.dragging;if(n.dragging=null,!t.dataTransfer)return;let o=n.posAtCoords(Pc(t));if(!o)return;let s=n.state.doc.resolve(o.pos),l=r&&r.slice;l?n.someProp("transformPasted",w=>{l=w(l,n)}):l=zD(n,GD(t.dataTransfer),zl?null:t.dataTransfer.getData("text/html"),!1,s);let u=!!(r&&!t[YD]);if(n.someProp("handleDrop",w=>w(n,t,l||Le.empty,u))){t.preventDefault();return}if(!l)return;t.preventDefault();let f=l?dD(n.state.doc,s.pos,l):s.pos;f==null&&(f=s.pos);let d=n.state.tr;if(u){let{node:w}=r;w?w.replace(d):d.deleteSelection()}let p=d.mapping.map(f),m=l.openStart==0&&l.openEnd==0&&l.content.childCount==1,v=d.doc;if(m?d.replaceRangeWith(p,p,l.content.firstChild):d.replaceRange(p,p,l),d.doc.eq(v))return;let D=d.doc.resolve(p);if(m&&Xe.isSelectable(l.content.firstChild)&&D.nodeAfter&&D.nodeAfter.sameMarkup(l.content.firstChild))d.setSelection(new Xe(D));else{let w=d.mapping.map(f);d.mapping.maps[d.mapping.maps.length-1].forEach((k,M,R,I)=>w=I),d.setSelection(Bg(n,D,d.doc.resolve(w)))}n.focus(),n.dispatch(d.setMeta("uiEvent","drop"))};Kn.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&Li(n)},20))};Kn.blur=(n,e)=>{let t=e;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),t.relatedTarget&&n.dom.contains(t.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};Kn.beforeinput=(n,e)=>{if(Fn&&Lr&&e.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:r}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=r||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",s=>s(n,Uo(8,"Backspace")))))return;let{$cursor:o}=n.state.selection;o&&o.pos>0&&n.dispatch(n.state.tr.delete(o.pos-1,o.pos).scrollIntoView())},50)}};for(let n in Gn)Kn[n]=Gn[n];function $l(n,e){if(n==e)return!0;for(let t in n)if(n[t]!==e[t])return!1;for(let t in e)if(!(t in n))return!1;return!0}class Uf{constructor(e,t){this.toDOM=e,this.spec=t||es,this.side=this.spec.side||0}map(e,t,r,o){let{pos:s,deleted:l}=e.mapResult(t.from+o,this.side<0?-1:1);return l?null:new wr(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Uf&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&$l(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class wo{constructor(e,t){this.attrs=e,this.spec=t||es}map(e,t,r,o){let s=e.map(t.from+o,this.spec.inclusiveStart?-1:1)-r,l=e.map(t.to+o,this.spec.inclusiveEnd?1:-1)-r;return s>=l?null:new wr(s,l,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof wo&&$l(this.attrs,e.attrs)&&$l(this.spec,e.spec)}static is(e){return e.type instanceof wo}destroy(){}}class _g{constructor(e,t){this.attrs=e,this.spec=t||es}map(e,t,r,o){let s=e.mapResult(t.from+o,1);if(s.deleted)return null;let l=e.mapResult(t.to+o,-1);return l.deleted||l.pos<=s.pos?null:new wr(s.pos-r,l.pos-r,this)}valid(e,t){let{index:r,offset:o}=e.content.findIndex(t.from),s;return o==t.from&&!(s=e.child(r)).isText&&o+s.nodeSize==t.to}eq(e){return this==e||e instanceof _g&&$l(this.attrs,e.attrs)&&$l(this.spec,e.spec)}destroy(){}}class wr{constructor(e,t,r){this.from=e,this.to=t,this.type=r}copy(e,t){return new wr(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,r){return this.type.map(e,this,t,r)}static widget(e,t,r){return new wr(e,e,new Uf(t,r))}static inline(e,t,r,o){return new wr(e,t,new wo(r,o))}static node(e,t,r,o){return new wr(e,t,new _g(r,o))}get spec(){return this.type.spec}get inline(){return this.type instanceof wo}get widget(){return this.type instanceof Uf}}const Js=[],es={};class on{constructor(e,t){this.local=e.length?e:Js,this.children=t.length?t:Js}static create(e,t){return t.length?Vf(t,e,0,es):On}find(e,t,r){let o=[];return this.findInner(e??0,t??1e9,o,0,r),o}findInner(e,t,r,o,s){for(let l=0;l<this.local.length;l++){let u=this.local[l];u.from<=t&&u.to>=e&&(!s||s(u.spec))&&r.push(u.copy(u.from+o,u.to+o))}for(let l=0;l<this.children.length;l+=3)if(this.children[l]<t&&this.children[l+1]>e){let u=this.children[l]+1;this.children[l+2].findInner(e-u,t-u,r,o+u,s)}}map(e,t,r){return this==On||e.maps.length==0?this:this.mapInner(e,t,0,0,r||es)}mapInner(e,t,r,o,s){let l;for(let u=0;u<this.local.length;u++){let f=this.local[u].map(e,r,o);f&&f.type.valid(t,f)?(l||(l=[])).push(f):s.onRemove&&s.onRemove(this.local[u].spec)}return this.children.length?AN(this.children,l||[],e,t,r,o,s):l?new on(l.sort(ts),Js):On}add(e,t){return t.length?this==On?on.create(e,t):this.addInner(e,t,0):this}addInner(e,t,r){let o,s=0;e.forEach((u,f)=>{let d=f+r,p;if(p=QD(t,u,d)){for(o||(o=this.children.slice());s<o.length&&o[s]<f;)s+=3;o[s]==f?o[s+2]=o[s+2].addInner(u,p,d+1):o.splice(s,0,f,f+u.nodeSize,Vf(p,u,d+1,es)),s+=3}});let l=XD(s?ZD(t):t,-r);for(let u=0;u<l.length;u++)l[u].type.valid(e,l[u])||l.splice(u--,1);return new on(l.length?this.local.concat(l).sort(ts):this.local,o||this.children)}remove(e){return e.length==0||this==On?this:this.removeInner(e,0)}removeInner(e,t){let r=this.children,o=this.local;for(let s=0;s<r.length;s+=3){let l,u=r[s]+t,f=r[s+1]+t;for(let p=0,m;p<e.length;p++)(m=e[p])&&m.from>u&&m.to<f&&(e[p]=null,(l||(l=[])).push(m));if(!l)continue;r==this.children&&(r=this.children.slice());let d=r[s+2].removeInner(l,u+1);d!=On?r[s+2]=d:(r.splice(s,3),s-=3)}if(o.length){for(let s=0,l;s<e.length;s++)if(l=e[s])for(let u=0;u<o.length;u++)o[u].eq(l,t)&&(o==this.local&&(o=this.local.slice()),o.splice(u--,1))}return r==this.children&&o==this.local?this:o.length||r.length?new on(o,r):On}forChild(e,t){if(this==On)return this;if(t.isLeaf)return on.empty;let r,o;for(let u=0;u<this.children.length;u+=3)if(this.children[u]>=e){this.children[u]==e&&(r=this.children[u+2]);break}let s=e+1,l=s+t.content.size;for(let u=0;u<this.local.length;u++){let f=this.local[u];if(f.from<l&&f.to>s&&f.type instanceof wo){let d=Math.max(s,f.from)-s,p=Math.min(l,f.to)-s;d<p&&(o||(o=[])).push(f.copy(d,p))}}if(o){let u=new on(o.sort(ts),Js);return r?new lo([u,r]):u}return r||On}eq(e){if(this==e)return!0;if(!(e instanceof on)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return $g(this.localsInner(e))}localsInner(e){if(this==On)return Js;if(e.inlineContent||!this.local.some(wo.is))return this.local;let t=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof wo||t.push(this.local[r]);return t}}on.empty=new on([],[]);on.removeOverlap=$g;const On=on.empty;class lo{constructor(e){this.members=e}map(e,t){const r=this.members.map(o=>o.map(e,t,es));return lo.from(r)}forChild(e,t){if(t.isLeaf)return on.empty;let r=[];for(let o=0;o<this.members.length;o++){let s=this.members[o].forChild(e,t);s!=On&&(s instanceof lo?r=r.concat(s.members):r.push(s))}return lo.from(r)}eq(e){if(!(e instanceof lo)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,r=!0;for(let o=0;o<this.members.length;o++){let s=this.members[o].localsInner(e);if(s.length)if(!t)t=s;else{r&&(t=t.slice(),r=!1);for(let l=0;l<s.length;l++)t.push(s[l])}}return t?$g(r?t:t.sort(ts)):Js}static from(e){switch(e.length){case 0:return On;case 1:return e[0];default:return new lo(e.every(t=>t instanceof on)?e:e.reduce((t,r)=>t.concat(r instanceof on?r:r.members),[]))}}}function AN(n,e,t,r,o,s,l){let u=n.slice();for(let d=0,p=s;d<t.maps.length;d++){let m=0;t.maps[d].forEach((v,D,w,k)=>{let M=k-w-(D-v);for(let R=0;R<u.length;R+=3){let I=u[R+1];if(I<0||v>I+p-m)continue;let z=u[R]+p-m;D>=z?u[R+1]=v<=z?-2:-1:v>=p&&M&&(u[R]+=M,u[R+1]+=M)}m+=M}),p=t.maps[d].map(p,-1)}let f=!1;for(let d=0;d<u.length;d+=3)if(u[d+1]<0){if(u[d+1]==-2){f=!0,u[d+1]=-1;continue}let p=t.map(n[d]+s),m=p-o;if(m<0||m>=r.content.size){f=!0;continue}let v=t.map(n[d+1]+s,-1),D=v-o,{index:w,offset:k}=r.content.findIndex(m),M=r.maybeChild(w);if(M&&k==m&&k+M.nodeSize==D){let R=u[d+2].mapInner(t,M,p+1,n[d]+s+1,l);R!=On?(u[d]=m,u[d+1]=D,u[d+2]=R):(u[d+1]=-2,f=!0)}else f=!0}if(f){let d=TN(u,n,e,t,o,s,l),p=Vf(d,r,0,l);e=p.local;for(let m=0;m<u.length;m+=3)u[m+1]<0&&(u.splice(m,3),m-=3);for(let m=0,v=0;m<p.children.length;m+=3){let D=p.children[m];for(;v<u.length&&u[v]<D;)v+=3;u.splice(v,0,p.children[m],p.children[m+1],p.children[m+2])}}return new on(e.sort(ts),u)}function XD(n,e){if(!e||!n.length)return n;let t=[];for(let r=0;r<n.length;r++){let o=n[r];t.push(new wr(o.from+e,o.to+e,o.type))}return t}function TN(n,e,t,r,o,s,l){function u(f,d){for(let p=0;p<f.local.length;p++){let m=f.local[p].map(r,o,d);m?t.push(m):l.onRemove&&l.onRemove(f.local[p].spec)}for(let p=0;p<f.children.length;p+=3)u(f.children[p+2],f.children[p]+d+1)}for(let f=0;f<n.length;f+=3)n[f+1]==-1&&u(n[f+2],e[f]+s+1);return t}function QD(n,e,t){if(e.isLeaf)return null;let r=t+e.nodeSize,o=null;for(let s=0,l;s<n.length;s++)(l=n[s])&&l.from>t&&l.to<r&&((o||(o=[])).push(l),n[s]=null);return o}function ZD(n){let e=[];for(let t=0;t<n.length;t++)n[t]!=null&&e.push(n[t]);return e}function Vf(n,e,t,r){let o=[],s=!1;e.forEach((u,f)=>{let d=QD(n,u,f+t);if(d){s=!0;let p=Vf(d,u,t+f+1,r);p!=On&&o.push(f,f+u.nodeSize,p)}});let l=XD(s?ZD(n):n,-t).sort(ts);for(let u=0;u<l.length;u++)l[u].type.valid(e,l[u])||(r.onRemove&&r.onRemove(l[u].spec),l.splice(u--,1));return l.length||o.length?new on(l,o):On}function ts(n,e){return n.from-e.from||n.to-e.to}function $g(n){let e=n;for(let t=0;t<e.length-1;t++){let r=e[t];if(r.from!=r.to)for(let o=t+1;o<e.length;o++){let s=e[o];if(s.from==r.from){s.to!=r.to&&(e==n&&(e=n.slice()),e[o]=s.copy(s.from,r.to),Sb(e,o+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==n&&(e=n.slice()),e[t]=r.copy(r.from,s.from),Sb(e,o,r.copy(s.from,r.to)));break}}}return e}function Sb(n,e,t){for(;e<n.length&&ts(t,n[e])>0;)e++;n.splice(e,0,t)}function jd(n){let e=[];return n.someProp("decorations",t=>{let r=t(n.state);r&&r!=On&&e.push(r)}),n.cursorWrapper&&e.push(on.create(n.state.doc,[n.cursorWrapper.deco])),lo.from(e)}const ON={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},MN=nr&&yo<=11;class FN{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class NN{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new FN,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let o=0;o<r.length;o++)this.queue.push(r[o]);nr&&yo<=11&&r.some(o=>o.type=="childList"&&o.removedNodes.length||o.type=="characterData"&&o.oldValue.length>o.target.nodeValue.length)?this.flushSoon():this.flush()}),MN&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,ON)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(pb(this.view)){if(this.suppressingSelectionUpdates)return Li(this.view);if(nr&&yo<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&is(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,r;for(let s=e.focusNode;s;s=Pl(s))t.add(s);for(let s=e.anchorNode;s;s=Pl(s))if(t.has(s)){r=s;break}let o=r&&this.view.docView.nearestDesc(r);if(o&&o.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let r=e.domSelectionRange(),o=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&pb(e)&&!this.ignoreSelectionChange(r),s=-1,l=-1,u=!1,f=[];if(e.editable)for(let p=0;p<t.length;p++){let m=this.registerMutation(t[p],f);m&&(s=s<0?m.from:Math.min(m.from,s),l=l<0?m.to:Math.max(m.to,l),m.typeOver&&(u=!0))}if(_r&&f.length>1){let p=f.filter(m=>m.nodeName=="BR");if(p.length==2){let m=p[0],v=p[1];m.parentNode&&m.parentNode.parentNode==v.parentNode?v.remove():m.remove()}}let d=null;s<0&&o&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Bc(r)&&(d=Lg(e))&&d.eq(ft.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Li(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||o)&&(s>-1&&(e.docView.markDirty(s,l),RN(e)),this.handleDOMChange(s,l,u,f),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Li(e),this.currentSelection.set(r))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let p=0;p<e.addedNodes.length;p++)t.push(e.addedNodes[p]);if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let o=e.previousSibling,s=e.nextSibling;if(nr&&yo<=11&&e.addedNodes.length)for(let p=0;p<e.addedNodes.length;p++){let{previousSibling:m,nextSibling:v}=e.addedNodes[p];(!m||Array.prototype.indexOf.call(e.addedNodes,m)<0)&&(o=m),(!v||Array.prototype.indexOf.call(e.addedNodes,v)<0)&&(s=v)}let l=o&&o.parentNode==e.target?jn(o)+1:0,u=r.localPosFromDOM(e.target,l,-1),f=s&&s.parentNode==e.target?jn(s):e.target.childNodes.length,d=r.localPosFromDOM(e.target,f,1);return{from:u,to:d}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}let Cb=new WeakMap,xb=!1;function RN(n){if(!Cb.has(n)&&(Cb.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=_r,xb)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),xb=!0}}function LN(n){let e;function t(f){f.preventDefault(),f.stopImmediatePropagation(),e=f.getTargetRanges()[0]}n.dom.addEventListener("beforeinput",t,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",t,!0);let r=e.startContainer,o=e.startOffset,s=e.endContainer,l=e.endOffset,u=n.domAtPos(n.state.selection.anchor);return is(u.node,u.offset,s,l)&&([r,o,s,l]=[s,l,r,o]),{anchorNode:r,anchorOffset:o,focusNode:s,focusOffset:l}}function BN(n,e,t){let{node:r,fromOffset:o,toOffset:s,from:l,to:u}=n.docView.parseRange(e,t),f=n.domSelectionRange(),d,p=f.anchorNode;if(p&&n.dom.contains(p.nodeType==1?p:p.parentNode)&&(d=[{node:p,offset:f.anchorOffset}],Bc(f)||d.push({node:f.focusNode,offset:f.focusOffset})),Fn&&n.input.lastKeyCode===8)for(let M=s;M>o;M--){let R=r.childNodes[M-1],I=R.pmViewDesc;if(R.nodeName=="BR"&&!I){s=M;break}if(!I||I.size)break}let m=n.state.doc,v=n.someProp("domParser")||Bl.fromSchema(n.state.schema),D=m.resolve(l),w=null,k=v.parse(r,{topNode:D.parent,topMatch:D.parent.contentMatchAt(D.index()),topOpen:!0,from:o,to:s,preserveWhitespace:D.parent.type.whitespace=="pre"?"full":!0,findPositions:d,ruleFromNode:IN,context:D});if(d&&d[0].pos!=null){let M=d[0].pos,R=d[1]&&d[1].pos;R==null&&(R=M),w={anchor:M+l,head:R+l}}return{doc:k,sel:w,from:l,to:u}}function IN(n){let e=n.pmViewDesc;if(e)return e.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(qn&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(n.parentNode.lastChild==n||qn&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}const PN=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function zN(n,e,t,r,o){let s=n.input.compositionPendingChanges||(n.composing?n.input.compositionID:0);if(n.input.compositionPendingChanges=0,e<0){let V=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,J=Lg(n,V);if(J&&!n.state.selection.eq(J)){if(Fn&&Lr&&n.input.lastKeyCode===13&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",H=>H(n,Uo(13,"Enter"))))return;let U=n.state.tr.setSelection(J);V=="pointer"?U.setMeta("pointer",!0):V=="key"&&U.scrollIntoView(),s&&U.setMeta("composition",s),n.dispatch(U)}return}let l=n.state.doc.resolve(e),u=l.sharedDepth(t);e=l.before(u+1),t=n.state.doc.resolve(t).after(u+1);let f=n.state.selection,d=BN(n,e,t),p=n.state.doc,m=p.slice(d.from,d.to),v,D;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(v=n.state.selection.to,D="end"):(v=n.state.selection.from,D="start"),n.input.lastKeyCode=null;let w=HN(m.content,d.doc.content,d.from,v,D);if((ha&&n.input.lastIOSEnter>Date.now()-225||Lr)&&o.some(V=>V.nodeType==1&&!PN.test(V.nodeName))&&(!w||w.endA>=w.endB)&&n.someProp("handleKeyDown",V=>V(n,Uo(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!w)if(r&&f instanceof Dt&&!f.empty&&f.$head.sameParent(f.$anchor)&&!n.composing&&!(d.sel&&d.sel.anchor!=d.sel.head))w={start:f.from,endA:f.to,endB:f.to};else{if(d.sel){let V=Eb(n,n.state.doc,d.sel);if(V&&!V.eq(n.state.selection)){let J=n.state.tr.setSelection(V);s&&J.setMeta("composition",s),n.dispatch(J)}}return}if(Fn&&n.cursorWrapper&&d.sel&&d.sel.anchor==n.cursorWrapper.deco.from&&d.sel.head==d.sel.anchor){let V=w.endB-w.start;d.sel={anchor:d.sel.anchor+V,head:d.sel.anchor+V}}n.input.domChangeCount++,n.state.selection.from<n.state.selection.to&&w.start==w.endB&&n.state.selection instanceof Dt&&(w.start>n.state.selection.from&&w.start<=n.state.selection.from+2&&n.state.selection.from>=d.from?w.start=n.state.selection.from:w.endA<n.state.selection.to&&w.endA>=n.state.selection.to-2&&n.state.selection.to<=d.to&&(w.endB+=n.state.selection.to-w.endA,w.endA=n.state.selection.to)),nr&&yo<=11&&w.endB==w.start+1&&w.endA==w.start&&w.start>d.from&&d.doc.textBetween(w.start-d.from-1,w.start-d.from+1)==" Â "&&(w.start--,w.endA--,w.endB--);let k=d.doc.resolveNoCache(w.start-d.from),M=d.doc.resolveNoCache(w.endB-d.from),R=p.resolve(w.start),I=k.sameParent(M)&&k.parent.inlineContent&&R.end()>=w.endA,z;if((ha&&n.input.lastIOSEnter>Date.now()-225&&(!I||o.some(V=>V.nodeName=="DIV"||V.nodeName=="P"))||!I&&k.pos<d.doc.content.size&&!k.sameParent(M)&&(z=ft.findFrom(d.doc.resolve(k.pos+1),1,!0))&&z.head==M.pos)&&n.someProp("handleKeyDown",V=>V(n,Uo(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>w.start&&$N(p,w.start,w.endA,k,M)&&n.someProp("handleKeyDown",V=>V(n,Uo(8,"Backspace")))){Lr&&Fn&&n.domObserver.suppressSelectionUpdates();return}Fn&&Lr&&w.endB==w.start&&(n.input.lastAndroidDelete=Date.now()),Lr&&!I&&k.start()!=M.start()&&M.parentOffset==0&&k.depth==M.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==w.endA&&(w.endB-=2,M=d.doc.resolveNoCache(w.endB-d.from),setTimeout(()=>{n.someProp("handleKeyDown",function(V){return V(n,Uo(13,"Enter"))})},20));let b=w.start,x=w.endA,T,B,$;if(I){if(k.pos==M.pos)nr&&yo<=11&&k.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>Li(n),20)),T=n.state.tr.delete(b,x),B=p.resolve(w.start).marksAcross(p.resolve(w.endA));else if(w.endA==w.endB&&($=_N(k.parent.content.cut(k.parentOffset,M.parentOffset),R.parent.content.cut(R.parentOffset,w.endA-R.start()))))T=n.state.tr,$.type=="add"?T.addMark(b,x,$.mark):T.removeMark(b,x,$.mark);else if(k.parent.child(k.index()).isText&&k.index()==M.index()-(M.textOffset?0:1)){let V=k.parent.textBetween(k.parentOffset,M.parentOffset);if(n.someProp("handleTextInput",J=>J(n,b,x,V)))return;T=n.state.tr.insertText(V,b,x)}}if(T||(T=n.state.tr.replace(b,x,d.doc.slice(w.start-d.from,w.endB-d.from))),d.sel){let V=Eb(n,T.doc,d.sel);V&&!(Fn&&Lr&&n.composing&&V.empty&&(w.start!=w.endB||n.input.lastAndroidDelete<Date.now()-100)&&(V.head==b||V.head==T.mapping.map(x)-1)||nr&&V.empty&&V.head==b)&&T.setSelection(V)}B&&T.ensureMarks(B),s&&T.setMeta("composition",s),n.dispatch(T.scrollIntoView())}function Eb(n,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:Bg(n,e.resolve(t.anchor),e.resolve(t.head))}function _N(n,e){let t=n.firstChild.marks,r=e.firstChild.marks,o=t,s=r,l,u,f;for(let p=0;p<r.length;p++)o=r[p].removeFromSet(o);for(let p=0;p<t.length;p++)s=t[p].removeFromSet(s);if(o.length==1&&s.length==0)u=o[0],l="add",f=p=>p.mark(u.addToSet(p.marks));else if(o.length==0&&s.length==1)u=s[0],l="remove",f=p=>p.mark(u.removeFromSet(p.marks));else return null;let d=[];for(let p=0;p<e.childCount;p++)d.push(f(e.child(p)));if(ke.from(d).eq(n))return{mark:u,type:l}}function $N(n,e,t,r,o){if(!r.parent.isTextblock||t-e<=o.pos-r.pos||Ud(r,!0,!1)<o.pos)return!1;let s=n.resolve(e);if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let l=n.resolve(Ud(s,!0,!0));return!l.parent.isTextblock||l.pos>t||Ud(l,!0,!1)<t?!1:r.parent.content.cut(r.parentOffset).eq(l.parent.content)}function Ud(n,e,t){let r=n.depth,o=e?n.end():n.pos;for(;r>0&&(e||n.indexAfter(r)==n.node(r).childCount);)r--,o++,e=!1;if(t){let s=n.node(r).maybeChild(n.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,o++}return o}function HN(n,e,t,r,o){let s=n.findDiffStart(e,t);if(s==null)return null;let{a:l,b:u}=n.findDiffEnd(e,t+n.size,t+e.size);if(o=="end"){let f=Math.max(0,s-Math.min(l,u));r-=l+f-s}if(l<s&&n.size<e.size){let f=r<=s&&r>=l?s-r:0;s-=f,s&&s<e.size&&kb(e.textBetween(s-1,s+1))&&(s+=f?1:-1),u=s+(u-l),l=s}else if(u<s){let f=r<=s&&r>=u?s-r:0;s-=f,s&&s<n.size&&kb(n.textBetween(s-1,s+1))&&(s+=f?1:-1),l=s+(l-u),u=s}return{start:s,endA:l,endB:u}}function kb(n){if(n.length!=2)return!1;let e=n.charCodeAt(0),t=n.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class HL{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new uN,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(Fb),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Ob(this),Tb(this),this.nodeViews=Mb(this),this.docView=lb(this.state.doc,Ab(this),jd(this),this.dom,this),this.domObserver=new NN(this,(r,o,s,l)=>zN(this,r,o,s,l)),this.domObserver.start(),fN(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Yp(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Fb),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let r in this._props)t[r]=this._props[r];t.state=this.state;for(let r in e)t[r]=e[r];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var r;let o=this.state,s=!1,l=!1;e.storedMarks&&this.composing&&(KD(this),l=!0),this.state=e;let u=o.plugins!=e.plugins||this._props.plugins!=t.plugins;if(u||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let D=Mb(this);jN(D,this.nodeViews)&&(this.nodeViews=D,s=!0)}(u||t.handleDOMEvents!=this._props.handleDOMEvents)&&Yp(this),this.editable=Ob(this),Tb(this);let f=jd(this),d=Ab(this),p=o.plugins!=e.plugins&&!o.doc.eq(e.doc)?"reset":e.scrollToSelection>o.scrollToSelection?"to selection":"preserve",m=s||!this.docView.matchesNode(e.doc,d,f);(m||!e.selection.eq(o.selection))&&(l=!0);let v=p=="preserve"&&l&&this.dom.style.overflowAnchor==null&&x2(this);if(l){this.domObserver.stop();let D=m&&(nr||Fn)&&!this.composing&&!o.selection.empty&&!e.selection.empty&&WN(o.selection,e.selection);if(m){let w=Fn?this.trackWrites=this.domSelectionRange().focusNode:null;(s||!this.docView.update(e.doc,d,f,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=lb(e.doc,d,f,this.dom,this)),w&&!this.trackWrites&&(D=!0)}D||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&J2(this))?Li(this,D):(LD(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(o),!((r=this.dragging)===null||r===void 0)&&r.node&&!o.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,o),p=="reset"?this.dom.scrollTop=0:p=="to selection"?this.scrollToSelection():v&&E2(v)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof Xe){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&nb(this,t.getBoundingClientRect(),e)}else nb(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let r=this.directPlugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let r=this.state.plugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let r=this.pluginViews[t];r.update&&r.update(this,e)}}updateDraggedNode(e,t){let r=e.node,o=-1;if(this.state.doc.nodeAt(r.from)==r.node)o=r.from;else{let s=r.from+(this.state.doc.content.size-t.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(o=s)}this.dragging=new JD(e.slice,e.move,o<0?void 0:Xe.create(this.state.doc,o))}someProp(e,t){let r=this._props&&this._props[e],o;if(r!=null&&(o=t?t(r):r))return o;for(let l=0;l<this.directPlugins.length;l++){let u=this.directPlugins[l].props[e];if(u!=null&&(o=t?t(u):u))return o}let s=this.state.plugins;if(s)for(let l=0;l<s.length;l++){let u=s[l].props[e];if(u!=null&&(o=t?t(u):u))return o}}hasFocus(){if(nr){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&k2(this.dom),Li(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return F2(this,e)}coordsAtPos(e,t=1){return kD(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,r=-1){let o=this.docView.posFromDOM(e,t,r);if(o==null)throw new RangeError("DOM position not inside the editor");return o}endOfTextblock(e,t){return I2(this,t||this.state,e)}pasteHTML(e,t){return _l(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return _l(this,e,null,!0,t||new ClipboardEvent("paste"))}destroy(){this.docView&&(cN(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],jd(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return this.docView==null}dispatchEvent(e){return dN(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){return qn&&this.root.nodeType===11&&v2(this.dom.ownerDocument)==this.dom?LN(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function Ab(n){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(n.editable),n.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(n.state)),t)for(let r in t)r=="class"?e.class+=" "+t[r]:r=="style"?e.style=(e.style?e.style+";":"")+t[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(t[r]))}),e.translate||(e.translate="no"),[wr.node(0,n.state.doc.content.size,e)]}function Tb(n){if(n.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),n.cursorWrapper={dom:e,deco:wr.widget(n.state.selection.head,e,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function Ob(n){return!n.someProp("editable",e=>e(n.state)===!1)}function WN(n,e){let t=Math.min(n.$anchor.sharedDepth(n.head),e.$anchor.sharedDepth(e.head));return n.$anchor.start(t)!=e.$anchor.start(t)}function Mb(n){let e=Object.create(null);function t(r){for(let o in r)Object.prototype.hasOwnProperty.call(e,o)||(e[o]=r[o])}return n.someProp("nodeViews",t),n.someProp("markViews",t),e}function jN(n,e){let t=0,r=0;for(let o in n){if(n[o]!=e[o])return!0;t++}for(let o in e)r++;return t!=r}function Fb(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Co={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},qf={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},UN=typeof navigator<"u"&&/Mac/.test(navigator.platform),VN=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Dn=0;Dn<10;Dn++)Co[48+Dn]=Co[96+Dn]=String(Dn);for(var Dn=1;Dn<=24;Dn++)Co[Dn+111]="F"+Dn;for(var Dn=65;Dn<=90;Dn++)Co[Dn]=String.fromCharCode(Dn+32),qf[Dn]=String.fromCharCode(Dn);for(var Vd in Co)qf.hasOwnProperty(Vd)||(qf[Vd]=Co[Vd]);function qN(n){var e=UN&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||VN&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?qf:Co)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const KN=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function GN(n){let e=n.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let r,o,s,l;for(let u=0;u<e.length-1;u++){let f=e[u];if(/^(cmd|meta|m)$/i.test(f))l=!0;else if(/^a(lt)?$/i.test(f))r=!0;else if(/^(c|ctrl|control)$/i.test(f))o=!0;else if(/^s(hift)?$/i.test(f))s=!0;else if(/^mod$/i.test(f))KN?l=!0:o=!0;else throw new Error("Unrecognized modifier name: "+f)}return r&&(t="Alt-"+t),o&&(t="Ctrl-"+t),l&&(t="Meta-"+t),s&&(t="Shift-"+t),t}function JN(n){let e=Object.create(null);for(let t in n)e[GN(t)]=n[t];return e}function qd(n,e,t=!0){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t&&e.shiftKey&&(n="Shift-"+n),n}function WL(n){return new Lc({props:{handleKeyDown:eS(n)}})}function eS(n){let e=JN(n);return function(t,r){let o=qN(r),s,l=e[qd(o,r)];if(l&&l(t.state,t.dispatch,t))return!0;if(o.length==1&&o!=" "){if(r.shiftKey){let u=e[qd(o,r,!1)];if(u&&u(t.state,t.dispatch,t))return!0}if((r.shiftKey||r.altKey||r.metaKey||o.charCodeAt(0)>127)&&(s=Co[r.keyCode])&&s!=o){let u=e[qd(s,r)];if(u&&u(t.state,t.dispatch,t))return!0}}return!1}}const jL=(n,e)=>n.selection.empty?!1:(e&&e(n.tr.deleteSelection().scrollIntoView()),!0);function tS(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("backward",n):t.parentOffset>0)?null:t}const UL=(n,e,t)=>{let r=tS(n,t);if(!r)return!1;let o=Hg(r);if(!o){let l=r.blockRange(),u=l&&Xl(l);return u==null?!1:(e&&e(n.tr.lift(l,u).scrollIntoView()),!0)}let s=o.nodeBefore;if(!s.type.spec.isolating&&oS(n,o,e))return!0;if(r.parent.content.size==0&&(da(s,"end")||Xe.isSelectable(s))){let l=Nc(n.doc,r.before(),r.after(),Le.empty);if(l&&l.slice.size<l.to-l.from){if(e){let u=n.tr.step(l);u.setSelection(da(s,"end")?ft.findFrom(u.doc.resolve(u.mapping.map(o.pos,-1)),-1):Xe.create(u.doc,o.pos-s.nodeSize)),e(u.scrollIntoView())}return!0}}return s.isAtom&&o.depth==r.depth-1?(e&&e(n.tr.delete(o.pos-s.nodeSize,o.pos).scrollIntoView()),!0):!1},VL=(n,e,t)=>{let r=tS(n,t);if(!r)return!1;let o=Hg(r);return o?nS(n,o,e):!1},qL=(n,e,t)=>{let r=rS(n,t);if(!r)return!1;let o=Wg(r);return o?nS(n,o,e):!1};function nS(n,e,t){let r=e.nodeBefore,o=r,s=e.pos-1;for(;!o.isTextblock;s--){if(o.type.spec.isolating)return!1;let p=o.lastChild;if(!p)return!1;o=p}let l=e.nodeAfter,u=l,f=e.pos+1;for(;!u.isTextblock;f++){if(u.type.spec.isolating)return!1;let p=u.firstChild;if(!p)return!1;u=p}let d=Nc(n.doc,s,f,Le.empty);if(!d||d.from!=s||d instanceof wn&&d.slice.size>=f-s)return!1;if(t){let p=n.tr.step(d);p.setSelection(Dt.create(p.doc,s)),t(p.scrollIntoView())}return!0}function da(n,e,t=!1){for(let r=n;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(t&&r.childCount!=1)return!1}return!1}const KL=(n,e,t)=>{let{$head:r,empty:o}=n.selection,s=r;if(!o)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("backward",n):r.parentOffset>0)return!1;s=Hg(r)}let l=s&&s.nodeBefore;return!l||!Xe.isSelectable(l)?!1:(e&&e(n.tr.setSelection(Xe.create(n.doc,s.pos-l.nodeSize)).scrollIntoView()),!0)};function Hg(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){if(n.index(e)>0)return n.doc.resolve(n.before(e+1));if(n.node(e).type.spec.isolating)break}return null}function rS(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("forward",n):t.parentOffset<t.parent.content.size)?null:t}const GL=(n,e,t)=>{let r=rS(n,t);if(!r)return!1;let o=Wg(r);if(!o)return!1;let s=o.nodeAfter;if(oS(n,o,e))return!0;if(r.parent.content.size==0&&(da(s,"start")||Xe.isSelectable(s))){let l=Nc(n.doc,r.before(),r.after(),Le.empty);if(l&&l.slice.size<l.to-l.from){if(e){let u=n.tr.step(l);u.setSelection(da(s,"start")?ft.findFrom(u.doc.resolve(u.mapping.map(o.pos)),1):Xe.create(u.doc,u.mapping.map(o.pos))),e(u.scrollIntoView())}return!0}}return s.isAtom&&o.depth==r.depth-1?(e&&e(n.tr.delete(o.pos,o.pos+s.nodeSize).scrollIntoView()),!0):!1},JL=(n,e,t)=>{let{$head:r,empty:o}=n.selection,s=r;if(!o)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("forward",n):r.parentOffset<r.parent.content.size)return!1;s=Wg(r)}let l=s&&s.nodeAfter;return!l||!Xe.isSelectable(l)?!1:(e&&e(n.tr.setSelection(Xe.create(n.doc,s.pos)).scrollIntoView()),!0)};function Wg(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){let t=n.node(e);if(n.index(e)+1<t.childCount)return n.doc.resolve(n.after(e+1));if(t.type.spec.isolating)break}return null}const YL=(n,e)=>{let t=n.selection,r=t instanceof Xe,o;if(r){if(t.node.isTextblock||!Ql(n.doc,t.from))return!1;o=t.from}else if(o=hD(n.doc,t.from,-1),o==null)return!1;if(e){let s=n.tr.join(o);r&&s.setSelection(Xe.create(s.doc,o-n.doc.resolve(o).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},XL=(n,e)=>{let t=n.selection,r;if(t instanceof Xe){if(t.node.isTextblock||!Ql(n.doc,t.to))return!1;r=t.to}else if(r=hD(n.doc,t.to,1),r==null)return!1;return e&&e(n.tr.join(r).scrollIntoView()),!0},QL=(n,e)=>{let{$from:t,$to:r}=n.selection,o=t.blockRange(r),s=o&&Xl(o);return s==null?!1:(e&&e(n.tr.lift(o,s).scrollIntoView()),!0)},ZL=(n,e)=>{let{$head:t,$anchor:r}=n.selection;return!t.parent.type.spec.code||!t.sameParent(r)?!1:(e&&e(n.tr.insertText(`
`).scrollIntoView()),!0)};function iS(n){for(let e=0;e<n.edgeCount;e++){let{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const eB=(n,e)=>{let{$head:t,$anchor:r}=n.selection;if(!t.parent.type.spec.code||!t.sameParent(r))return!1;let o=t.node(-1),s=t.indexAfter(-1),l=iS(o.contentMatchAt(s));if(!l||!o.canReplaceWith(s,s,l))return!1;if(e){let u=t.after(),f=n.tr.replaceWith(u,u,l.createAndFill());f.setSelection(ft.near(f.doc.resolve(u),1)),e(f.scrollIntoView())}return!0},tB=(n,e)=>{let t=n.selection,{$from:r,$to:o}=t;if(t instanceof Pr||r.parent.inlineContent||o.parent.inlineContent)return!1;let s=iS(o.parent.contentMatchAt(o.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let l=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,u=n.tr.insert(l,s.createAndFill());u.setSelection(Dt.create(u.doc,l+1)),e(u.scrollIntoView())}return!0},nB=(n,e)=>{let{$cursor:t}=n.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let s=t.before();if(fD(n.doc,s))return e&&e(n.tr.split(s).scrollIntoView()),!0}let r=t.blockRange(),o=r&&Xl(r);return o==null?!1:(e&&e(n.tr.lift(r,o).scrollIntoView()),!0)},rB=(n,e)=>{let{$from:t,to:r}=n.selection,o,s=t.sharedDepth(r);return s==0?!1:(o=t.before(s),e&&e(n.tr.setSelection(Xe.create(n.doc,o))),!0)};function YN(n,e,t){let r=e.nodeBefore,o=e.nodeAfter,s=e.index();return!r||!o||!r.type.compatibleContent(o.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(t&&t(n.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(o.isTextblock||Ql(n.doc,e.pos))?!1:(t&&t(n.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),!0)}function oS(n,e,t){let r=e.nodeBefore,o=e.nodeAfter,s,l;if(r.type.spec.isolating||o.type.spec.isolating)return!1;if(YN(n,e,t))return!0;let u=e.parent.canReplace(e.index(),e.index()+1);if(u&&(s=(l=r.contentMatchAt(r.childCount)).findWrapping(o.type))&&l.matchType(s[0]||o.type).validEnd){if(t){let m=e.pos+o.nodeSize,v=ke.empty;for(let k=s.length-1;k>=0;k--)v=ke.from(s[k].create(null,v));v=ke.from(r.copy(v));let D=n.tr.step(new xn(e.pos-1,m,e.pos,m,new Le(v,1,0),s.length,!0)),w=m+2*s.length;Ql(D.doc,w)&&D.join(w),t(D.scrollIntoView())}return!0}let f=ft.findFrom(e,1),d=f&&f.$from.blockRange(f.$to),p=d&&Xl(d);if(p!=null&&p>=e.depth)return t&&t(n.tr.lift(d,p).scrollIntoView()),!0;if(u&&da(o,"start",!0)&&da(r,"end")){let m=r,v=[];for(;v.push(m),!m.isTextblock;)m=m.lastChild;let D=o,w=1;for(;!D.isTextblock;D=D.firstChild)w++;if(m.canReplace(m.childCount,m.childCount,D.content)){if(t){let k=ke.empty;for(let R=v.length-1;R>=0;R--)k=ke.from(v[R].copy(k));let M=n.tr.step(new xn(e.pos-v.length,e.pos+o.nodeSize,e.pos+w,e.pos+o.nodeSize-w,new Le(k,v.length,0),0,!0));t(M.scrollIntoView())}return!0}}return!1}function sS(n){return function(e,t){let r=e.selection,o=n<0?r.$from:r.$to,s=o.depth;for(;o.node(s).isInline;){if(!s)return!1;s--}return o.node(s).isTextblock?(t&&t(e.tr.setSelection(Dt.create(e.doc,n<0?o.start(s):o.end(s)))),!0):!1}}const iB=sS(-1),oB=sS(1);function sB(n,e=null){return function(t,r){let{$from:o,$to:s}=t.selection,l=o.blockRange(s),u=l&&uD(l,n,e);return u?(r&&r(t.tr.wrap(l,u).scrollIntoView()),!0):!1}}function aB(n,e=null){return function(t,r){let o=!1;for(let s=0;s<t.selection.ranges.length&&!o;s++){let{$from:{pos:l},$to:{pos:u}}=t.selection.ranges[s];t.doc.nodesBetween(l,u,(f,d)=>{if(o)return!1;if(!(!f.isTextblock||f.hasMarkup(n,e)))if(f.type==n)o=!0;else{let p=t.doc.resolve(d),m=p.index();o=p.parent.canReplaceWith(m,m+1,n)}})}if(!o)return!1;if(r){let s=t.tr;for(let l=0;l<t.selection.ranges.length;l++){let{$from:{pos:u},$to:{pos:f}}=t.selection.ranges[l];s.setBlockType(u,f,n,e)}r(s.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function lB(n,e=null){return function(t,r){let{$from:o,$to:s}=t.selection,l=o.blockRange(s),u=!1,f=l;if(!l)return!1;if(l.depth>=2&&o.node(l.depth-1).type.compatibleContent(n)&&l.startIndex==0){if(o.index(l.depth-1)==0)return!1;let p=t.doc.resolve(l.start-2);f=new zf(p,p,l.depth),l.endIndex<l.parent.childCount&&(l=new zf(o,t.doc.resolve(s.end(l.depth)),l.depth)),u=!0}let d=uD(f,n,e,l);return d?(r&&r(XN(t.tr,l,d,u,n).scrollIntoView()),!0):!1}}function XN(n,e,t,r,o){let s=ke.empty;for(let p=t.length-1;p>=0;p--)s=ke.from(t[p].type.create(t[p].attrs,s));n.step(new xn(e.start-(r?2:0),e.end,e.start,e.end,new Le(s,0,0),t.length,!0));let l=0;for(let p=0;p<t.length;p++)t[p].type==o&&(l=p+1);let u=t.length-l,f=e.start+t.length-(r?2:0),d=e.parent;for(let p=e.startIndex,m=e.endIndex,v=!0;p<m;p++,v=!1)!v&&fD(n.doc,f,u)&&(n.split(f,u),f+=2*u),f+=d.child(p).nodeSize;return n}function uB(n){return function(e,t){let{$from:r,$to:o}=e.selection,s=r.blockRange(o,l=>l.childCount>0&&l.firstChild.type==n);return s?t?r.node(s.depth-1).type==n?QN(e,t,n,s):ZN(e,t,s):!0:!1}}function QN(n,e,t,r){let o=n.tr,s=r.end,l=r.$to.end(r.depth);s<l&&(o.step(new xn(s-1,l,s,l,new Le(ke.from(t.create(null,r.parent.copy())),1,0),1,!0)),r=new zf(o.doc.resolve(r.$from.pos),o.doc.resolve(l),r.depth));const u=Xl(r);if(u==null)return!1;o.lift(r,u);let f=o.mapping.map(s,-1)-1;return Ql(o.doc,f)&&o.join(f),e(o.scrollIntoView()),!0}function ZN(n,e,t){let r=n.tr,o=t.parent;for(let D=t.end,w=t.endIndex-1,k=t.startIndex;w>k;w--)D-=o.child(w).nodeSize,r.delete(D-1,D+1);let s=r.doc.resolve(t.start),l=s.nodeAfter;if(r.mapping.map(t.end)!=t.start+s.nodeAfter.nodeSize)return!1;let u=t.startIndex==0,f=t.endIndex==o.childCount,d=s.node(-1),p=s.index(-1);if(!d.canReplace(p+(u?0:1),p+1,l.content.append(f?ke.empty:ke.from(o))))return!1;let m=s.pos,v=m+l.nodeSize;return r.step(new xn(m-(u?1:0),v+(f?1:0),m+1,v-1,new Le((u?ke.empty:ke.from(o.copy(ke.empty))).append(f?ke.empty:ke.from(o.copy(ke.empty))),u?0:1,f?0:1),u?0:1)),e(r.scrollIntoView()),!0}function fB(n){return function(e,t){let{$from:r,$to:o}=e.selection,s=r.blockRange(o,d=>d.childCount>0&&d.firstChild.type==n);if(!s)return!1;let l=s.startIndex;if(l==0)return!1;let u=s.parent,f=u.child(l-1);if(f.type!=n)return!1;if(t){let d=f.lastChild&&f.lastChild.type==u.type,p=ke.from(d?n.create():null),m=new Le(ke.from(n.create(null,ke.from(u.type.create(null,p)))),d?3:1,0),v=s.start,D=s.end;t(e.tr.step(new xn(v-(d?3:1),D,v,D,m,1,!0)).scrollIntoView())}return!0}}function cB(n={}){return new Lc({view(e){return new eR(e,n)}})}class eR{constructor(e,t){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=t.width)!==null&&r!==void 0?r:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(o=>{let s=l=>{this[o](l)};return e.dom.addEventListener(o,s),{name:o,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,r;if(t){let u=e.nodeBefore,f=e.nodeAfter;if(u||f){let d=this.editorView.nodeDOM(this.cursorPos-(u?u.nodeSize:0));if(d){let p=d.getBoundingClientRect(),m=u?p.bottom:p.top;u&&f&&(m=(m+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:p.left,right:p.right,top:m-this.width/2,bottom:m+this.width/2}}}}if(!r){let u=this.editorView.coordsAtPos(this.cursorPos);r={left:u.left-this.width/2,right:u.left+this.width/2,top:u.top,bottom:u.bottom}}let o=this.editorView.dom.offsetParent;this.element||(this.element=o.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let s,l;if(!o||o==document.body&&getComputedStyle(o).position=="static")s=-pageXOffset,l=-pageYOffset;else{let u=o.getBoundingClientRect();s=u.left-o.scrollLeft,l=u.top-o.scrollTop}this.element.style.left=r.left-s+"px",this.element.style.top=r.top-l+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),o=r&&r.type.spec.disableDropCursor,s=typeof o=="function"?o(this.editorView,t,e):o;if(t&&!s){let l=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let u=dD(this.editorView.state.doc,l,this.editorView.dragging.slice);u!=null&&(l=u)}this.setCursor(l),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}class $t extends ft{constructor(e){super(e,e)}map(e,t){let r=e.resolve(t.map(this.head));return $t.valid(r)?new $t(r):ft.near(r)}content(){return Le.empty}eq(e){return e instanceof $t&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new $t(e.resolve(t.pos))}getBookmark(){return new jg(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!tR(e)||!nR(e))return!1;let r=t.type.spec.allowGapCursor;if(r!=null)return r;let o=t.contentMatchAt(e.index()).defaultType;return o&&o.isTextblock}static findGapCursorFrom(e,t,r=!1){e:for(;;){if(!r&&$t.valid(e))return e;let o=e.pos,s=null;for(let l=e.depth;;l--){let u=e.node(l);if(t>0?e.indexAfter(l)<u.childCount:e.index(l)>0){s=u.child(t>0?e.indexAfter(l):e.index(l)-1);break}else if(l==0)return null;o+=t;let f=e.doc.resolve(o);if($t.valid(f))return f}for(;;){let l=t>0?s.firstChild:s.lastChild;if(!l){if(s.isAtom&&!s.isText&&!Xe.isSelectable(s)){e=e.doc.resolve(o+s.nodeSize*t),r=!1;continue e}break}s=l,o+=t;let u=e.doc.resolve(o);if($t.valid(u))return u}return null}}}$t.prototype.visible=!1;$t.findFrom=$t.findGapCursorFrom;ft.jsonID("gapcursor",$t);class jg{constructor(e){this.pos=e}map(e){return new jg(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return $t.valid(t)?new $t(t):ft.near(t)}}function tR(n){for(let e=n.depth;e>=0;e--){let t=n.index(e),r=n.node(e);if(t==0){if(r.type.spec.isolating)return!0;continue}for(let o=r.child(t-1);;o=o.lastChild){if(o.childCount==0&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}function nR(n){for(let e=n.depth;e>=0;e--){let t=n.indexAfter(e),r=n.node(e);if(t==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let o=r.child(t);;o=o.firstChild){if(o.childCount==0&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}function hB(){return new Lc({props:{decorations:sR,createSelectionBetween(n,e,t){return e.pos==t.pos&&$t.valid(t)?new $t(t):null},handleClick:iR,handleKeyDown:rR,handleDOMEvents:{beforeinput:oR}}})}const rR=eS({ArrowLeft:qu("horiz",-1),ArrowRight:qu("horiz",1),ArrowUp:qu("vert",-1),ArrowDown:qu("vert",1)});function qu(n,e){const t=n=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,o,s){let l=r.selection,u=e>0?l.$to:l.$from,f=l.empty;if(l instanceof Dt){if(!s.endOfTextblock(t)||u.depth==0)return!1;f=!1,u=r.doc.resolve(e>0?u.after():u.before())}let d=$t.findGapCursorFrom(u,e,f);return d?(o&&o(r.tr.setSelection(new $t(d))),!0):!1}}function iR(n,e,t){if(!n||!n.editable)return!1;let r=n.state.doc.resolve(e);if(!$t.valid(r))return!1;let o=n.posAtCoords({left:t.clientX,top:t.clientY});return o&&o.inside>-1&&Xe.isSelectable(n.state.doc.nodeAt(o.inside))?!1:(n.dispatch(n.state.tr.setSelection(new $t(r))),!0)}function oR(n,e){if(e.inputType!="insertCompositionText"||!(n.state.selection instanceof $t))return!1;let{$from:t}=n.state.selection,r=t.parent.contentMatchAt(t.index()).findWrapping(n.state.schema.nodes.text);if(!r)return!1;let o=ke.empty;for(let l=r.length-1;l>=0;l--)o=ke.from(r[l].createAndFill(null,o));let s=n.state.tr.replace(t.pos,t.pos,new Le(o,0,0));return s.setSelection(Dt.near(s.doc.resolve(t.pos+1))),n.dispatch(s),!1}function sR(n){if(!(n.selection instanceof $t))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",on.create(n.doc,[wr.widget(n.selection.head,e,{key:"gapcursor"})])}var Kf=200,dn=function(){};dn.prototype.append=function(e){return e.length?(e=dn.from(e),!this.length&&e||e.length<Kf&&this.leafAppend(e)||this.length<Kf&&e.leafPrepend(this)||this.appendInner(e)):this};dn.prototype.prepend=function(e){return e.length?dn.from(e).append(this):this};dn.prototype.appendInner=function(e){return new aR(this,e)};dn.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?dn.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};dn.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};dn.prototype.forEach=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length),t<=r?this.forEachInner(e,t,r,0):this.forEachInvertedInner(e,t,r,0)};dn.prototype.map=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length);var o=[];return this.forEach(function(s,l){return o.push(e(s,l))},t,r),o};dn.from=function(e){return e instanceof dn?e:e&&e.length?new aS(e):dn.empty};var aS=function(n){function e(r){n.call(this),this.values=r}n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(o,s){return o==0&&s==this.length?this:new e(this.values.slice(o,s))},e.prototype.getInner=function(o){return this.values[o]},e.prototype.forEachInner=function(o,s,l,u){for(var f=s;f<l;f++)if(o(this.values[f],u+f)===!1)return!1},e.prototype.forEachInvertedInner=function(o,s,l,u){for(var f=s-1;f>=l;f--)if(o(this.values[f],u+f)===!1)return!1},e.prototype.leafAppend=function(o){if(this.length+o.length<=Kf)return new e(this.values.concat(o.flatten()))},e.prototype.leafPrepend=function(o){if(this.length+o.length<=Kf)return new e(o.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(dn);dn.empty=new aS([]);var aR=function(n){function e(t,r){n.call(this),this.left=t,this.right=r,this.length=t.length+r.length,this.depth=Math.max(t.depth,r.depth)+1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,o,s,l){var u=this.left.length;if(o<u&&this.left.forEachInner(r,o,Math.min(s,u),l)===!1||s>u&&this.right.forEachInner(r,Math.max(o-u,0),Math.min(this.length,s)-u,l+u)===!1)return!1},e.prototype.forEachInvertedInner=function(r,o,s,l){var u=this.left.length;if(o>u&&this.right.forEachInvertedInner(r,o-u,Math.max(s,u)-u,l+u)===!1||s<u&&this.left.forEachInvertedInner(r,Math.min(o,u),s,l)===!1)return!1},e.prototype.sliceInner=function(r,o){if(r==0&&o==this.length)return this;var s=this.left.length;return o<=s?this.left.slice(r,o):r>=s?this.right.slice(r-s,o-s):this.left.slice(r,s).append(this.right.slice(0,o-s))},e.prototype.leafAppend=function(r){var o=this.right.leafAppend(r);if(o)return new e(this.left,o)},e.prototype.leafPrepend=function(r){var o=this.left.leafPrepend(r);if(o)return new e(o,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(dn);const lR=500;class Br{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let o,s;t&&(o=this.remapping(r,this.items.length),s=o.maps.length);let l=e.tr,u,f,d=[],p=[];return this.items.forEach((m,v)=>{if(!m.step){o||(o=this.remapping(r,v+1),s=o.maps.length),s--,p.push(m);return}if(o){p.push(new Gr(m.map));let D=m.step.map(o.slice(s)),w;D&&l.maybeStep(D).doc&&(w=l.mapping.maps[l.mapping.maps.length-1],d.push(new Gr(w,void 0,void 0,d.length+p.length))),s--,w&&o.appendMap(w,s)}else l.maybeStep(m.step);if(m.selection)return u=o?m.selection.map(o.slice(s)):m.selection,f=new Br(this.items.slice(0,r).append(p.reverse().concat(d)),this.eventCount-1),!1},this.items.length,0),{remaining:f,transform:l,selection:u}}addTransform(e,t,r,o){let s=[],l=this.eventCount,u=this.items,f=!o&&u.length?u.get(u.length-1):null;for(let p=0;p<e.steps.length;p++){let m=e.steps[p].invert(e.docs[p]),v=new Gr(e.mapping.maps[p],m,t),D;(D=f&&f.merge(v))&&(v=D,p?s.pop():u=u.slice(0,u.length-1)),s.push(v),t&&(l++,t=void 0),o||(f=v)}let d=l-r.depth;return d>fR&&(u=uR(u,d),l-=d),new Br(u.append(s),l)}remapping(e,t){let r=new ta;return this.items.forEach((o,s)=>{let l=o.mirrorOffset!=null&&s-o.mirrorOffset>=e?r.maps.length-o.mirrorOffset:void 0;r.appendMap(o.map,l)},e,t),r}addMaps(e){return this.eventCount==0?this:new Br(this.items.append(e.map(t=>new Gr(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let r=[],o=Math.max(0,this.items.length-t),s=e.mapping,l=e.steps.length,u=this.eventCount;this.items.forEach(v=>{v.selection&&u--},o);let f=t;this.items.forEach(v=>{let D=s.getMirror(--f);if(D==null)return;l=Math.min(l,D);let w=s.maps[D];if(v.step){let k=e.steps[D].invert(e.docs[D]),M=v.selection&&v.selection.map(s.slice(f+1,D));M&&u++,r.push(new Gr(w,k,M))}else r.push(new Gr(w))},o);let d=[];for(let v=t;v<l;v++)d.push(new Gr(s.maps[v]));let p=this.items.slice(0,o).append(d).append(r),m=new Br(p,u);return m.emptyItemCount()>lR&&(m=m.compress(this.items.length-r.length)),m}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),r=t.maps.length,o=[],s=0;return this.items.forEach((l,u)=>{if(u>=e)o.push(l),l.selection&&s++;else if(l.step){let f=l.step.map(t.slice(r)),d=f&&f.getMap();if(r--,d&&t.appendMap(d,r),f){let p=l.selection&&l.selection.map(t.slice(r));p&&s++;let m=new Gr(d.invert(),f,p),v,D=o.length-1;(v=o.length&&o[D].merge(m))?o[D]=v:o.push(m)}}else l.map&&r--},this.items.length,0),new Br(dn.from(o.reverse()),s)}}Br.empty=new Br(dn.empty,0);function uR(n,e){let t;return n.forEach((r,o)=>{if(r.selection&&e--==0)return t=o,!1}),n.slice(t)}class Gr{constructor(e,t,r,o){this.map=e,this.step=t,this.selection=r,this.mirrorOffset=o}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new Gr(t.getMap().invert(),t,this.selection)}}}class oo{constructor(e,t,r,o,s){this.done=e,this.undone=t,this.prevRanges=r,this.prevTime=o,this.prevComposition=s}}const fR=20;function cR(n,e,t,r){let o=t.getMeta(Do),s;if(o)return o.historyState;t.getMeta(dR)&&(n=new oo(n.done,n.undone,null,0,-1));let l=t.getMeta("appendedTransaction");if(t.steps.length==0)return n;if(l&&l.getMeta(Do))return l.getMeta(Do).redo?new oo(n.done.addTransform(t,void 0,r,mf(e)),n.undone,Nb(t.mapping.maps[t.steps.length-1]),n.prevTime,n.prevComposition):new oo(n.done,n.undone.addTransform(t,void 0,r,mf(e)),null,n.prevTime,n.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(l&&l.getMeta("addToHistory")===!1)){let u=t.getMeta("composition"),f=n.prevTime==0||!l&&n.prevComposition!=u&&(n.prevTime<(t.time||0)-r.newGroupDelay||!hR(t,n.prevRanges)),d=l?Kd(n.prevRanges,t.mapping):Nb(t.mapping.maps[t.steps.length-1]);return new oo(n.done.addTransform(t,f?e.selection.getBookmark():void 0,r,mf(e)),Br.empty,d,t.time,u??n.prevComposition)}else return(s=t.getMeta("rebased"))?new oo(n.done.rebased(t,s),n.undone.rebased(t,s),Kd(n.prevRanges,t.mapping),n.prevTime,n.prevComposition):new oo(n.done.addMaps(t.mapping.maps),n.undone.addMaps(t.mapping.maps),Kd(n.prevRanges,t.mapping),n.prevTime,n.prevComposition)}function hR(n,e){if(!e)return!1;if(!n.docChanged)return!0;let t=!1;return n.mapping.maps[0].forEach((r,o)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&o>=e[s]&&(t=!0)}),t}function Nb(n){let e=[];return n.forEach((t,r,o,s)=>e.push(o,s)),e}function Kd(n,e){if(!n)return null;let t=[];for(let r=0;r<n.length;r+=2){let o=e.map(n[r],1),s=e.map(n[r+1],-1);o<=s&&t.push(o,s)}return t}function lS(n,e,t,r){let o=mf(e),s=Do.get(e).spec.config,l=(r?n.undone:n.done).popEvent(e,o);if(!l)return;let u=l.selection.resolve(l.transform.doc),f=(r?n.done:n.undone).addTransform(l.transform,e.selection.getBookmark(),s,o),d=new oo(r?f:l.remaining,r?l.remaining:f,null,0,-1);t(l.transform.setSelection(u).setMeta(Do,{redo:r,historyState:d}).scrollIntoView())}let Gd=!1,Rb=null;function mf(n){let e=n.plugins;if(Rb!=e){Gd=!1,Rb=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){Gd=!0;break}}return Gd}const Do=new wD("history"),dR=new wD("closeHistory");function dB(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new Lc({key:Do,state:{init(){return new oo(Br.empty,Br.empty,null,0,-1)},apply(e,t,r){return cR(t,r,e,n)}},config:n,props:{handleDOMEvents:{beforeinput(e,t){let r=t.inputType,o=r=="historyUndo"?pR:r=="historyRedo"?gR:null;return o?(t.preventDefault(),o(e.state,e.dispatch)):!1}}}})}const pR=(n,e)=>{let t=Do.getState(n);return!t||t.done.eventCount==0?!1:(e&&lS(t,n,e,!1),!0)},gR=(n,e)=>{let t=Do.getState(n);return!t||t.undone.eventCount==0?!1:(e&&lS(t,n,e,!0),!0)},mR="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4vianca6w0s2x0a2z0ure5ba0by2idu3namex3narepublic11d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2tura4vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9dnavy5lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp2w2ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mÃ¶gensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",vR="ÎµÎ»1Ï2Ð±Ð³1ÐµÐ»3Ð´ÐµÑÐ¸4ÐµÑ2ÐºÐ°ÑÐ¾Ð»Ð¸Ðº6Ð¾Ð¼3Ð¼ÐºÐ´2Ð¾Ð½1ÑÐºÐ²Ð°6Ð¾Ð½Ð»Ð°Ð¹Ð½5ÑÐ³3ÑÑÑ2Ñ2ÑÐ°Ð¹Ñ3ÑÐ±3ÑÐºÑ3ÒÐ°Ð·3Õ°Õ¡Õµ3××©×¨××5×§××3Ø§Ø¨ÙØ¸Ø¨Ù5Ø±Ø§ÙÙÙ5ÙØ§Ø±Ø¯Ù4Ø¨Ø­Ø±ÙÙ5Ø¬Ø²Ø§Ø¦Ø±5Ø³Ø¹ÙØ¯ÙØ©6Ø¹ÙÙØ§Ù5ÙØºØ±Ø¨5ÙØ§Ø±Ø§Øª5ÛØ±Ø§Ù5Ø¨Ø§Ø±Øª2Ø²Ø§Ø±4ÙØªÙ3Ú¾Ø§Ø±Øª5ØªÙÙØ³4Ø³ÙØ¯Ø§Ù3Ø±ÙØ©5Ø´Ø¨ÙØ©4Ø¹Ø±Ø§Ù2Ø¨2ÙØ§Ù4ÙÙØ³Ø·ÙÙ6ÙØ·Ø±3ÙØ§Ø«ÙÙÙÙ6ÙÙ3ÙØµØ±2ÙÙØ³ÙØ§5ÙØ±ÙØªØ§ÙÙØ§7ÙØ¹4ÙÙØ±Ø§Ù5Ù¾Ø§Ú©Ø³ØªØ§Ù7ÚØ§Ø±Øª4à¤à¥à¤®3à¤¨à¥à¤3à¤­à¤¾à¤°à¤¤0à¤®à¥3à¥à¤¤5à¤¸à¤à¤à¤ à¤¨5à¦¬à¦¾à¦à¦²à¦¾5à¦­à¦¾à¦°à¦¤2à§°à¦¤4à¨­à¨¾à¨°à¨¤4àª­àª¾àª°àª¤4à¬­à¬¾à¬°à¬¤4à®à®¨à¯à®¤à®¿à®¯à®¾6à®²à®à¯à®à¯6à®à®¿à®à¯à®à®ªà¯à®ªà¯à®°à¯11à°­à°¾à°°à°¤à±5à²­à²¾à²°à²¤4à´­à´¾à´°à´¤à´5à¶½à¶à¶à·4à¸à¸­à¸¡3à¹à¸à¸¢3àº¥àº²àº§3áá2ã¿ããª3ã¢ãã¾ã³4ã¯ã©ã¦ã4ã°ã¼ã°ã«4ã³ã 2ã¹ãã¢3ã»ã¼ã«3ãã¡ãã·ã§ã³6ãã¤ã³ã4ä¸ç2ä¸­ä¿¡1å½1å1æç½3äºé©¬é3ä¼ä¸2ä½å±±2ä¿¡æ¯2å¥åº·2å«å¦2å¬å¸1ç2å°æ¹¾1ç£2åå1åº1æ 2åé0å¤§éåº5å¨çº¿2å¤§æ¿2å¤©ä¸»æ3å¨±ä¹2å®¶é»2å¹¿ä¸2å¾®å2æå2æç±ä½ 3ææº2æè2æ¿å¡1åº2æ°å å¡2é»2æ¶å°2æ¸ç±2æºæ2æ·¡é©¬é¡3æ¸¸æ2æ¾³é2ç¹ç2ç§»å¨2ç»ç»æºæ4ç½å1åº1ç«1ç»2èé2è°·æ­2è´­ç©2éè²©2éå¢2é»è¨çç§4é£å©æµ¦3é£å2é¤å2é¦æ ¼éæ3æ¸¯2ë·ë·1ì»´2ì¼ì±2íêµ­2",pa=(n,e)=>{for(const t in e)n[t]=e[t];return n},Xp="numeric",Qp="ascii",Zp="alpha",vf="asciinumeric",Ku="alphanumeric",eg="domain",uS="emoji",yR="scheme",bR="slashscheme",Lb="whitespace";function wR(n,e){return n in e||(e[n]=[]),e[n]}function Jo(n,e,t){e[Xp]&&(e[vf]=!0,e[Ku]=!0),e[Qp]&&(e[vf]=!0,e[Zp]=!0),e[vf]&&(e[Ku]=!0),e[Zp]&&(e[Ku]=!0),e[Ku]&&(e[eg]=!0),e[uS]&&(e[eg]=!0);for(const r in e){const o=wR(r,t);o.indexOf(n)<0&&o.push(n)}}function DR(n,e){const t={};for(const r in e)e[r].indexOf(n)>=0&&(t[r]=!0);return t}function er(n){n===void 0&&(n=null),this.j={},this.jr=[],this.jd=null,this.t=n}er.groups={};er.prototype={accepts(){return!!this.t},go(n){const e=this,t=e.j[n];if(t)return t;for(let r=0;r<e.jr.length;r++){const o=e.jr[r][0],s=e.jr[r][1];if(s&&o.test(n))return s}return e.jd},has(n,e){return e===void 0&&(e=!1),e?n in this.j:!!this.go(n)},ta(n,e,t,r){for(let o=0;o<n.length;o++)this.tt(n[o],e,t,r)},tr(n,e,t,r){r=r||er.groups;let o;return e&&e.j?o=e:(o=new er(e),t&&r&&Jo(e,t,r)),this.jr.push([n,o]),o},ts(n,e,t,r){let o=this;const s=n.length;if(!s)return o;for(let l=0;l<s-1;l++)o=o.tt(n[l]);return o.tt(n[s-1],e,t,r)},tt(n,e,t,r){r=r||er.groups;const o=this;if(e&&e.j)return o.j[n]=e,e;const s=e;let l,u=o.go(n);if(u?(l=new er,pa(l.j,u.j),l.jr.push.apply(l.jr,u.jr),l.jd=u.jd,l.t=u.t):l=new er,s){if(r)if(l.t&&typeof l.t=="string"){const f=pa(DR(l.t,r),t);Jo(s,f,r)}else t&&Jo(s,t,r);l.t=s}return o.j[n]=l,l}};const nt=(n,e,t,r,o)=>n.ta(e,t,r,o),mr=(n,e,t,r,o)=>n.tr(e,t,r,o),Bb=(n,e,t,r,o)=>n.ts(e,t,r,o),Fe=(n,e,t,r,o)=>n.tt(e,t,r,o),Ei="WORD",tg="UWORD",Hl="LOCALHOST",ng="TLD",rg="UTLD",yf="SCHEME",Ys="SLASH_SCHEME",Ug="NUM",fS="WS",Vg="NL",xl="OPENBRACE",El="CLOSEBRACE",Gf="OPENBRACKET",Jf="CLOSEBRACKET",Yf="OPENPAREN",Xf="CLOSEPAREN",Qf="OPENANGLEBRACKET",Zf="CLOSEANGLEBRACKET",ec="FULLWIDTHLEFTPAREN",tc="FULLWIDTHRIGHTPAREN",nc="LEFTCORNERBRACKET",rc="RIGHTCORNERBRACKET",ic="LEFTWHITECORNERBRACKET",oc="RIGHTWHITECORNERBRACKET",sc="FULLWIDTHLESSTHAN",ac="FULLWIDTHGREATERTHAN",lc="AMPERSAND",uc="APOSTROPHE",fc="ASTERISK",so="AT",cc="BACKSLASH",hc="BACKTICK",dc="CARET",uo="COLON",qg="COMMA",pc="DOLLAR",Jr="DOT",gc="EQUALS",Kg="EXCLAMATION",Yr="HYPHEN",mc="PERCENT",vc="PIPE",yc="PLUS",bc="POUND",wc="QUERY",Gg="QUOTE",Jg="SEMI",Xr="SLASH",kl="TILDE",Dc="UNDERSCORE",cS="EMOJI",Sc="SYM";var hS=Object.freeze({__proto__:null,WORD:Ei,UWORD:tg,LOCALHOST:Hl,TLD:ng,UTLD:rg,SCHEME:yf,SLASH_SCHEME:Ys,NUM:Ug,WS:fS,NL:Vg,OPENBRACE:xl,CLOSEBRACE:El,OPENBRACKET:Gf,CLOSEBRACKET:Jf,OPENPAREN:Yf,CLOSEPAREN:Xf,OPENANGLEBRACKET:Qf,CLOSEANGLEBRACKET:Zf,FULLWIDTHLEFTPAREN:ec,FULLWIDTHRIGHTPAREN:tc,LEFTCORNERBRACKET:nc,RIGHTCORNERBRACKET:rc,LEFTWHITECORNERBRACKET:ic,RIGHTWHITECORNERBRACKET:oc,FULLWIDTHLESSTHAN:sc,FULLWIDTHGREATERTHAN:ac,AMPERSAND:lc,APOSTROPHE:uc,ASTERISK:fc,AT:so,BACKSLASH:cc,BACKTICK:hc,CARET:dc,COLON:uo,COMMA:qg,DOLLAR:pc,DOT:Jr,EQUALS:gc,EXCLAMATION:Kg,HYPHEN:Yr,PERCENT:mc,PIPE:vc,PLUS:yc,POUND:bc,QUERY:wc,QUOTE:Gg,SEMI:Jg,SLASH:Xr,TILDE:kl,UNDERSCORE:Dc,EMOJI:cS,SYM:Sc});const js=/[a-z]/,Jd=new RegExp("\\p{L}","u"),Yd=new RegExp("\\p{Emoji}","u"),Xd=/\d/,Ib=/\s/,Pb=`
`,SR="ï¸",CR="â";let Gu=null,Ju=null;function xR(n){n===void 0&&(n=[]);const e={};er.groups=e;const t=new er;Gu==null&&(Gu=zb(mR)),Ju==null&&(Ju=zb(vR)),Fe(t,"'",uc),Fe(t,"{",xl),Fe(t,"}",El),Fe(t,"[",Gf),Fe(t,"]",Jf),Fe(t,"(",Yf),Fe(t,")",Xf),Fe(t,"<",Qf),Fe(t,">",Zf),Fe(t,"ï¼",ec),Fe(t,"ï¼",tc),Fe(t,"ã",nc),Fe(t,"ã",rc),Fe(t,"ã",ic),Fe(t,"ã",oc),Fe(t,"ï¼",sc),Fe(t,"ï¼",ac),Fe(t,"&",lc),Fe(t,"*",fc),Fe(t,"@",so),Fe(t,"`",hc),Fe(t,"^",dc),Fe(t,":",uo),Fe(t,",",qg),Fe(t,"$",pc),Fe(t,".",Jr),Fe(t,"=",gc),Fe(t,"!",Kg),Fe(t,"-",Yr),Fe(t,"%",mc),Fe(t,"|",vc),Fe(t,"+",yc),Fe(t,"#",bc),Fe(t,"?",wc),Fe(t,'"',Gg),Fe(t,"/",Xr),Fe(t,";",Jg),Fe(t,"~",kl),Fe(t,"_",Dc),Fe(t,"\\",cc);const r=mr(t,Xd,Ug,{[Xp]:!0});mr(r,Xd,r);const o=mr(t,js,Ei,{[Qp]:!0});mr(o,js,o);const s=mr(t,Jd,tg,{[Zp]:!0});mr(s,js),mr(s,Jd,s);const l=mr(t,Ib,fS,{[Lb]:!0});Fe(t,Pb,Vg,{[Lb]:!0}),Fe(l,Pb),mr(l,Ib,l);const u=mr(t,Yd,cS,{[uS]:!0});mr(u,Yd,u),Fe(u,SR,u);const f=Fe(u,CR);mr(f,Yd,u);const d=[[js,o]],p=[[js,null],[Jd,s]];for(let m=0;m<Gu.length;m++)Zi(t,Gu[m],ng,Ei,d);for(let m=0;m<Ju.length;m++)Zi(t,Ju[m],rg,tg,p);Jo(ng,{tld:!0,ascii:!0},e),Jo(rg,{utld:!0,alpha:!0},e),Zi(t,"file",yf,Ei,d),Zi(t,"mailto",yf,Ei,d),Zi(t,"http",Ys,Ei,d),Zi(t,"https",Ys,Ei,d),Zi(t,"ftp",Ys,Ei,d),Zi(t,"ftps",Ys,Ei,d),Jo(yf,{scheme:!0,ascii:!0},e),Jo(Ys,{slashscheme:!0,ascii:!0},e),n=n.sort((m,v)=>m[0]>v[0]?1:-1);for(let m=0;m<n.length;m++){const v=n[m][0],w=n[m][1]?{[yR]:!0}:{[bR]:!0};v.indexOf("-")>=0?w[eg]=!0:js.test(v)?Xd.test(v)?w[vf]=!0:w[Qp]=!0:w[Xp]=!0,Bb(t,v,v,w)}return Bb(t,"localhost",Hl,{ascii:!0}),t.jd=new er(Sc),{start:t,tokens:pa({groups:e},hS)}}function ER(n,e){const t=kR(e.replace(/[A-Z]/g,u=>u.toLowerCase())),r=t.length,o=[];let s=0,l=0;for(;l<r;){let u=n,f=null,d=0,p=null,m=-1,v=-1;for(;l<r&&(f=u.go(t[l]));)u=f,u.accepts()?(m=0,v=0,p=u):m>=0&&(m+=t[l].length,v++),d+=t[l].length,s+=t[l].length,l++;s-=m,l-=v,d-=m,o.push({t:p.t,v:e.slice(s-d,s),s:s-d,e:s})}return o}function kR(n){const e=[],t=n.length;let r=0;for(;r<t;){let o=n.charCodeAt(r),s,l=o<55296||o>56319||r+1===t||(s=n.charCodeAt(r+1))<56320||s>57343?n[r]:n.slice(r,r+2);e.push(l),r+=l.length}return e}function Zi(n,e,t,r,o){let s;const l=e.length;for(let u=0;u<l-1;u++){const f=e[u];n.j[f]?s=n.j[f]:(s=new er(r),s.jr=o.slice(),n.j[f]=s),n=s}return s=new er(t),s.jr=o.slice(),n.j[e[l-1]]=s,s}function zb(n){const e=[],t=[];let r=0,o="0123456789";for(;r<n.length;){let s=0;for(;o.indexOf(n[r+s])>=0;)s++;if(s>0){e.push(t.join(""));for(let l=parseInt(n.substring(r,r+s),10);l>0;l--)t.pop();r+=s}else t.push(n[r]),r++}return e}const Wl={defaultProtocol:"http",events:null,format:_b,formatHref:_b,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Yg(n,e){e===void 0&&(e=null);let t=pa({},Wl);n&&(t=pa(t,n instanceof Yg?n.o:n));const r=t.ignoreTags,o=[];for(let s=0;s<r.length;s++)o.push(r[s].toUpperCase());this.o=t,e&&(this.defaultRender=e),this.ignoreTags=o}Yg.prototype={o:Wl,ignoreTags:[],defaultRender(n){return n},check(n){return this.get("validate",n.toString(),n)},get(n,e,t){const r=e!=null;let o=this.o[n];return o&&(typeof o=="object"?(o=t.t in o?o[t.t]:Wl[n],typeof o=="function"&&r&&(o=o(e,t))):typeof o=="function"&&r&&(o=o(e,t.t,t)),o)},getObj(n,e,t){let r=this.o[n];return typeof r=="function"&&e!=null&&(r=r(e,t.t,t)),r},render(n){const e=n.render(this);return(this.get("render",null,n)||this.defaultRender)(e,n.t,n)}};function _b(n){return n}function dS(n,e){this.t="token",this.v=n,this.tk=e}dS.prototype={isLink:!1,toString(){return this.v},toHref(n){return this.toString()},toFormattedString(n){const e=this.toString(),t=n.get("truncate",e,this),r=n.get("format",e,this);return t&&r.length>t?r.substring(0,t)+"â¦":r},toFormattedHref(n){return n.get("formatHref",this.toHref(n.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(n){return n===void 0&&(n=Wl.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(n),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(n){return{type:this.t,value:this.toFormattedString(n),isLink:this.isLink,href:this.toFormattedHref(n),start:this.startIndex(),end:this.endIndex()}},validate(n){return n.get("validate",this.toString(),this)},render(n){const e=this,t=this.toHref(n.get("defaultProtocol")),r=n.get("formatHref",t,this),o=n.get("tagName",t,e),s=this.toFormattedString(n),l={},u=n.get("className",t,e),f=n.get("target",t,e),d=n.get("rel",t,e),p=n.getObj("attributes",t,e),m=n.getObj("events",t,e);return l.href=r,u&&(l.class=u),f&&(l.target=f),d&&(l.rel=d),p&&pa(l,p),{tagName:o,attributes:l,content:s,eventListeners:m}}};function zc(n,e){class t extends dS{constructor(o,s){super(o,s),this.t=n}}for(const r in e)t.prototype[r]=e[r];return t.t=n,t}const $b=zc("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Hb=zc("text"),AR=zc("nl"),Yu=zc("url",{isLink:!0,toHref(n){return n===void 0&&(n=Wl.defaultProtocol),this.hasProtocol()?this.v:`${n}://${this.v}`},hasProtocol(){const n=this.tk;return n.length>=2&&n[0].t!==Hl&&n[1].t===uo}}),vr=n=>new er(n);function TR(n){let{groups:e}=n;const t=e.domain.concat([lc,fc,so,cc,hc,dc,pc,gc,Yr,Ug,mc,vc,yc,bc,Xr,Sc,kl,Dc]),r=[uc,uo,qg,Jr,Kg,wc,Gg,Jg,Qf,Zf,xl,El,Jf,Gf,Yf,Xf,ec,tc,nc,rc,ic,oc,sc,ac],o=[lc,uc,fc,cc,hc,dc,pc,gc,Yr,xl,El,mc,vc,yc,bc,wc,Xr,Sc,kl,Dc],s=vr(),l=Fe(s,kl);nt(l,o,l),nt(l,e.domain,l);const u=vr(),f=vr(),d=vr();nt(s,e.domain,u),nt(s,e.scheme,f),nt(s,e.slashscheme,d),nt(u,o,l),nt(u,e.domain,u);const p=Fe(u,so);Fe(l,so,p),Fe(f,so,p),Fe(d,so,p);const m=Fe(l,Jr);nt(m,o,l),nt(m,e.domain,l);const v=vr();nt(p,e.domain,v),nt(v,e.domain,v);const D=Fe(v,Jr);nt(D,e.domain,v);const w=vr($b);nt(D,e.tld,w),nt(D,e.utld,w),Fe(p,Hl,w);const k=Fe(v,Yr);nt(k,e.domain,v),nt(w,e.domain,v),Fe(w,Jr,D),Fe(w,Yr,k);const M=Fe(w,uo);nt(M,e.numeric,$b);const R=Fe(u,Yr),I=Fe(u,Jr);nt(R,e.domain,u),nt(I,o,l),nt(I,e.domain,u);const z=vr(Yu);nt(I,e.tld,z),nt(I,e.utld,z),nt(z,e.domain,u),nt(z,o,l),Fe(z,Jr,I),Fe(z,Yr,R),Fe(z,so,p);const b=Fe(z,uo),x=vr(Yu);nt(b,e.numeric,x);const T=vr(Yu),B=vr();nt(T,t,T),nt(T,r,B),nt(B,t,T),nt(B,r,B),Fe(z,Xr,T),Fe(x,Xr,T);const $=Fe(f,uo),V=Fe(d,uo),J=Fe(V,Xr),U=Fe(J,Xr);nt(f,e.domain,u),Fe(f,Jr,I),Fe(f,Yr,R),nt(d,e.domain,u),Fe(d,Jr,I),Fe(d,Yr,R),nt($,e.domain,T),Fe($,Xr,T),nt(U,e.domain,T),nt(U,t,T),Fe(U,Xr,T);const H=[[xl,El],[Gf,Jf],[Yf,Xf],[Qf,Zf],[ec,tc],[nc,rc],[ic,oc],[sc,ac]];for(let j=0;j<H.length;j++){const[_,C]=H[j],N=Fe(T,_);Fe(B,_,N),Fe(N,C,T);const W=vr(Yu);nt(N,t,W);const G=vr();nt(N,r),nt(W,t,W),nt(W,r,G),nt(G,t,W),nt(G,r,G),Fe(W,C,T),Fe(G,C,T)}return Fe(s,Hl,z),Fe(s,Vg,AR),{start:s,tokens:hS}}function OR(n,e,t){let r=t.length,o=0,s=[],l=[];for(;o<r;){let u=n,f=null,d=null,p=0,m=null,v=-1;for(;o<r&&!(f=u.go(t[o].t));)l.push(t[o++]);for(;o<r&&(d=f||u.go(t[o].t));)f=null,u=d,u.accepts()?(v=0,m=u):v>=0&&v++,o++,p++;if(v<0)o-=p,o<r&&(l.push(t[o]),o++);else{l.length>0&&(s.push(Qd(Hb,e,l)),l=[]),o-=v,p-=v;const D=m.t,w=t.slice(o-p,o);s.push(Qd(D,e,w))}}return l.length>0&&s.push(Qd(Hb,e,l)),s}function Qd(n,e,t){const r=t[0].s,o=t[t.length-1].e,s=e.slice(r,o);return new n(s,t)}const MR=typeof console<"u"&&console&&console.warn||(()=>{}),FR="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",It={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function pB(){er.groups={},It.scanner=null,It.parser=null,It.tokenQueue=[],It.pluginQueue=[],It.customSchemes=[],It.initialized=!1}function gB(n,e){if(e===void 0&&(e=!1),It.initialized&&MR(`linkifyjs: already initialized - will not register custom scheme "${n}" ${FR}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(n))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);It.customSchemes.push([n,e])}function NR(){It.scanner=xR(It.customSchemes);for(let n=0;n<It.tokenQueue.length;n++)It.tokenQueue[n][1]({scanner:It.scanner});It.parser=TR(It.scanner.tokens);for(let n=0;n<It.pluginQueue.length;n++)It.pluginQueue[n][1]({scanner:It.scanner,parser:It.parser});It.initialized=!0}function RR(n){return It.initialized||NR(),OR(It.parser.start,n,ER(It.scanner.start,n))}function mB(n,e,t){if(e===void 0&&(e=null),t===void 0&&(t=null),e&&typeof e=="object"){if(t)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);t=e,e=null}const r=new Yg(t),o=RR(n),s=[];for(let l=0;l<o.length;l++){const u=o[l];u.isLink&&(!e||u.t===e)&&r.check(u)&&s.push(u.toFormattedObject(r))}return s}var Xu,LR=new Uint8Array(16);function BR(){if(!Xu&&(Xu=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Xu))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Xu(LR)}const IR=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function PR(n){return typeof n=="string"&&IR.test(n)}var mn=[];for(var Zd=0;Zd<256;++Zd)mn.push((Zd+256).toString(16).substr(1));function zR(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(mn[n[e+0]]+mn[n[e+1]]+mn[n[e+2]]+mn[n[e+3]]+"-"+mn[n[e+4]]+mn[n[e+5]]+"-"+mn[n[e+6]]+mn[n[e+7]]+"-"+mn[n[e+8]]+mn[n[e+9]]+"-"+mn[n[e+10]]+mn[n[e+11]]+mn[n[e+12]]+mn[n[e+13]]+mn[n[e+14]]+mn[n[e+15]]).toLowerCase();if(!PR(t))throw TypeError("Stringified UUID is invalid");return t}function vB(n,e,t){n=n||{};var r=n.random||(n.rng||BR)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){t=t||0;for(var o=0;o<16;++o)e[t+o]=r[o];return e}return zR(r)}function Wb(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function pt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Wb(Object(t),!0).forEach(function(r){Dr(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Wb(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Dr(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function _R(n,e){if(n==null)return{};var t,r,o=function(l,u){if(l==null)return{};var f,d,p={},m=Object.keys(l);for(d=0;d<m.length;d++)f=m[d],u.indexOf(f)>=0||(p[f]=l[f]);return p}(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(o[t]=n[t])}return o}function as(n){return function(e){if(Array.isArray(e))return ep(e)}(n)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(n)||function(e,t){if(e){if(typeof e=="string")return ep(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ep(e,t)}}(n)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ep(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var jb,$R,Qu,sn=(jb=function(n){/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){var e={}.hasOwnProperty;function t(){for(var r=[],o=0;o<arguments.length;o++){var s=arguments[o];if(s){var l=typeof s;if(l==="string"||l==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var u=t.apply(null,s);u&&r.push(u)}}else if(l==="object")if(s.toString===Object.prototype.toString)for(var f in s)e.call(s,f)&&s[f]&&r.push(f);else r.push(s.toString())}}return r.join(" ")}n.exports?(t.default=t,n.exports=t):window.classNames=t})()},jb(Qu={path:$R,exports:{},require:function(n,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(e==null&&Qu.path)}},Qu.exports),Qu.exports),Hr=function(n){return function(e,t){if(!e)return n;var r;typeof e=="string"?r=e:t=e;var o=n;return r&&(o+="__"+r),o+(t?Object.keys(t).reduce(function(s,l){var u=t[l];return u&&(s+=" "+(typeof u=="boolean"?o+"--"+l:o+"--"+l+"_"+u)),s},""):"")}};function ig(n,e,t){var r,o,s,l,u;function f(){var p=Date.now()-l;p<e&&p>=0?r=setTimeout(f,e-p):(r=null,t||(u=n.apply(s,o),s=o=null))}e==null&&(e=100);var d=function(){s=this,o=arguments,l=Date.now();var p=t&&!r;return r||(r=setTimeout(f,e)),p&&(u=n.apply(s,o),s=o=null),u};return d.clear=function(){r&&(clearTimeout(r),r=null)},d.flush=function(){r&&(u=n.apply(s,o),s=o=null,clearTimeout(r),r=null)},d}ig.debounce=ig;var og=ig,qe=function(){return qe=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n},qe.apply(this,arguments)};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function pS(n,e){var t,r;return n&&e?(t=""+n+e[0].toUpperCase()+e.slice(1),r=n+"-"+e):(t=n||e,r=n||e),{name:t,classname:r}}function gS(n){return/^blob:/.test(n)}function Ub(n){return gS(n)||function(e){return/^data:/.test(e)}(n)}function Us(n){return!!(n&&n.constructor&&n.call&&n.apply)}function fn(n){return n===void 0}function bf(n){return typeof n=="object"&&n!==null}function sg(n,e,t){var r={};return bf(n)?(Object.keys(e).forEach(function(o){fn(n[o])?r[o]=e[o]:bf(e[o])?bf(n[o])?r[o]=sg(n[o],e[o],t[o]):r[o]=n[o]?e[o]:t[o]:e[o]===!0||e[o]===!1?r[o]=!!n[o]:r[o]=n[o]}),r):n?e:t}function Zu(n){var e=Number(n);return Number.isNaN(e)?n:e}function Vb(n){return typeof(n=="number"||function(e){return typeof e=="object"&&e!==null}(n)&&toString.call(n)=="[object Number]")&&!mS(n)}function mS(n){return n!=n}function vS(n,e){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}var Al=function(n,e){n===void 0&&(n={}),e===void 0&&(e={}),this.type="manipulateImage",this.move=n,this.scale=e},HR=function(n,e){e===void 0&&(e={}),this.type="resize",this.directions=n,this.params=e},Xg=function(n){this.type="move",this.directions=n},WR=function(){function n(e,t,r,o,s){this.type="drag",this.nativeEvent=e,this.position=r,this.previousPosition=o,this.element=t,this.anchor=s}return n.prototype.shift=function(){var e=this,t=e.element,r=e.anchor,o=e.position;if(t){var s=t.getBoundingClientRect(),l=s.left,u=s.top;return{left:o.left-l-r.left,top:o.top-u-r.top}}return{left:0,top:0}},n}(),Qg={name:"DraggableElement",props:{classname:{type:String}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){if(!this.$refs.draggable)throw new Error('You should add ref "draggable" to your root element to use draggable mixin');this.touches=[],this.hovered=!1},methods:{onMouseOver:function(){this.hovered||(this.hovered=!0,this.$emit("enter"))},onMouseLeave:function(){this.hovered&&!this.touches.length&&(this.hovered=!1,this.$emit("leave"))},onTouchStart:function(n){n.cancelable&&!this.disabled&&n.touches.length===1&&(this.touches=as(n.touches),this.hovered||(this.$emit("enter"),this.hovered=!0),n.touches.length&&this.initAnchor(this.touches.reduce(function(e,t){return{clientX:e.clientX+t.clientX/n.touches.length,clientY:e.clientY+t.clientY/n.touches.length}},{clientX:0,clientY:0})),n.preventDefault&&n.preventDefault(),n.stopPropagation())},onTouchEnd:function(){this.processEnd()},onTouchMove:function(n){this.touches.length&&(this.processMove(n,n.touches),n.preventDefault&&n.preventDefault(),n.stopPropagation&&n.stopPropagation())},onMouseDown:function(n){if(!this.disabled){var e={fake:!0,clientX:n.clientX,clientY:n.clientY};this.touches=[e],this.initAnchor(e),n.stopPropagation()}},onMouseMove:function(n){this.touches.length&&(this.processMove(n,[{fake:!0,clientX:n.clientX,clientY:n.clientY}]),n.preventDefault&&n.preventDefault())},onMouseUp:function(){this.processEnd()},initAnchor:function(n){var e=this.$refs.draggable.getBoundingClientRect(),t=e.left,r=e.right,o=e.bottom,s=e.top;this.anchor={left:n.clientX-t,top:n.clientY-s,bottom:o-n.clientY,right:r-n.clientX}},processMove:function(n,e){var t=as(e);if(this.touches.length){if(this.touches.length===1&&t.length===1){var r=this.$refs.draggable;this.$emit("drag",new WR(n,r,{left:t[0].clientX,top:t[0].clientY},{left:this.touches[0].clientX,top:this.touches[0].clientY},this.anchor))}this.touches=t}},processEnd:function(){this.touches.length&&this.$emit("drag-end"),this.hovered&&(this.$emit("leave"),this.hovered=!1),this.touches=[]}},emits:["drag","drag-end","leave","enter"]};Qg.render=function(n,e,t,r,o,s){return at(),xt("div",{ref:"draggable",class:t.classname,onTouchstart:e[1]||(e[1]=function(){return s.onTouchStart&&s.onTouchStart.apply(s,arguments)}),onMousedown:e[2]||(e[2]=function(){return s.onMouseDown&&s.onMouseDown.apply(s,arguments)}),onMouseover:e[3]||(e[3]=function(){return s.onMouseOver&&s.onMouseOver.apply(s,arguments)}),onMouseleave:e[4]||(e[4]=function(){return s.onMouseLeave&&s.onMouseLeave.apply(s,arguments)})},[Vn(n.$slots,"default")],34)};var tp=Hr("vue-handler-wrapper"),yS={name:"HandlerWrapper",components:{DraggableElement:Qg},props:{horizontalPosition:{type:String},verticalPosition:{type:String},disabled:{type:Boolean,default:!1}},computed:{classes:function(){var n;if(this.horizontalPosition||this.verticalPosition){var e,t=pS(this.horizontalPosition,this.verticalPosition);n=tp((Dr(e={},t.classname,!0),Dr(e,"disabled",this.disabled),e))}else n=tp({disabled:this.disabled});return{root:n,draggable:tp("draggable")}}},emits:["leave","enter","drag","drag-end"]};yS.render=function(n,e,t,r,o,s){var l=Sr("DraggableElement");return at(),xt("div",{class:s.classes.root},[Mn(l,{class:s.classes.draggable,onDrag:e[1]||(e[1]=function(u){return n.$emit("drag",u)}),onDragEnd:e[2]||(e[2]=function(u){return n.$emit("drag-end")}),onLeave:e[3]||(e[3]=function(u){return n.$emit("leave")}),onEnter:e[4]||(e[4]=function(u){return n.$emit("enter")})},{default:tr(function(){return[Vn(n.$slots,"default")]}),_:3},8,["class"])],2)};var jR=Hr("vue-line-wrapper"),bS={name:"LineWrapper",components:{DraggableElement:Qg},props:{position:{type:String,required:!0},disabled:{type:Boolean,default:!1}},computed:{classname:function(){var n;return jR((Dr(n={},this.position,!0),Dr(n,"disabled",this.disabled),n))}},emits:["leave","enter","drag","drag-end"]};bS.render=function(n,e,t,r,o,s){var l=Sr("DraggableElement");return at(),xt(l,{class:s.classname,onDrag:e[1]||(e[1]=function(u){return n.$emit("drag",u)}),onDragEnd:e[2]||(e[2]=function(u){return n.$emit("drag-end")}),onLeave:e[3]||(e[3]=function(u){return n.$emit("leave")}),onEnter:e[4]||(e[4]=function(u){return n.$emit("enter")})},{default:tr(function(){return[Vn(n.$slots,"default")]}),_:3},8,["class"])};var ii=["left","right","top","bottom"],UR=["left","right"],VR=["top","bottom"],qR=["left","top"],KR=["fill-area","fit-area","stencil","none"],qb={left:0,top:0,width:0,height:0};function Kb(n,e,t){return!(t=t||["width","height","left","top"]).some(function(r){return n[r]!==e[r]})}function hi(n){return{left:n.left,top:n.top,right:n.left+n.width,bottom:n.top+n.height}}function ga(n,e){return{left:n.left-e.left,top:n.top-e.top}}function Sn(n){return{left:n.left+n.width/2,top:n.top+n.height/2}}function jl(n,e){var t={left:0,top:0,right:0,bottom:0};return ii.forEach(function(r){var o=e[r],s=hi(n)[r];t[r]=o!==void 0&&s!==void 0?r==="left"||r==="top"?Math.max(0,o-s):Math.max(0,s-o):0}),t}function ni(n,e){return{left:n.left-e.left,top:n.top-e.top,width:n.width+e.left+e.right,height:n.height+e.top+e.bottom}}function _c(n){return{left:-n.left,top:-n.top}}function rr(n,e){return qe(qe({},n),{left:n.left+e.left,top:n.top+e.top})}function xr(n,e,t,r){if(e!==1){if(t){var o=Sn(n);return{width:n.width*e,height:n.height*e,left:n.left+n.width*(1-e)/2+(t.left-o.left)*(r||1-e),top:n.top+n.height*(1-e)/2+(t.top-o.top)*(r||1-e)}}return{width:n.width*e,height:n.height*e,left:n.left+n.width*(1-e)/2,top:n.top+n.height*(1-e)/2}}return n}function gt(n){return n.width/n.height}function ma(n,e){return Math.min(e.right!==void 0&&e.left!==void 0?(e.right-e.left)/n.width:1/0,e.bottom!==void 0&&e.top!==void 0?(e.bottom-e.top)/n.height:1/0)}function va(n,e){var t={left:0,top:0},r=jl(n,e);return r.left&&r.left>0?t.left=r.left:r.right&&r.right>0&&(t.left=-r.right),r.top&&r.top>0?t.top=r.top:r.bottom&&r.bottom>0&&(t.top=-r.bottom),t}function np(n,e){var t;return e.minimum&&n<e.minimum?t=e.minimum:e.maximum&&n>e.maximum&&(t=e.maximum),t}function wS(n,e){var t=gt(n),r=gt(e);return e.width<1/0&&e.height<1/0?t>r?{width:e.width,height:e.width/t}:{width:e.height*t,height:e.height}:e.width<1/0?{width:e.width,height:e.width/t}:e.height<1/0?{width:e.height*t,height:e.height}:n}function DS(n,e){var t=e*Math.PI/180;return{width:Math.abs(n.width*Math.cos(t))+Math.abs(n.height*Math.sin(t)),height:Math.abs(n.width*Math.sin(t))+Math.abs(n.height*Math.cos(t))}}function fo(n,e){var t=e*Math.PI/180;return{left:n.left*Math.cos(t)-n.top*Math.sin(t),top:n.left*Math.sin(t)+n.top*Math.cos(t)}}function $c(n,e){var t=jl(Cn(n,e),e);return t.left+t.right+t.top+t.bottom?t.left+t.right>t.top+t.bottom?Math.min((n.width+t.left+t.right)/n.width,ma(n,e)):Math.min((n.height+t.top+t.bottom)/n.height,ma(n,e)):1}function Cn(n,e,t){t===void 0&&(t=!1);var r=va(n,e);return rr(n,t?_c(r):r)}function ag(n){return{width:n.right!==void 0&&n.left!==void 0?n.right-n.left:1/0,height:n.bottom!==void 0&&n.top!==void 0?n.bottom-n.top:1/0}}function GR(n,e){return qe(qe({},n),{minWidth:Math.min(e.width,n.minWidth),minHeight:Math.min(e.height,n.minHeight),maxWidth:Math.min(e.width,n.maxWidth),maxHeight:Math.min(e.height,n.maxHeight)})}function SS(n,e,t){t===void 0&&(t=!0);var r={};return ii.forEach(function(o){var s=n[o],l=e[o];s!==void 0&&l!==void 0?r[o]=o==="left"||o==="top"?t?Math.max(s,l):Math.min(s,l):t?Math.min(s,l):Math.max(s,l):l!==void 0?r[o]=l:s!==void 0&&(r[o]=s)}),r}function Hc(n,e){return SS(n,e,!0)}function Gb(n){var e=n.size,t=n.aspectRatio,r=n.ignoreMinimum,o=n.sizeRestrictions;return!!((e.correctRatio||gt(e)>=t.minimum&&gt(e)<=t.maximum)&&e.height<=o.maxHeight&&e.width<=o.maxWidth&&e.width&&e.height&&(r||e.height>=o.minHeight&&e.width>=o.minWidth))}function Jb(n,e){return Math.pow(n.width-e.width,2)+Math.pow(n.height-e.height,2)}function Fi(n){var e=n.width,t=n.height,r=n.sizeRestrictions,o={minimum:n.aspectRatio&&n.aspectRatio.minimum||0,maximum:n.aspectRatio&&n.aspectRatio.maximum||1/0},s={width:Math.max(r.minWidth,Math.min(r.maxWidth,e)),height:Math.max(r.minHeight,Math.min(r.maxHeight,t))};function l(d,p){return p===void 0&&(p=!1),d.reduce(function(m,v){return Gb({size:v,aspectRatio:o,sizeRestrictions:r,ignoreMinimum:p})&&(!m||Jb(v,{width:e,height:t})<Jb(m,{width:e,height:t}))?v:m},null)}var u=[];o&&[o.minimum,o.maximum].forEach(function(d){d&&u.push({width:s.width,height:s.width/d,correctRatio:!0},{width:s.height*d,height:s.height,correctRatio:!0})}),Gb({size:s,aspectRatio:o,sizeRestrictions:r})&&u.push(s);var f=l(u)||l(u,!0);return f&&{width:f.width,height:f.height}}function lg(n){var e=n.event,t=n.coordinates,r=n.positionRestrictions,o=r===void 0?{}:r,s=rr(t,e.directions);return rr(s,va(s,o))}function JR(n){var e=n.coordinates,t=n.transform,r=n.imageSize,o=n.sizeRestrictions,s=n.positionRestrictions,l=n.aspectRatio,u=n.visibleArea,f=function(p,m){return lg({coordinates:p,positionRestrictions:s,event:new Xg({left:m.left-p.left,top:m.top-p.top})})},d=qe({},e);return(Array.isArray(t)?t:[t]).forEach(function(p){var m={};fn((m=typeof p=="function"?p({coordinates:d,imageSize:r,visibleArea:u}):p).width)&&fn(m.height)||(d=function(v,D){var w=qe(qe(qe({},v),Fi({width:D.width,height:D.height,sizeRestrictions:o,aspectRatio:l})),{left:0,top:0});return f(w,{left:v.left,top:v.top})}(d,qe(qe({},d),m))),fn(m.left)&&fn(m.top)||(d=f(d,qe(qe({},d),m)))}),d}function YR(n){n.event;var e=n.getAreaRestrictions,t=n.boundaries,r=n.coordinates,o=n.visibleArea;n.aspectRatio;var s=n.stencilSize,l=n.sizeRestrictions,u=n.positionRestrictions;n.stencilReference;var f,d,p,m=qe({},r),v=qe({},o),D=qe({},s);f=gt(D),d=gt(m),p===void 0&&(p=.001),(f===0||d===0?Math.abs(d-f)<p:Math.abs(d/f)<1+p&&Math.abs(d/f)>1-p)||(m=qe(qe({},m),Fi({sizeRestrictions:l,width:m.width,height:m.height,aspectRatio:{minimum:gt(D),maximum:gt(D)}})));var w=$c(v=xr(v,m.width*t.width/(v.width*D.width)),e({visibleArea:v,type:"resize"}));return w!==1&&(v=xr(v,w),m=xr(m,w)),v=Cn(v=rr(v,ga(Sn(m),Sn(v))),e({visibleArea:v,type:"move"})),{coordinates:m=Cn(m,Hc(hi(v),u)),visibleArea:v}}function XR(n){var e=n.event,t=n.getAreaRestrictions,r=n.boundaries,o=n.coordinates,s=n.visibleArea;n.aspectRatio,n.stencilSize,n.sizeRestrictions;var l=n.positionRestrictions;n.stencilReference;var u=qe({},o),f=qe({},s);if(o&&s&&e.type!=="manipulateImage"){var d={width:0,height:0};f.width,r.width,gt(r)>gt(u)?(d.height=.8*r.height,d.width=d.height*gt(u)):(d.width=.8*r.width,d.height=d.width*gt(u));var p=$c(f=xr(f,u.width*r.width/(f.width*d.width)),t({visibleArea:f,type:"resize"}));f=xr(f,p),p!==1&&(d.height/=p,d.width/=p),f=Cn(f=rr(f,ga(Sn(u),Sn(f))),t({visibleArea:f,type:"move"})),u=Cn(u,Hc(hi(f),l))}return{coordinates:u,visibleArea:f}}function QR(n){var e=n.event,t=n.coordinates,r=n.visibleArea,o=n.getAreaRestrictions,s=qe({},r),l=qe({},t);if(e.type==="setCoordinates"){var u=Math.max(0,l.width-s.width),f=Math.max(0,l.height-s.height);u>f?s=xr(s,Math.min(l.width/s.width,ma(s,o({visibleArea:s,type:"resize"})))):f>u&&(s=xr(s,Math.min(l.height/s.height,ma(s,o({visibleArea:s,type:"resize"}))))),s=Cn(s=rr(s,_c(va(l,hi(s)))),o({visibleArea:s,type:"move"}))}return{visibleArea:s,coordinates:l}}function ZR(n){var e=n.imageSize,t=n.visibleArea,r=n.coordinates,o=t||e;return{left:(t?t.left:0)+o.width/2-r.width/2,top:(t?t.top:0)+o.height/2-r.height/2}}function eL(n){var e=n.imageSize,t=n.visibleArea,r=n.aspectRatio,o=n.sizeRestrictions,s=t||e,l=Math.min(r.maximum||1/0,Math.max(r.minimum||0,gt(s))),u=s.width<s.height?{width:.8*s.width,height:.8*s.width/l}:{height:.8*s.height,width:.8*s.height*l};return Fi(qe(qe({},u),{aspectRatio:r,sizeRestrictions:o}))}function tL(n){var e,t,r=n.imageSize,o=n.visibleArea,s=n.boundaries,l=n.aspectRatio,u=n.sizeRestrictions,f=n.stencilSize,d=o||r;return gt(d)>gt(s)?t=(e=f.height*d.height/s.height)*gt(f):e=(t=f.width*d.width/s.width)/gt(f),Fi({width:t,height:e,aspectRatio:l,sizeRestrictions:u})}function nL(n){var e=n.getAreaRestrictions,t=n.coordinates,r=n.imageSize,o=gt(n.boundaries);if(t){var s={height:Math.max(t.height,r.height),width:Math.max(t.width,r.width)},l=wS({width:gt(s)>o?s.width:s.height*o,height:gt(s)>o?s.width/o:s.height},ag(e())),u={left:t.left+t.width/2-l.width/2,top:t.top+t.height/2-l.height/2,width:l.width,height:l.height},f=jl(t,hi(qe({left:0,top:0},r))),d={};return!f.left&&!f.right&&u.width<=r.width&&(d.left=0,d.right=r.width),!f.top&&!f.bottom&&u.height<=r.height&&(d.top=0,d.bottom=r.height),Cn(u,d)}var p=gt(r);return l={height:p>o?r.height:r.width/o,width:p>o?r.height*o:r.width},{left:r.width/2-l.width/2,top:r.height/2-l.height/2,width:l.width,height:l.height}}function ef(n,e){return SS(n,hi(e))}function rL(n){var e=n.event,t=n.coordinates,r=n.visibleArea,o=n.sizeRestrictions,s=n.getAreaRestrictions,l=n.positionRestrictions,u=n.adjustStencil,f=e.scale,d=e.move,p=qe({},r),m=qe({},t),v=1,D=1,w=f.factor&&Math.abs(f.factor-1)>.001;p=rr(p,{left:d.left||0,top:d.top||0});var k={stencil:{minimum:Math.max(o.minWidth?o.minWidth/m.width:0,o.minHeight?o.minHeight/m.height:0),maximum:Math.min(o.maxWidth?o.maxWidth/m.width:1/0,o.maxHeight?o.maxHeight/m.height:1/0,ma(m,l))},area:{maximum:ma(p,s({visibleArea:p,type:"resize"}))}};f.factor&&w&&(f.factor<1?(D=Math.max(f.factor,k.stencil.minimum))>1&&(D=1):f.factor>1&&(D=Math.min(f.factor,Math.min(k.area.maximum,k.stencil.maximum)))<1&&(D=1)),D&&(p=xr(p,D,f.center));var M=t.left-r.left,R=r.width+r.left-(t.width+t.left),I=t.top-r.top,z=r.height+r.top-(t.height+t.top);return p=Cn(p=rr(p,va(p,{left:l.left!==void 0?l.left-M*D:void 0,top:l.top!==void 0?l.top-I*D:void 0,bottom:l.bottom!==void 0?l.bottom+z*D:void 0,right:l.right!==void 0?l.right+R*D:void 0})),s({visibleArea:p,type:"move"})),m.width=m.width*D,m.height=m.height*D,m.left=p.left+M*D,m.top=p.top+I*D,m=Cn(m,Hc(hi(p),l)),f.factor&&w&&u&&(f.factor>1?v=Math.min(k.area.maximum,f.factor)/D:f.factor<1&&(v=Math.max(m.height/p.height,m.width/p.width,f.factor/D)),v!==1&&(p=rr(p=Cn(p=xr(p,v,f.factor>1?f.center:Sn(m)),s({visibleArea:p,type:"move"})),_c(va(m,hi(p)))))),{coordinates:m,visibleArea:p}}function iL(n){var e=n.aspectRatio,t=n.getAreaRestrictions,r=n.coordinates,o=n.visibleArea,s=n.sizeRestrictions,l=n.positionRestrictions,u=n.imageSize,f=n.previousImageSize,d=n.angle,p=qe({},r),m=qe({},o),v=fo(Sn(qe({left:0,top:0},f)),d);return(p=qe(qe({},Fi({sizeRestrictions:s,aspectRatio:e,width:p.width,height:p.height})),fo(Sn(p),d))).left-=v.left-u.width/2+p.width/2,p.top-=v.top-u.height/2+p.height/2,m=xr(m,$c(m,t({visibleArea:m,type:"resize"}))),{coordinates:p=Cn(p,l),visibleArea:m=Cn(m=rr(m,ga(Sn(p),Sn(r))),t({visibleArea:m,type:"move"}))}}function oL(n){var e=n.flip,t=n.previousFlip,r=n.rotate;n.aspectRatio;var o=n.getAreaRestrictions,s=n.coordinates,l=n.visibleArea,u=n.imageSize,f=qe({},s),d=qe({},l),p=t.horizontal!==e.horizontal,m=t.vertical!==e.vertical;if(p||m){var v=fo({left:u.width/2,top:u.height/2},-r),D=fo(Sn(f),-r),w=fo({left:p?v.left-(D.left-v.left):D.left,top:m?v.top-(D.top-v.top):D.top},r);f=rr(f,ga(w,Sn(f))),D=fo(Sn(d),-r),d=Cn(d=rr(d,ga(w=fo({left:p?v.left-(D.left-v.left):D.left,top:m?v.top-(D.top-v.top):D.top},r),Sn(d))),o({visibleArea:d,type:"move"}))}return{coordinates:f,visibleArea:d}}function Yb(n){var e=n.directions,t=n.coordinates,r=n.positionRestrictions,o=r===void 0?{}:r,s=n.sizeRestrictions,l=n.preserveRatio,u=n.compensate,f=qe({},e),d=ni(t,f).width,p=ni(t,f).height;d<0&&(f.left<0&&f.right<0?(f.left=-(t.width-s.minWidth)/(f.left/f.right),f.right=-(t.width-s.minWidth)/(f.right/f.left)):f.left<0?f.left=-(t.width-s.minWidth):f.right<0&&(f.right=-(t.width-s.minWidth))),p<0&&(f.top<0&&f.bottom<0?(f.top=-(t.height-s.minHeight)/(f.top/f.bottom),f.bottom=-(t.height-s.minHeight)/(f.bottom/f.top)):f.top<0?f.top=-(t.height-s.minHeight):f.bottom<0&&(f.bottom=-(t.height-s.minHeight)));var m=jl(ni(t,f),o);u&&(m.left&&m.left>0&&m.right===0?(f.right+=m.left,f.left-=m.left):m.right&&m.right>0&&m.left===0&&(f.left+=m.right,f.right-=m.right),m.top&&m.top>0&&m.bottom===0?(f.bottom+=m.top,f.top-=m.top):m.bottom&&m.bottom>0&&m.top===0&&(f.top+=m.bottom,f.bottom-=m.bottom),m=jl(ni(t,f),o));var v={width:1/0,height:1/0,left:1/0,right:1/0,top:1/0,bottom:1/0};if(ii.forEach(function(k){var M=m[k];M&&f[k]&&(v[k]=Math.max(0,1-M/f[k]))}),l){var D=Math.min.apply(null,ii.map(function(k){return v[k]}));D!==1/0&&ii.forEach(function(k){f[k]*=D})}else ii.forEach(function(k){v[k]!==1/0&&(f[k]*=v[k])});if(d=ni(t,f).width,p=ni(t,f).height,f.right+f.left&&(d>s.maxWidth?v.width=(s.maxWidth-t.width)/(f.right+f.left):d<s.minWidth&&(v.width=(s.minWidth-t.width)/(f.right+f.left))),f.bottom+f.top&&(p>s.maxHeight?v.height=(s.maxHeight-t.height)/(f.bottom+f.top):p<s.minHeight&&(v.height=(s.minHeight-t.height)/(f.bottom+f.top))),l){var w=Math.min(v.width,v.height);w!==1/0&&ii.forEach(function(k){f[k]*=w})}else v.width!==1/0&&UR.forEach(function(k){f[k]*=v.width}),v.height!==1/0&&VR.forEach(function(k){f[k]*=v.height});return f}function tf(n,e,t){return e==0&&t==0?n/2:e==0?0:t==0?n:n*Math.abs(e/(e+t))}var sL=Hr("vue-simple-handler"),aL=Hr("vue-simple-handler-wrapper"),Zg={name:"SimpleHandler",components:{HandlerWrapper:yS},props:{defaultClass:{type:String},hoverClass:{type:String},wrapperClass:{type:String},horizontalPosition:{type:String},verticalPosition:{type:String},disabled:{type:Boolean,default:!1}},data:function(){return{hover:!1}},computed:{classes:function(){var n,e=(Dr(n={},this.horizontalPosition,!!this.horizontalPosition),Dr(n,this.verticalPosition,!!this.verticalPosition),Dr(n,"".concat(this.horizontalPosition,"-").concat(this.verticalPosition),!!(this.verticalPosition&&this.horizontalPosition)),Dr(n,"hover",this.hover),n);return{default:sn(sL(e),this.defaultClass,this.hover&&this.hoverClass),wrapper:sn(aL(e),this.wrapperClass)}}},methods:{onDrag:function(n){this.$emit("drag",n)},onEnter:function(){this.hover=!0},onLeave:function(){this.hover=!1},onDragEnd:function(){this.$emit("drag-end")}},emits:["drag","drag-end"]};Zg.render=function(n,e,t,r,o,s){var l=Sr("HandlerWrapper");return at(),xt(l,{class:s.classes.wrapper,"vertical-position":t.verticalPosition,"horizontal-position":t.horizontalPosition,disabled:t.disabled,onDrag:s.onDrag,onDragEnd:s.onDragEnd,onEnter:s.onEnter,onLeave:s.onLeave},{default:tr(function(){return[Mn("div",{class:s.classes.default},null,2)]}),_:1},8,["class","vertical-position","horizontal-position","disabled","onDrag","onDragEnd","onEnter","onLeave"])};var lL=Hr("vue-simple-line"),uL=Hr("vue-simple-line-wrapper"),em={name:"SimpleLine",components:{LineWrapper:bS},props:{defaultClass:{type:String},hoverClass:{type:String},wrapperClass:{type:String},position:{type:String},disabled:{type:Boolean,default:!1}},data:function(){return{hover:!1}},computed:{classes:function(){return{root:sn(lL(Dr({},this.position,!0)),this.defaultClass,this.hover&&this.hoverClass),wrapper:sn(uL(Dr({},this.position,!0)),this.wrapperClass)}}},methods:{onDrag:function(n){this.$emit("drag",n)},onEnter:function(){this.hover=!0},onLeave:function(){this.hover=!1},onDragEnd:function(){this.$emit("drag-end")}},emits:["drag","drag-end"]};em.render=function(n,e,t,r,o,s){var l=Sr("LineWrapper");return at(),xt(l,{class:s.classes.wrapper,position:t.position,disabled:t.disabled,onDrag:s.onDrag,onDragEnd:s.onDragEnd,onEnter:s.onEnter,onLeave:s.onLeave},{default:tr(function(){return[Mn("div",{class:s.classes.root},null,2)]}),_:1},8,["class","position","disabled","onDrag","onDragEnd","onEnter","onLeave"])};var rp=Hr("vue-bounding-box"),fL=["east","west",null],cL=["south","north",null],CS={name:"BoundingBox",props:{width:{type:Number},height:{type:Number},transitions:{type:Object},handlers:{type:Object,default:function(){return{eastNorth:!0,north:!0,westNorth:!0,west:!0,westSouth:!0,south:!0,eastSouth:!0,east:!0}}},handlersComponent:{type:[Object,String],default:function(){return Zg}},handlersClasses:{type:Object,default:function(){return{}}},handlersWrappersClasses:{type:Object,default:function(){return{}}},lines:{type:Object,default:function(){return{west:!0,north:!0,east:!0,south:!0}}},linesComponent:{type:[Object,String],default:function(){return em}},linesClasses:{type:Object,default:function(){return{}}},linesWrappersClasses:{type:Object,default:function(){return{}}},resizable:{type:Boolean,default:!0}},data:function(){var n=[];return fL.forEach(function(e){cL.forEach(function(t){if(e!==t){var r=pS(e,t),o=r.name,s=r.classname;n.push({name:o,classname:s,verticalDirection:t,horizontalDirection:e})}})}),{points:n}},computed:{style:function(){var n={};return this.width&&this.height&&(n.width="".concat(this.width,"px"),n.height="".concat(this.height,"px"),this.transitions&&this.transitions.enabled&&(n.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction))),n},classes:function(){var n=this.handlersClasses,e=this.handlersWrappersClasses,t=this.linesClasses,r=this.linesWrappersClasses;return{root:rp(),handlers:n,handlersWrappers:e,lines:t,linesWrappers:r}},lineNodes:function(){var n=this,e=[];return this.points.forEach(function(t){t.horizontalDirection&&t.verticalDirection||!n.lines[t.name]||e.push({name:t.name,component:n.linesComponent,class:sn(n.classes.lines.default,n.classes.lines[t.name],!n.resizable&&n.classes.lines.disabled),wrapperClass:sn(n.classes.linesWrappers.default,n.classes.linesWrappers[t.name],!n.resizable&&n.classes.linesWrappers.disabled),hoverClass:n.classes.lines.hover,verticalDirection:t.verticalDirection,horizontalDirection:t.horizontalDirection,disabled:!n.resizable})}),e},handlerNodes:function(){var n=this,e=[],t=this.width,r=this.height;return this.points.forEach(function(o){if(n.handlers[o.name]){var s={name:o.name,component:n.handlersComponent,class:sn(n.classes.handlers.default,n.classes.handlers[o.name]),wrapperClass:sn(n.classes.handlersWrappers.default,n.classes.handlersWrappers[o.name]),hoverClass:n.classes.handlers.hover,verticalDirection:o.verticalDirection,horizontalDirection:o.horizontalDirection,disabled:!n.resizable};if(t&&r){var l=o.horizontalDirection,u=o.verticalDirection,f=l==="east"?t:l==="west"?0:t/2,d=u==="south"?r:u==="north"?0:r/2;s.wrapperClass=rp("handler"),s.wrapperStyle={transform:"translate(".concat(f,"px, ").concat(d,"px)")},n.transitions&&n.transitions.enabled&&(s.wrapperStyle.transition="".concat(n.transitions.time,"ms ").concat(n.transitions.timingFunction))}else s.wrapperClass=rp("handler",Dr({},o.classname,!0));e.push(s)}}),e}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){this.touches=[]},methods:{onEnd:function(){this.$emit("resize-end")},onHandlerDrag:function(n,e,t){var r,o=n.shift(),s=o.left,l=o.top,u={left:0,right:0,top:0,bottom:0};e==="west"?u.left-=s:e==="east"&&(u.right+=s),t==="north"?u.top-=l:t==="south"&&(u.bottom+=l),!t&&e?r="width":t&&!e&&(r="height"),this.resizable&&this.$emit("resize",new HR(u,{allowedDirections:{left:e==="west"||!e,right:e==="east"||!e,bottom:t==="south"||!t,top:t==="north"||!t},preserveAspectRatio:n.nativeEvent&&n.nativeEvent.shiftKey,respectDirection:r}))}},emits:["resize","resize-end"]};CS.render=function(n,e,t,r,o,s){return at(),xt("div",{ref:"box",class:s.classes.root,style:s.style},[Vn(n.$slots,"default"),Mn("div",null,[(at(!0),xt(sp,null,ap(s.lineNodes,function(l){return at(),xt(ns(l.component),{key:l.name,"default-class":l.class,"hover-class":l.hoverClass,"wrapper-class":l.wrapperClass,position:l.name,disabled:l.disabled,onDrag:function(u){return s.onHandlerDrag(u,l.horizontalDirection,l.verticalDirection)},onDragEnd:e[1]||(e[1]=function(u){return s.onEnd()})},null,8,["default-class","hover-class","wrapper-class","position","disabled","onDrag"])}),128))]),(at(!0),xt(sp,null,ap(s.handlerNodes,function(l){return at(),xt("div",{key:l.name,style:l.wrapperStyle,class:l.wrapperClass},[(at(),xt(ns(l.component),{"default-class":l.class,"hover-class":l.hoverClass,"wrapper-class":l.wrapperClass,"horizontal-position":l.horizontalDirection,"vertical-position":l.verticalDirection,disabled:l.disabled,onDrag:function(u){return s.onHandlerDrag(u,l.horizontalDirection,l.verticalDirection)},onDragEnd:e[2]||(e[2]=function(u){return s.onEnd()})},null,8,["default-class","hover-class","wrapper-class","horizontal-position","vertical-position","disabled","onDrag"]))],6)}),128))],6)};var hL=Hr("vue-draggable-area"),xS={name:"DraggableArea",props:{movable:{type:Boolean,default:!0},activationDistance:{type:Number,default:20}},computed:{classnames:function(){return{default:hL()}}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){this.touches=[],this.touchStarted=!1},methods:{onTouchStart:function(n){if(n.cancelable){var e=this.movable&&n.touches.length===1;e&&(this.touches=as(n.touches)),(this.touchStarted||e)&&(n.preventDefault(),n.stopPropagation())}},onTouchEnd:function(){this.touchStarted=!1,this.processEnd()},onTouchMove:function(n){this.touches.length>=1&&(this.touchStarted?(this.processMove(n,n.touches),n.preventDefault(),n.stopPropagation()):vS({x:this.touches[0].clientX,y:this.touches[0].clientY},{x:n.touches[0].clientX,y:n.touches[0].clientY})>this.activationDistance&&(this.initAnchor({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY}),this.touchStarted=!0))},onMouseDown:function(n){if(this.movable&&n.button===0){var e={fake:!0,clientX:n.clientX,clientY:n.clientY};this.touches=[e],this.initAnchor(e),n.stopPropagation()}},onMouseMove:function(n){this.touches.length&&(this.processMove(n,[{fake:!0,clientX:n.clientX,clientY:n.clientY}]),n.preventDefault&&n.cancelable&&n.preventDefault(),n.stopPropagation())},onMouseUp:function(){this.processEnd()},initAnchor:function(n){var e=this.$refs.container.getBoundingClientRect(),t=e.left,r=e.top;this.anchor={x:n.clientX-t,y:n.clientY-r}},processMove:function(n,e){var t=as(e);if(this.touches.length){var r=this.$refs.container.getBoundingClientRect(),o=r.left,s=r.top;this.touches.length===1&&t.length===1&&this.$emit("move",new Xg({left:t[0].clientX-(o+this.anchor.x),top:t[0].clientY-(s+this.anchor.y)}))}},processEnd:function(){this.touches.length&&this.$emit("move-end"),this.touches=[]}},emits:["move","move-end"]};xS.render=function(n,e,t,r,o,s){return at(),xt("div",{ref:"container",onTouchstart:e[1]||(e[1]=function(){return s.onTouchStart&&s.onTouchStart.apply(s,arguments)}),onMousedown:e[2]||(e[2]=function(){return s.onMouseDown&&s.onMouseDown.apply(s,arguments)})},[Vn(n.$slots,"default")],544)};function ip(n){var e,t;return{rotate:n.rotate||0,flip:{horizontal:((e=n==null?void 0:n.flip)===null||e===void 0?void 0:e.horizontal)||!1,vertical:((t=n==null?void 0:n.flip)===null||t===void 0?void 0:t.vertical)||!1}}}function dL(n){return new Promise(function(e,t){try{if(n)if(/^data:/i.test(n))e(function(f){f=f.replace(/^data:([^;]+);base64,/gim,"");for(var d=atob(f),p=d.length,m=new ArrayBuffer(p),v=new Uint8Array(m),D=0;D<p;D++)v[D]=d.charCodeAt(D);return m}(n));else if(/^blob:/i.test(n)){var r=new FileReader;r.onload=function(f){e(f.target.result)},s=n,l=function(f){r.readAsArrayBuffer(f)},(u=new XMLHttpRequest).open("GET",s,!0),u.responseType="blob",u.onload=function(){this.status!=200&&this.status!==0||l(this.response)},u.send()}else{var o=new XMLHttpRequest;o.onreadystatechange=function(){o.readyState===4&&(o.status===200||o.status===0?e(o.response):t("Warning: could not load an image to parse its orientation"),o=null)},o.onprogress=function(){o.getResponseHeader("content-type")!=="image/jpeg"&&o.abort()},o.withCredentials=!1,o.open("GET",n,!0),o.responseType="arraybuffer",o.send(null)}else t("Error: the image is empty")}catch(f){t(f)}var s,l,u})}function ES(n){var e=n.rotate,t=n.flip,r=n.scaleX,o=n.scaleY,s="";return s+=" rotate("+e+"deg) ",s+=" scaleX("+r*(t.horizontal?-1:1)+") ",s+=" scaleY("+o*(t.vertical?-1:1)+") "}function pL(n){try{var e,t=new DataView(n),r=void 0,o=void 0,s=void 0,l=void 0;if(t.getUint8(0)===255&&t.getUint8(1)===216)for(var u=t.byteLength,f=2;f+1<u;){if(t.getUint8(f)===255&&t.getUint8(f+1)===225){s=f;break}f++}if(s&&(r=s+10,function(D,w,k){var M,R="";for(M=w,k+=w;M<k;M++)R+=String.fromCharCode(D.getUint8(M));return R}(t,s+4,4)==="Exif")){var d=t.getUint16(r);if(((o=d===18761)||d===19789)&&t.getUint16(r+2,o)===42){var p=t.getUint32(r+4,o);p>=8&&(l=r+p)}}if(l){for(var m=t.getUint16(l,o),v=0;v<m;v++)if(f=l+12*v+2,t.getUint16(f,o)===274){f+=8,e=t.getUint16(f,o),t.setUint16(f,1,o);break}}return e}catch{return null}}function Xb(n,e){var t=e.getBoundingClientRect(),r=t.left,o=t.top,s={left:0,top:0},l=0;return n.forEach(function(u){s.left+=(u.clientX-r)/n.length,s.top+=(u.clientY-o)/n.length}),n.forEach(function(u){l+=vS({x:s.left,y:s.top},{x:u.clientX-r,y:u.clientY-o})}),{centerMass:s,spread:l,count:n.length}}var kS={props:{touchMove:{type:Boolean,required:!0},mouseMove:{type:Boolean,required:!0},touchResize:{type:Boolean,required:!0},wheelResize:{type:[Boolean,Object],required:!0},eventsFilter:{type:Function,required:!1}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},created:function(){this.transforming=!1,this.debouncedProcessEnd=og(this.processEnd),this.touches=[]},methods:{processMove:function(n,e){if(this.touches.length){if(this.touches.length===1&&e.length===1)this.$emit("move",new Al({left:this.touches[0].clientX-e[0].clientX,top:this.touches[0].clientY-e[0].clientY}));else if(this.touches.length>1&&this.touchResize){var t=Xb(e,this.$refs.container),r=this.oldGeometricProperties;r.count===t.count&&r.count>1&&this.$emit("resize",new Al({left:r.centerMass.left-t.centerMass.left,top:r.centerMass.top-t.centerMass.top},{factor:r.spread/t.spread,center:t.centerMass})),this.oldGeometricProperties=t}this.touches=e}},processEnd:function(){this.transforming&&(this.transforming=!1,this.$emit("transform-end"))},processStart:function(){this.transforming=!0,this.debouncedProcessEnd.clear()},processEvent:function(n){return this.eventsFilter?this.eventsFilter(n,this.transforming)!==!1:(n.preventDefault(),n.stopPropagation(),!0)},onTouchStart:function(n){if(n.cancelable&&(this.touchMove||this.touchResize&&n.touches.length>1)&&this.processEvent(n)){var e=this.$refs.container,t=e.getBoundingClientRect(),r=t.left,o=t.top,s=t.bottom,l=t.right;this.touches=as(n.touches).filter(function(u){return u.clientX>r&&u.clientX<l&&u.clientY>o&&u.clientY<s}),this.oldGeometricProperties=Xb(this.touches,e)}},onTouchEnd:function(n){n.touches.length===0&&(this.touches=[],this.processEnd())},onTouchMove:function(n){var e=this;if(this.touches.length){var t=as(n.touches).filter(function(r){return!r.identifier||e.touches.find(function(o){return o.identifier===r.identifier})});this.processEvent(n)&&(this.processMove(n,t),this.processStart())}},onMouseDown:function(n){if(this.mouseMove&&"buttons"in n&&n.buttons===1&&this.processEvent(n)){var e={fake:!0,clientX:n.clientX,clientY:n.clientY};this.touches=[e],this.processStart()}},onMouseMove:function(n){this.touches.length&&this.processEvent(n)&&this.processMove(n,[{clientX:n.clientX,clientY:n.clientY}])},onMouseUp:function(){this.touches=[],this.processEnd()},onWheel:function(n){if(this.wheelResize&&this.processEvent(n)){var e=this.$refs.container.getBoundingClientRect(),t=e.left,r=e.top,o=1+this.wheelResize.ratio*(l=n.deltaY||n.detail||n.wheelDelta,(u=+l)==0||mS(u)?u:u>0?1:-1),s={left:n.clientX-t,top:n.clientY-r};this.$emit("resize",new Al({},{factor:o,center:s})),this.touches.length||this.debouncedProcessEnd()}var l,u}},emits:["resize","move","transform-end"]};kS.render=function(n,e,t,r,o,s){return at(),xt("div",{ref:"container",onTouchstart:e[1]||(e[1]=function(){return s.onTouchStart&&s.onTouchStart.apply(s,arguments)}),onMousedown:e[2]||(e[2]=function(){return s.onMouseDown&&s.onMouseDown.apply(s,arguments)}),onWheel:e[3]||(e[3]=function(){return s.onWheel&&s.onWheel.apply(s,arguments)})},[Vn(n.$slots,"default")],544)};var ug={components:{TransformableImage:kS},props:{touchMove:{type:Boolean,required:!0},mouseMove:{type:Boolean,required:!0},touchResize:{type:Boolean,required:!0},wheelResize:{type:[Boolean,Object],required:!0}},emits:["resize","move"]};ug.render=function(n,e,t,r,o,s){var l=Sr("transformable-image");return at(),xt(l,{"touch-move":t.touchMove,"touch-resize":t.touchResize,"mouse-move":t.mouseMove,"wheel-resize":t.wheelResize,onMove:e[1]||(e[1]=function(u){return n.$emit("move",u)}),onResize:e[2]||(e[2]=function(u){return n.$emit("resize",u)})},{default:tr(function(){return[Vn(n.$slots,"default")]}),_:3},8,["touch-move","touch-resize","mouse-move","wheel-resize"])};var nf=Hr("vue-preview"),AS={props:{coordinates:{type:Object},transitions:{type:Object},image:{type:Object,default:function(){return{}}},imageClass:{type:String},width:{type:Number},height:{type:Number},fill:{type:Boolean}},data:function(){return{calculatedImageSize:{width:0,height:0},calculatedSize:{width:0,height:0}}},computed:{classes:function(){return{root:nf({fill:this.fill}),wrapper:nf("wrapper"),imageWrapper:nf("image-wrapper"),image:sn(nf("image"),this.imageClass)}},style:function(){if(this.fill)return{};var n={};return this.width&&(n.width="".concat(this.size.width,"px")),this.height&&(n.height="".concat(this.size.height,"px")),this.transitions&&this.transitions.enabled&&(n.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),n},wrapperStyle:function(){var n={width:"".concat(this.size.width,"px"),height:"".concat(this.size.height,"px"),left:"calc(50% - ".concat(this.size.width/2,"px)"),top:"calc(50% - ".concat(this.size.height/2,"px)")};return this.transitions&&this.transitions.enabled&&(n.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),n},imageStyle:function(){if(this.coordinates&&this.image){var n=this.coordinates.width/this.size.width,e=pt(pt({rotate:0,flip:{horizontal:!1,vertical:!1}},this.image.transforms),{},{scaleX:1/n,scaleY:1/n}),t=this.imageSize.width,r=this.imageSize.height,o=DS({width:t,height:r},e.rotate),s={width:"".concat(t,"px"),height:"".concat(r,"px"),left:"0px",top:"0px"},l={rotate:{left:(t-o.width)*e.scaleX/2,top:(r-o.height)*e.scaleY/2},scale:{left:(1-e.scaleX)*t/2,top:(1-e.scaleY)*r/2}};return s.transform=`translate(
				`.concat(-this.coordinates.left/n-l.rotate.left-l.scale.left,"px,").concat(-this.coordinates.top/n-l.rotate.top-l.scale.top,"px) ")+ES(e),this.transitions&&this.transitions.enabled&&(s.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),s}return{}},size:function(){return{width:this.width||this.calculatedSize.width,height:this.height||this.calculatedSize.height}},imageSize:function(){return{width:this.image.width||this.calculatedImageSize.width,height:this.image.height||this.calculatedImageSize.height}}},watch:{image:function(n){(n.width||n.height)&&this.onChangeImage()}},mounted:function(){var n=this;this.onChangeImage(),this.$refs.image.addEventListener("load",function(){n.refreshImage()}),window.addEventListener("resize",this.refresh),window.addEventListener("orientationchange",this.refresh)},unmounted:function(){window.removeEventListener("resize",this.refresh),window.removeEventListener("orientationchange",this.refresh)},methods:{refreshImage:function(){var n=this.$refs.image;this.calculatedImageSize.height=n.naturalHeight,this.calculatedImageSize.width=n.naturalWidth},refresh:function(){var n=this.$refs.root;this.width||(this.calculatedSize.width=n.clientWidth),this.height||(this.calculatedSize.height=n.clientHeight)},onChangeImage:function(){var n=this.$refs.image;n&&n.complete&&this.refreshImage(),this.refresh()}}};AS.render=function(n,e,t,r,o,s){return at(),xt("div",{ref:"root",class:s.classes.root,style:s.style},[Mn("div",{ref:"wrapper",class:s.classes.wrapper,style:s.wrapperStyle},[fg(Mn("img",{ref:"image",src:t.image&&t.image.src,class:s.classes.image,style:s.imageStyle},null,14,["src"]),[[t1,t.image&&t.image.src]])],6)],6)};var TS={components:{Preview:AS},inheritAttrs:!1};TS.render=function(n,e,t,r,o,s){var l=Sr("preview");return at(),xt(l,Ul(n.$attrs,{fill:!0}),null,16)};var op=Hr("vue-rectangle-stencil"),OS={name:"RectangleStencil",components:{StencilPreview:TS,BoundingBox:CS,DraggableArea:xS},props:{image:{type:Object},coordinates:{type:Object},stencilCoordinates:{type:Object},handlers:{type:Object},handlersComponent:{type:[Object,String],default:function(){return Zg}},lines:{type:Object},linesComponent:{type:[Object,String],default:function(){return em}},aspectRatio:{type:[Number,String]},minAspectRatio:{type:[Number,String]},maxAspectRatio:{type:[Number,String]},movable:{type:Boolean,default:!0},resizable:{type:Boolean,default:!0},transitions:{type:Object},movingClass:{type:String},resizingClass:{type:String},previewClass:{type:String},boundingBoxClass:{type:String},linesClasses:{type:Object,default:function(){return{}}},linesWrappersClasses:{type:Object,default:function(){return{}}},handlersClasses:{type:Object,default:function(){return{}}},handlersWrappersClasses:{type:Object,default:function(){return{}}}},data:function(){return{moving:!1,resizing:!1}},computed:{classes:function(){return{stencil:sn(op({movable:this.movable,moving:this.moving,resizing:this.resizing}),this.moving&&this.movingClass,this.resizing&&this.resizingClass),preview:sn(op("preview"),this.previewClass),boundingBox:sn(op("bounding-box"),this.boundingBoxClass)}},style:function(){var n=this.stencilCoordinates,e=n.height,t=n.width,r=n.left,o=n.top,s={width:"".concat(t,"px"),height:"".concat(e,"px"),transform:"translate(".concat(r,"px, ").concat(o,"px)")};return this.transitions&&this.transitions.enabled&&(s.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),s}},methods:{onMove:function(n){this.$emit("move",n),this.moving=!0},onMoveEnd:function(){this.$emit("move-end"),this.moving=!1},onResize:function(n){this.$emit("resize",n),this.resizing=!0},onResizeEnd:function(){this.$emit("resize-end"),this.resizing=!1},aspectRatios:function(){return{minimum:this.aspectRatio||this.minAspectRatio,maximum:this.aspectRatio||this.maxAspectRatio}}},emits:["resize","resize-end","move","move-end"]};OS.render=function(n,e,t,r,o,s){var l=Sr("stencil-preview"),u=Sr("draggable-area"),f=Sr("bounding-box");return at(),xt("div",{class:s.classes.stencil,style:s.style},[Mn(f,{width:t.stencilCoordinates.width,height:t.stencilCoordinates.height,transitions:t.transitions,class:s.classes.boundingBox,handlers:t.handlers,"handlers-component":t.handlersComponent,"handlers-classes":t.handlersClasses,"handlers-wrappers-classes":t.handlersWrappersClasses,lines:t.lines,"lines-component":t.linesComponent,"lines-classes":t.linesClasses,"lines-wrappers-classes":t.linesWrappersClasses,resizable:t.resizable,onResize:s.onResize,onResizeEnd:s.onResizeEnd},{default:tr(function(){return[Mn(u,{movable:t.movable,onMove:s.onMove,onMoveEnd:s.onMoveEnd},{default:tr(function(){return[Mn(l,{image:t.image,coordinates:t.coordinates,width:t.stencilCoordinates.width,height:t.stencilCoordinates.height,class:s.classes.preview,transitions:t.transitions},null,8,["image","coordinates","width","height","class","transitions"])]}),_:1},8,["movable","onMove","onMoveEnd"])]}),_:1},8,["width","height","transitions","class","handlers","handlers-component","handlers-classes","handlers-wrappers-classes","lines","lines-component","lines-classes","lines-wrappers-classes","resizable","onResize","onResizeEnd"])],6)};var gL=["transitions"],Ci=Hr("vue-advanced-cropper"),mL={name:"Cropper",components:{BackgroundWrapper:ug},props:{src:{type:String,default:null},stencilComponent:{type:[Object,String],default:function(){return OS}},backgroundWrapperComponent:{type:[Object,String],default:function(){return ug}},stencilProps:{type:Object,default:function(){return{}}},autoZoom:{type:Boolean,default:!1},imageClass:{type:String},boundariesClass:{type:String},backgroundClass:{type:String},foregroundClass:{type:String},minWidth:{type:[Number,String]},minHeight:{type:[Number,String]},maxWidth:{type:[Number,String]},maxHeight:{type:[Number,String]},debounce:{type:[Boolean,Number],default:500},transitions:{type:Boolean,default:!0},checkOrientation:{type:Boolean,default:!0},canvas:{type:[Object,Boolean],default:!0},crossOrigin:{type:[Boolean,String],default:void 0},transitionTime:{type:Number,default:300},imageRestriction:{type:String,default:"fit-area",validator:function(n){return KR.indexOf(n)!==-1}},roundResult:{type:Boolean,default:!0},defaultSize:{type:[Function,Object]},defaultPosition:{type:[Function,Object]},defaultVisibleArea:{type:[Function,Object]},defaultTransforms:{type:[Function,Object]},defaultBoundaries:{type:[Function,String],validator:function(n){return!(typeof n=="string"&&n!=="fill"&&n!=="fit")}},priority:{type:String,default:"coordinates"},stencilSize:{type:[Object,Function]},resizeImage:{type:[Boolean,Object],default:!0},moveImage:{type:[Boolean,Object],default:!0},autoZoomAlgorithm:{type:Function},resizeAlgorithm:{type:Function,default:function(n){var e=n.event,t=n.coordinates,r=n.aspectRatio,o=n.positionRestrictions,s=n.sizeRestrictions,l=qe(qe({},t),{right:t.left+t.width,bottom:t.top+t.height}),u=e.params||{},f=qe({},e.directions),d=u.allowedDirections||{left:!0,right:!0,bottom:!0,top:!0};s.widthFrozen&&(f.left=0,f.right=0),s.heightFrozen&&(f.top=0,f.bottom=0),ii.forEach(function(b){d[b]||(f[b]=0)});var p=ni(l,f=Yb({coordinates:l,directions:f,sizeRestrictions:s,positionRestrictions:o})).width,m=ni(l,f).height,v=u.preserveRatio?gt(l):np(p/m,r);if(v){var D=u.respectDirection;if(D||(D=l.width>=l.height||v===1?"width":"height"),D==="width"){var w=p/v-l.height;if(d.top&&d.bottom){var k=f.top,M=f.bottom;f.bottom=tf(w,M,k),f.top=tf(w,k,M)}else d.bottom?f.bottom=w:d.top?f.top=w:d.right?f.right=0:d.left&&(f.left=0)}else if(D==="height"){var R=l.width-m*v;if(d.left&&d.right){var I=f.left,z=f.right;f.left=-tf(R,I,z),f.right=-tf(R,z,I)}else d.left?f.left=-R:d.right?f.right=-R:d.top?f.top=0:d.bottom&&(f.bottom=0)}f=Yb({directions:f,coordinates:l,sizeRestrictions:s,positionRestrictions:o,preserveRatio:!0,compensate:u.compensate})}return p=ni(l,f).width,m=ni(l,f).height,(v=u.preserveRatio?gt(l):np(p/m,r))&&Math.abs(v-p/m)>.001&&ii.forEach(function(b){d[b]||(f[b]=0)}),lg({event:new Xg({left:-f.left,top:-f.top}),coordinates:{width:t.width+f.right+f.left,height:t.height+f.top+f.bottom,left:t.left,top:t.top},positionRestrictions:o})}},moveAlgorithm:{type:Function,default:lg},initStretcher:{type:Function,default:function(n){var e=n.stretcher,t=n.imageSize,r=gt(t);e.style.width=t.width+"px",e.style.height=e.clientWidth/r+"px",e.style.width=e.clientWidth+"px"}},fitCoordinates:{type:Function,default:function(n){var e=n.visibleArea,t=n.coordinates,r=n.aspectRatio,o=n.sizeRestrictions,s=n.positionRestrictions,l=qe(qe({},t),Fi({width:t.width,height:t.height,aspectRatio:r,sizeRestrictions:{maxWidth:e.width,maxHeight:e.height,minHeight:Math.min(e.height,o.minHeight),minWidth:Math.min(e.width,o.minWidth)}}));return l=Cn(l=rr(l,ga(Sn(t),Sn(l))),Hc(hi(e),s))}},fitVisibleArea:{type:Function,default:function(n){var e=n.visibleArea,t=n.boundaries,r=n.getAreaRestrictions,o=n.coordinates,s=qe({},e);s.height=s.width/gt(t),s.top+=(e.height-s.height)/2,(o.height-s.height>0||o.width-s.width>0)&&(s=xr(s,Math.max(o.height/s.height,o.width/s.width)));var l=_c(va(o,hi(s=xr(s,$c(s,r({visibleArea:s,type:"resize"}))))));return s.width<o.width&&(l.left=0),s.height<o.height&&(l.top=0),s=Cn(s=rr(s,l),r({visibleArea:s,type:"move"}))}},areaRestrictionsAlgorithm:{type:Function,default:function(n){var e=n.visibleArea,t=n.boundaries,r=n.imageSize,o=n.imageRestriction,s=n.type,l={};return o==="fill-area"?l={left:0,top:0,right:r.width,bottom:r.height}:o==="fit-area"&&(gt(t)>gt(r)?(l={top:0,bottom:r.height},e&&s==="move"&&(e.width>r.width?(l.left=-(e.width-r.width)/2,l.right=r.width-l.left):(l.left=0,l.right=r.width))):(l={left:0,right:r.width},e&&s==="move"&&(e.height>r.height?(l.top=-(e.height-r.height)/2,l.bottom=r.height-l.top):(l.top=0,l.bottom=r.height)))),l}},sizeRestrictionsAlgorithm:{type:Function,default:function(n){return{minWidth:n.minWidth,minHeight:n.minHeight,maxWidth:n.maxWidth,maxHeight:n.maxHeight}}},positionRestrictionsAlgorithm:{type:Function,default:function(n){var e=n.imageSize,t={};return n.imageRestriction!=="none"&&(t={left:0,top:0,right:e.width,bottom:e.height}),t}}},data:function(){return{transitionsActive:!1,imageLoaded:!1,imageAttributes:{width:null,height:null,crossOrigin:null,src:null},defaultImageTransforms:{rotate:0,flip:{horizontal:!1,vertical:!1}},appliedImageTransforms:{rotate:0,flip:{horizontal:!1,vertical:!1}},boundaries:{width:0,height:0},visibleArea:null,coordinates:pt({},qb)}},computed:{image:function(){return{src:this.imageAttributes.src,width:this.imageAttributes.width,height:this.imageAttributes.height,transforms:this.imageTransforms}},imageTransforms:function(){return{rotate:this.appliedImageTransforms.rotate,flip:{horizontal:this.appliedImageTransforms.flip.horizontal,vertical:this.appliedImageTransforms.flip.vertical},translateX:this.visibleArea?this.visibleArea.left/this.coefficient:0,translateY:this.visibleArea?this.visibleArea.top/this.coefficient:0,scaleX:1/this.coefficient,scaleY:1/this.coefficient}},imageSize:function(){var n=function(e){return e*Math.PI/180}(this.imageTransforms.rotate);return{width:Math.abs(this.imageAttributes.width*Math.cos(n))+Math.abs(this.imageAttributes.height*Math.sin(n)),height:Math.abs(this.imageAttributes.width*Math.sin(n))+Math.abs(this.imageAttributes.height*Math.cos(n))}},initialized:function(){return!!(this.visibleArea&&this.imageLoaded)},settings:function(){var n=sg(this.resizeImage,{touch:!0,wheel:{ratio:.1},adjustStencil:!0},{touch:!1,wheel:!1,adjustStencil:!1});return{moveImage:sg(this.moveImage,{touch:!0,mouse:!0},{touch:!1,mouse:!1}),resizeImage:n}},coefficient:function(){return this.visibleArea?this.visibleArea.width/this.boundaries.width:0},areaRestrictions:function(){return this.imageLoaded?this.areaRestrictionsAlgorithm({imageSize:this.imageSize,imageRestriction:this.imageRestriction,boundaries:this.boundaries}):{}},transitionsOptions:function(){return{enabled:this.transitionsActive,timingFunction:"ease-in-out",time:350}},sizeRestrictions:function(){if(this.boundaries.width&&this.boundaries.height&&this.imageSize.width&&this.imageSize.height){var n=this.sizeRestrictionsAlgorithm({imageSize:this.imageSize,minWidth:fn(this.minWidth)?0:Zu(this.minWidth),minHeight:fn(this.minHeight)?0:Zu(this.minHeight),maxWidth:fn(this.maxWidth)?1/0:Zu(this.maxWidth),maxHeight:fn(this.maxHeight)?1/0:Zu(this.maxHeight)});if(n=function(r){var o=r.areaRestrictions,s=r.sizeRestrictions;r.imageSize;var l=r.boundaries,u=r.positionRestrictions;r.imageRestriction;var f=qe(qe({},s),{minWidth:s.minWidth!==void 0?s.minWidth:0,minHeight:s.minHeight!==void 0?s.minHeight:0,maxWidth:s.maxWidth!==void 0?s.maxWidth:1/0,maxHeight:s.maxHeight!==void 0?s.maxHeight:1/0});u.left!==void 0&&u.right!==void 0&&(f.maxWidth=Math.min(f.maxWidth,u.right-u.left)),u.bottom!==void 0&&u.top!==void 0&&(f.maxHeight=Math.min(f.maxHeight,u.bottom-u.top));var d=ag(o),p=wS(l,d);return d.width<1/0&&(!f.maxWidth||f.maxWidth>p.width)&&(f.maxWidth=Math.min(f.maxWidth,p.width)),d.height<1/0&&(!f.maxHeight||f.maxHeight>p.height)&&(f.maxHeight=Math.min(f.maxHeight,p.height)),f.minWidth>f.maxWidth&&(f.minWidth=f.maxWidth,f.widthFrozen=!0),f.minHeight>f.maxHeight&&(f.minHeight=f.maxHeight,f.heightFrozen=!0),f}({sizeRestrictions:n,areaRestrictions:this.getAreaRestrictions({visibleArea:this.visibleArea,type:"resize"}),imageSize:this.imageSize,boundaries:this.boundaries,positionRestrictions:this.positionRestrictions,imageRestriction:this.imageRestriction,visibleArea:this.visibleArea,stencilSize:this.getStencilSize()}),this.visibleArea&&this.stencilSize){var e=this.getStencilSize(),t=ag(this.getAreaRestrictions({visibleArea:this.visibleArea,type:"resize"}));n.maxWidth=Math.min(n.maxWidth,t.width*e.width/this.boundaries.width),n.maxHeight=Math.min(n.maxHeight,t.height*e.height/this.boundaries.height),n.maxWidth<n.minWidth&&(n.minWidth=n.maxWidth),n.maxHeight<n.minHeight&&(n.minHeight=n.maxHeight)}return n}return{minWidth:0,minHeight:0,maxWidth:0,maxHeight:0}},positionRestrictions:function(){return this.positionRestrictionsAlgorithm({imageSize:this.imageSize,imageRestriction:this.imageRestriction})},classes:function(){return{cropper:Ci(),image:sn(Ci("image"),this.imageClass),stencil:Ci("stencil"),boundaries:sn(Ci("boundaries"),this.boundariesClass),stretcher:sn(Ci("stretcher")),background:sn(Ci("background"),this.backgroundClass),foreground:sn(Ci("foreground"),this.foregroundClass),imageWrapper:sn(Ci("image-wrapper")),cropperWrapper:sn(Ci("cropper-wrapper"))}},stencilCoordinates:function(){if(this.initialized){var n=this.coordinates,e=n.width,t=n.height,r=n.left,o=n.top;return{width:e/this.coefficient,height:t/this.coefficient,left:(r-this.visibleArea.left)/this.coefficient,top:(o-this.visibleArea.top)/this.coefficient}}return this.defaultCoordinates()},boundariesStyle:function(){var n={width:this.boundaries.width?"".concat(Math.round(this.boundaries.width),"px"):"auto",height:this.boundaries.height?"".concat(Math.round(this.boundaries.height),"px"):"auto",transition:"opacity ".concat(this.transitionTime,"ms"),pointerEvents:this.imageLoaded?"all":"none"};return this.imageLoaded||(n.opacity="0"),n},imageStyle:function(){var n=this.imageAttributes.width>this.imageAttributes.height?{width:Math.min(1024,this.imageAttributes.width),height:Math.min(1024,this.imageAttributes.width)/(this.imageAttributes.width/this.imageAttributes.height)}:{height:Math.min(1024,this.imageAttributes.height),width:Math.min(1024,this.imageAttributes.height)*(this.imageAttributes.width/this.imageAttributes.height)},e={left:(n.width-this.imageSize.width)/(2*this.coefficient),top:(n.height-this.imageSize.height)/(2*this.coefficient)},t={left:(1-1/this.coefficient)*n.width/2,top:(1-1/this.coefficient)*n.height/2},r=pt(pt({},this.imageTransforms),{},{scaleX:this.imageTransforms.scaleX*(this.imageAttributes.width/n.width),scaleY:this.imageTransforms.scaleY*(this.imageAttributes.height/n.height)}),o={width:"".concat(n.width,"px"),height:"".concat(n.height,"px"),left:"0px",top:"0px",transform:"translate(".concat(-e.left-t.left-this.imageTransforms.translateX,"px, ").concat(-e.top-t.top-this.imageTransforms.translateY,"px)")+ES(r)};return this.transitionsOptions.enabled&&(o.transition="".concat(this.transitionsOptions.time,"ms ").concat(this.transitionsOptions.timingFunction)),o}},watch:{src:function(){this.onChangeImage()},stencilComponent:function(){var n=this;this.$nextTick(function(){n.resetCoordinates(),n.runAutoZoom("setCoordinates"),n.onChange()})},minWidth:function(){this.onPropsChange()},maxWidth:function(){this.onPropsChange()},minHeight:function(){this.onPropsChange()},maxHeight:function(){this.onPropsChange()},imageRestriction:function(){this.reset()},stencilProps:function(n,e){["aspectRatio","minAspectRatio","maxAspectRatio"].find(function(t){return n[t]!==e[t]})&&this.$nextTick(this.onPropsChange)}},created:function(){this.debouncedUpdate=og(this.update,this.debounce),this.debouncedDisableTransitions=og(this.disableTransitions,this.transitionsOptions.time),this.awaiting=!1},mounted:function(){this.$refs.image.addEventListener("load",this.onSuccessLoadImage),this.$refs.image.addEventListener("error",this.onFailLoadImage),this.onChangeImage(),window.addEventListener("resize",this.refresh),window.addEventListener("orientationchange",this.refresh)},unmounted:function(){window.removeEventListener("resize",this.refresh),window.removeEventListener("orientationchange",this.refresh),this.imageAttributes.revoke&&this.imageAttributes.src&&URL.revokeObjectURL(this.imageAttributes.src),this.debouncedUpdate.clear(),this.debouncedDisableTransitions.clear()},methods:{getResult:function(){var n=this.initialized?this.prepareResult(pt({},this.coordinates)):this.defaultCoordinates(),e={rotate:this.imageTransforms.rotate%360,flip:pt({},this.imageTransforms.flip)};if(this.src&&this.imageLoaded){var t=this;return{image:this.image,coordinates:n,visibleArea:this.visibleArea?pt({},this.visibleArea):null,imageTransforms:e,get canvas(){return t.canvas?t.getCanvas():void 0}}}return{image:this.image,coordinates:n,visibleArea:this.visibleArea?pt({},this.visibleArea):null,canvas:void 0,imageTransforms:e}},zoom:function(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=t.transitions,o=r===void 0||r;this.onManipulateImage(new Al({},{factor:1/n,center:e}),{normalize:!1,transitions:o})},move:function(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=t.transitions,o=r===void 0||r;this.onManipulateImage(new Al({left:n||0,top:e||0}),{normalize:!1,transitions:o})},setCoordinates:function(n){var e=this,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.autoZoom,o=r===void 0||r,s=t.transitions,l=s===void 0||s;this.$nextTick(function(){e.imageLoaded?(e.transitionsActive||(l&&e.enableTransitions(),e.coordinates=e.applyTransform(n),o&&e.runAutoZoom("setCoordinates"),l&&e.debouncedDisableTransitions()),e.onChange()):e.delayedTransforms=n})},refresh:function(){var n=this,e=this.$refs.image;if(this.src&&e)return this.initialized?this.updateVisibleArea().then(function(){n.onChange()}):this.resetVisibleArea().then(function(){n.onChange()})},reset:function(){var n=this;return this.resetVisibleArea().then(function(){n.onChange(!1)})},awaitRender:function(n){var e=this;this.awaiting||(this.awaiting=!0,this.$nextTick(function(){n(),e.awaiting=!1}))},prepareResult:function(n){return this.roundResult?function(e){var t=e.coordinates,r=e.sizeRestrictions,o=e.positionRestrictions,s={width:Math.round(t.width),height:Math.round(t.height),left:Math.round(t.left),top:Math.round(t.top)};return s.width>r.maxWidth?s.width=Math.floor(t.width):s.width<r.minWidth&&(s.width=Math.ceil(t.width)),s.height>r.maxHeight?s.height=Math.floor(t.height):s.height<r.minHeight&&(s.height=Math.ceil(t.height)),Cn(s,o)}(pt(pt({},this.getPublicProperties()),{},{positionRestrictions:ef(this.positionRestrictions,this.visibleArea),coordinates:n})):n},processAutoZoom:function(n,e,t,r){var o=this.autoZoomAlgorithm;o||(o=this.stencilSize?YR:this.autoZoom?XR:QR);var s=o({event:{type:n,params:r},visibleArea:e,coordinates:t,boundaries:this.boundaries,aspectRatio:this.getAspectRatio(),positionRestrictions:this.positionRestrictions,getAreaRestrictions:this.getAreaRestrictions,sizeRestrictions:this.sizeRestrictions,stencilSize:this.getStencilSize()});return pt(pt({},s),{},{changed:!Kb(s.visibleArea,e)||!Kb(s.coordinates,t)})},runAutoZoom:function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.transitions,r=t!==void 0&&t,o=_R(e,gL),s=this.processAutoZoom(n,this.visibleArea,this.coordinates,o),l=s.visibleArea,u=s.coordinates,f=s.changed;r&&f&&this.enableTransitions(),this.visibleArea=l,this.coordinates=u,r&&f&&this.debouncedDisableTransitions()},normalizeEvent:function(n){return function(e){var t=e.event,r=e.visibleArea,o=e.coefficient;if(t.type==="manipulateImage")return qe(qe({},t),{move:{left:t.move&&t.move.left?o*t.move.left:0,top:t.move&&t.move.top?o*t.move.top:0},scale:{factor:t.scale&&t.scale.factor?t.scale.factor:1,center:t.scale&&t.scale.center?{left:t.scale.center.left*o+r.left,top:t.scale.center.top*o+r.top}:null}});if(t.type==="resize"){var s=qe(qe({},t),{directions:qe({},t.directions)});return ii.forEach(function(u){s.directions[u]*=o}),s}if(t.type==="move"){var l=qe(qe({},t),{directions:qe({},t.directions)});return qR.forEach(function(u){l.directions[u]*=o}),l}return t}(pt(pt({},this.getPublicProperties()),{},{event:n}))},getCanvas:function(){if(this.$refs.canvas){var n=this.$refs.canvas,e=this.$refs.image,t=this.imageTransforms.rotate!==0||this.imageTransforms.flip.horizontal||this.imageTransforms.flip.vertical?function(u,f,d){var p=d.rotate,m=d.flip,v={width:f.naturalWidth,height:f.naturalHeight},D=DS(v,p),w=u.getContext("2d");u.height=D.height,u.width=D.width,w.save();var k=fo(Sn(qe({left:0,top:0},v)),p);return w.translate(-(k.left-D.width/2),-(k.top-D.height/2)),w.rotate(p*Math.PI/180),w.translate(m.horizontal?v.width:0,m.vertical?v.height:0),w.scale(m.horizontal?-1:1,m.vertical?-1:1),w.drawImage(f,0,0,v.width,v.height),w.restore(),u}(this.$refs.sourceCanvas,e,this.imageTransforms):e,r=pt({minWidth:0,minHeight:0,maxWidth:1/0,maxHeight:1/0,maxArea:this.maxCanvasSize,imageSmoothingEnabled:!0,imageSmoothingQuality:"high",fillColor:"transparent"},this.canvas),o=function(u){return u.find(function(f){return d=f,!Number.isNaN(parseFloat(d))&&isFinite(d);var d})},s=Fi({sizeRestrictions:{minWidth:o([r.width,r.minWidth])||0,minHeight:o([r.height,r.minHeight])||0,maxWidth:o([r.width,r.maxWidth])||1/0,maxHeight:o([r.height,r.maxHeight])||1/0},width:this.coordinates.width,height:this.coordinates.height,aspectRatio:{minimum:this.coordinates.width/this.coordinates.height,maximum:this.coordinates.width/this.coordinates.height}});if(r.maxArea&&s.width*s.height>r.maxArea){var l=Math.sqrt(r.maxArea/(s.width*s.height));s={width:Math.round(l*s.width),height:Math.round(l*s.height)}}return function(u,f,d,p,m){u.width=p?p.width:d.width,u.height=p?p.height:d.height;var v=u.getContext("2d");v.clearRect(0,0,u.width,u.height),m&&(m.imageSmoothingEnabled&&(v.imageSmoothingEnabled=m.imageSmoothingEnabled),m.imageSmoothingQuality&&(v.imageSmoothingQuality=m.imageSmoothingQuality),m.fillColor&&(v.fillStyle=m.fillColor,v.fillRect(0,0,u.width,u.height),v.save()));var D=d.left<0?-d.left:0,w=d.top<0?-d.top:0;v.drawImage(f,d.left+D,d.top+w,d.width,d.height,D,w,u.width,u.height)}(n,t,this.coordinates,s,r),n}},update:function(){this.$emit("change",this.getResult())},applyTransform:function(n){var e=arguments.length>1&&arguments[1]!==void 0&&arguments[1],t=this.visibleArea&&e?GR(this.sizeRestrictions,this.visibleArea):this.sizeRestrictions,r=this.visibleArea&&e?ef(this.positionRestrictions,this.visibleArea):this.positionRestrictions;return JR({transform:n,coordinates:this.coordinates,imageSize:this.imageSize,sizeRestrictions:t,positionRestrictions:r,aspectRatio:this.getAspectRatio(),visibleArea:this.visibleArea})},resetCoordinates:function(){var n=this;if(this.$refs.image){this.$refs.cropper,this.$refs.image;var e=this.defaultSize;e||(e=this.stencilSize?tL:eL);var t=this.sizeRestrictions;t.minWidth,t.minHeight,t.maxWidth,t.maxHeight;var r=Us(e)?e({boundaries:this.boundaries,imageSize:this.imageSize,aspectRatio:this.getAspectRatio(),sizeRestrictions:this.sizeRestrictions,stencilSize:this.getStencilSize(),visibleArea:this.visibleArea}):e,o=this.defaultPosition||ZR,s=[r,function(l){var u=l.coordinates;return pt({},Us(o)?o({coordinates:u,imageSize:n.imageSize,visibleArea:n.visibleArea}):n.defaultPosition)}];this.delayedTransforms&&s.push.apply(s,as(Array.isArray(this.delayedTransforms)?this.delayedTransforms:[this.delayedTransforms])),this.coordinates=this.applyTransform(s,!0),this.delayedTransforms=null}},clearImage:function(){var n=this;this.imageLoaded=!1,setTimeout(function(){var e=n.$refs.stretcher;e&&(e.style.height="auto",e.style.width="auto"),n.coordinates=n.defaultCoordinates(),n.boundaries={width:0,height:0}},this.transitionTime)},enableTransitions:function(){this.transitions&&(this.transitionsActive=!0)},disableTransitions:function(){this.transitionsActive=!1},updateBoundaries:function(){var n=this,e=this.$refs.stretcher,t=this.$refs.cropper;return this.initStretcher({cropper:t,stretcher:e,imageSize:this.imageSize}),this.$nextTick().then(function(){var r={cropper:t,imageSize:n.imageSize};if(Us(n.defaultBoundaries)?n.boundaries=n.defaultBoundaries(r):n.defaultBoundaries==="fit"?n.boundaries=function(o){var s=o.cropper,l=o.imageSize,u=s.clientHeight,f=s.clientWidth,d=u,p=l.width*u/l.height;return p>f&&(p=f,d=l.height*f/l.width),{width:p,height:d}}(r):n.boundaries=function(o){var s=o.cropper;return{width:s.clientWidth,height:s.clientHeight}}(r),!n.boundaries.width||!n.boundaries.height)throw new Error("It's impossible to fit the cropper in the current container")})},resetVisibleArea:function(){var n=this;return this.appliedImageTransforms=pt(pt({},this.defaultImageTransforms),{},{flip:pt({},this.defaultImageTransforms.flip)}),this.updateBoundaries().then(function(){n.priority!=="visible-area"&&(n.visibleArea=null,n.resetCoordinates());var e,t,r,o,s,l,u=n.defaultVisibleArea||nL;n.visibleArea=Us(u)?u({imageSize:n.imageSize,boundaries:n.boundaries,coordinates:n.priority!=="visible-area"?n.coordinates:null,getAreaRestrictions:n.getAreaRestrictions,stencilSize:n.getStencilSize()}):n.defaultVisibleArea,n.visibleArea=(e={visibleArea:n.visibleArea,boundaries:n.boundaries,getAreaRestrictions:n.getAreaRestrictions},t=e.visibleArea,r=e.boundaries,o=e.getAreaRestrictions,s=qe({},t),l=gt(r),s.width/s.height!==l&&(s.height=s.width/l),Cn(s,o({visibleArea:s,type:"move"}))),n.priority==="visible-area"?n.resetCoordinates():n.coordinates=n.fitCoordinates({visibleArea:n.visibleArea,coordinates:n.coordinates,aspectRatio:n.getAspectRatio(),positionRestrictions:n.positionRestrictions,sizeRestrictions:n.sizeRestrictions}),n.runAutoZoom("resetVisibleArea")}).catch(function(){n.visibleArea=null})},updateVisibleArea:function(){var n=this;return this.updateBoundaries().then(function(){n.visibleArea=n.fitVisibleArea({imageSize:n.imageSize,boundaries:n.boundaries,visibleArea:n.visibleArea,coordinates:n.coordinates,getAreaRestrictions:n.getAreaRestrictions}),n.coordinates=n.fitCoordinates({visibleArea:n.visibleArea,coordinates:n.coordinates,aspectRatio:n.getAspectRatio(),positionRestrictions:n.positionRestrictions,sizeRestrictions:n.sizeRestrictions}),n.runAutoZoom("updateVisibleArea")}).catch(function(){n.visibleArea=null})},onChange:function(){var n=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];n&&this.debounce?this.debouncedUpdate():this.update()},onChangeImage:function(){var n,e=this;if(this.imageLoaded=!1,this.delayedTransforms=null,this.src){if(function(o){if(Ub(o))return!1;var s=window.location,l=/(\w+:)?(?:\/\/)([\w.-]+)?(?::(\d+))?\/?/.exec(o)||[],u={protocol:l[1]||"",host:l[2]||"",port:l[3]||""},f=function(d){return d.port||((d.protocol||s.protocol)==="http"?80:433)};return!(!u.protocol&&!u.host&&!u.port||u.protocol&&u.protocol==s.protocol&&u.host&&u.host==s.host&&u.host&&f(u)==f(s))}(this.src)){var t=fn(this.crossOrigin)?this.canvas:this.crossOrigin;t===!0&&(t="anonymous"),this.imageAttributes.crossOrigin=t||null}if(this.checkOrientation){var r=(n=this.src,new Promise(function(o){dL(n).then(function(s){var l=pL(s);o(s?{source:n,arrayBuffer:s,orientation:l}:{source:n,arrayBuffer:null,orientation:null})}).catch(function(s){console.warn(s),o({source:n,arrayBuffer:null,orientation:null})})}));setTimeout(function(){r.then(e.onParseImage)},this.transitionTime)}else setTimeout(function(){e.onParseImage({source:e.src})},this.transitionTime)}else this.clearImage()},onFailLoadImage:function(){this.imageAttributes.src&&(this.clearImage(),this.$emit("error"))},onSuccessLoadImage:function(){var n=this,e=this.$refs.image;e&&!this.imageLoaded&&(this.imageAttributes.height=e.naturalHeight,this.imageAttributes.width=e.naturalWidth,this.imageLoaded=!0,this.resetVisibleArea().then(function(){n.$emit("ready"),n.onChange(!1)}))},onParseImage:function(n){var e=this,t=n.source,r=n.arrayBuffer,o=n.orientation;this.imageAttributes.revoke&&this.imageAttributes.src&&URL.revokeObjectURL(this.imageAttributes.src),this.imageAttributes.revoke=!1,r&&o&&o>1?gS(t)||!Ub(t)?(this.imageAttributes.src=URL.createObjectURL(new Blob([r])),this.imageAttributes.revoke=!0):this.imageAttributes.src=function(s){for(var l=[],u=new Uint8Array(s);u.length>0;){var f=u.subarray(0,8192);l.push(String.fromCharCode.apply(null,Array.from?Array.from(f):f.slice())),u=u.subarray(8192)}return"data:image/jpeg;base64,"+btoa(l.join(""))}(r):this.imageAttributes.src=t,Us(this.defaultTransforms)?this.appliedImageTransforms=ip(this.defaultTransforms()):bf(this.defaultTransforms)?this.appliedImageTransforms=ip(this.defaultTransforms):this.appliedImageTransforms=function(s){var l=ip({});if(s)switch(s){case 2:l.flip.horizontal=!0;break;case 3:l.rotate=-180;break;case 4:l.flip.vertical=!0;break;case 5:l.rotate=90,l.flip.vertical=!0;break;case 6:l.rotate=90;break;case 7:l.rotate=90,l.flip.horizontal=!0;break;case 8:l.rotate=-90}return l}(o),this.defaultImageTransforms=pt(pt({},this.appliedImageTransforms),{},{flip:pt({},this.appliedImageTransforms.flip)}),this.$nextTick(function(){var s=e.$refs.image;s&&s.complete&&(function(l){return!!l.naturalWidth}(s)?e.onSuccessLoadImage():e.onFailLoadImage())})},onResizeEnd:function(){this.runAutoZoom("resize",{transitions:!0})},onMoveEnd:function(){this.runAutoZoom("move",{transitions:!0})},onMove:function(n){var e=this;this.transitionsOptions.enabled||this.awaitRender(function(){e.coordinates=e.moveAlgorithm(pt(pt({},e.getPublicProperties()),{},{positionRestrictions:ef(e.positionRestrictions,e.visibleArea),coordinates:e.coordinates,event:e.normalizeEvent(n)})),e.onChange()})},onResize:function(n){var e=this;this.transitionsOptions.enabled||this.stencilSize&&!this.autoZoom||this.awaitRender(function(){var t=e.sizeRestrictions,r=Math.min(e.coordinates.width,e.coordinates.height,20*e.coefficient);e.coordinates=e.resizeAlgorithm(pt(pt({},e.getPublicProperties()),{},{positionRestrictions:ef(e.positionRestrictions,e.visibleArea),sizeRestrictions:{maxWidth:Math.min(t.maxWidth,e.visibleArea.width),maxHeight:Math.min(t.maxHeight,e.visibleArea.height),minWidth:Math.max(t.minWidth,r),minHeight:Math.max(t.minHeight,r)},event:e.normalizeEvent(n)})),e.onChange(),e.ticking=!1})},onManipulateImage:function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.transitionsOptions.enabled){var t=e.transitions,r=t!==void 0&&t,o=e.normalize,s=o===void 0||o;r&&this.enableTransitions();var l=rL(pt(pt({},this.getPublicProperties()),{},{event:s?this.normalizeEvent(n):n,getAreaRestrictions:this.getAreaRestrictions,imageRestriction:this.imageRestriction,adjustStencil:!this.stencilSize&&this.settings.resizeImage.adjustStencil})),u=l.visibleArea,f=l.coordinates;this.visibleArea=u,this.coordinates=f,this.runAutoZoom("manipulateImage"),this.onChange(),r&&this.debouncedDisableTransitions()}},onPropsChange:function(){this.coordinates=this.applyTransform(this.coordinates,!0),this.onChange(!1)},getAreaRestrictions:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=n.visibleArea,t=n.type,r=t===void 0?"move":t;return this.areaRestrictionsAlgorithm({boundaries:this.boundaries,imageSize:this.imageSize,imageRestriction:this.imageRestriction,visibleArea:e,type:r})},getAspectRatio:function(n){var e,t,r=this.stencilProps,o=r.aspectRatio,s=r.minAspectRatio,l=r.maxAspectRatio;if(this.$refs.stencil&&this.$refs.stencil.aspectRatios){var u=this.$refs.stencil.aspectRatios();e=u.minimum,t=u.maximum}if(fn(e)&&(e=fn(o)?s:o),fn(t)&&(t=fn(o)?l:o),!n&&(fn(e)||fn(t))){var f=this.getStencilSize(),d=f?gt(f):null;fn(e)&&(e=Vb(d)?d:void 0),fn(t)&&(t=Vb(d)?d:void 0)}return{minimum:e,maximum:t}},getStencilSize:function(){if(this.stencilSize)return n={currentStencilSize:{width:this.stencilCoordinates.width,height:this.stencilCoordinates.height},stencilSize:this.stencilSize,boundaries:this.boundaries,coefficient:this.coefficient,coordinates:this.coordinates,aspectRatio:this.getAspectRatio(!0)},e=n.boundaries,t=n.stencilSize,r=n.aspectRatio,np(gt(o=Us(t)?t({boundaries:e,aspectRatio:r}):t),r)&&(o=Fi({sizeRestrictions:{maxWidth:e.width,maxHeight:e.height,minWidth:0,minHeight:0},width:o.width,height:o.height,aspectRatio:{minimum:r.minimum,maximum:r.maximum}})),(o.width>e.width||o.height>e.height)&&(o=Fi({sizeRestrictions:{maxWidth:e.width,maxHeight:e.height,minWidth:0,minHeight:0},width:o.width,height:o.height,aspectRatio:{minimum:gt(o),maximum:gt(o)}})),o;var n,e,t,r,o},getPublicProperties:function(){return{coefficient:this.coefficient,visibleArea:this.visibleArea,coordinates:this.coordinates,boundaries:this.boundaries,sizeRestrictions:this.sizeRestrictions,positionRestrictions:this.positionRestrictions,aspectRatio:this.getAspectRatio(),imageRestriction:this.imageRestriction}},defaultCoordinates:function(){return pt({},qb)},flip:function(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=t.transitions,o=r===void 0||r;if(!this.transitionsActive){o&&this.enableTransitions();var s=pt({},this.imageTransforms.flip),l=oL({flip:{horizontal:n?!s.horizontal:s.horizontal,vertical:e?!s.vertical:s.vertical},previousFlip:s,rotate:this.imageTransforms.rotate,visibleArea:this.visibleArea,coordinates:this.coordinates,imageSize:this.imageSize,positionRestrictions:this.positionRestrictions,sizeRestrictions:this.sizeRestrictions,getAreaRestrictions:this.getAreaRestrictions,aspectRatio:this.getAspectRatio()}),u=l.visibleArea,f=l.coordinates;n&&(this.appliedImageTransforms.flip.horizontal=!this.appliedImageTransforms.flip.horizontal),e&&(this.appliedImageTransforms.flip.vertical=!this.appliedImageTransforms.flip.vertical),this.visibleArea=u,this.coordinates=f,this.onChange(),o&&this.debouncedDisableTransitions()}},rotate:function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.transitions,r=t===void 0||t;if(!this.transitionsActive){r&&this.enableTransitions();var o=pt({},this.imageSize);this.appliedImageTransforms.rotate+=n;var s=iL({visibleArea:this.visibleArea,coordinates:this.coordinates,previousImageSize:o,imageSize:this.imageSize,angle:n,positionRestrictions:this.positionRestrictions,sizeRestrictions:this.sizeRestrictions,getAreaRestrictions:this.getAreaRestrictions,aspectRatio:this.getAspectRatio()}),l=s.visibleArea,u=s.coordinates,f=this.processAutoZoom("rotateImage",l,u);l=f.visibleArea,u=f.coordinates,this.visibleArea=l,this.coordinates=u,this.onChange(),r&&this.debouncedDisableTransitions()}}},emits:["change","error","ready"]},vL={key:0,ref:"canvas",style:{display:"none"}},yL={key:1,ref:"sourceCanvas",style:{display:"none"}};mL.render=function(n,e,t,r,o,s){return at(),xt("div",{ref:"cropper",class:s.classes.cropper},[Mn("div",{ref:"stretcher",class:s.classes.stretcher},null,2),Mn("div",{class:s.classes.boundaries,style:s.boundariesStyle},[(at(),xt(ns(t.backgroundWrapperComponent),{class:s.classes.cropperWrapper,"wheel-resize":s.settings.resizeImage.wheel,"touch-resize":s.settings.resizeImage.touch,"touch-move":s.settings.moveImage.touch,"mouse-move":s.settings.moveImage.mouse,onMove:s.onManipulateImage,onResize:s.onManipulateImage},{default:tr(function(){return[Mn("div",{class:s.classes.background,style:s.boundariesStyle},null,6),Mn("div",{class:s.classes.imageWrapper},[Mn("img",{ref:"image",crossorigin:o.imageAttributes.crossOrigin,src:o.imageAttributes.src,class:s.classes.image,style:s.imageStyle,onMousedown:e[1]||(e[1]=_x(function(){},["prevent"]))},null,46,["crossorigin","src"])],2),Mn("div",{class:s.classes.foreground,style:s.boundariesStyle},null,6),fg((at(),xt(ns(t.stencilComponent),Ul({ref:"stencil",image:s.image,coordinates:o.coordinates,"stencil-coordinates":s.stencilCoordinates,transitions:s.transitionsOptions},t.stencilProps,{onResize:s.onResize,onResizeEnd:s.onResizeEnd,onMove:s.onMove,onMoveEnd:s.onMoveEnd}),null,16,["image","coordinates","stencil-coordinates","transitions","onResize","onResizeEnd","onMove","onMoveEnd"])),[[t1,o.imageLoaded]]),t.canvas?(at(),xt("canvas",vL,null,512)):wf("",!0),t.canvas?(at(),xt("canvas",yL,null,512)):wf("",!0)]}),_:1},8,["class","wheel-resize","touch-resize","touch-move","mouse-move","onMove","onResize"]))],6)],2)};export{NL as $,fB as A,fD as B,Le as C,sB as D,lB as E,ke as F,HL as G,ll as H,WL as I,Bl as J,xn as K,Mi as L,$L as M,Xe as N,cB as O,Lc as P,hB as Q,wn as R,ft as S,f2 as T,pR as U,gR as V,dB as W,gB as X,mB as Y,pB as Z,Ml as _,wD as a,AL as a0,OL as a1,RL as a2,LL as a3,BL as a4,bT as a5,PL as a6,IL as a7,zL as a8,FL as a9,_L as aa,vB as ab,mL as ac,CL as ad,SL as ae,TL as af,xL as ag,kL as ah,EL as ai,tB as b,Ql as c,Dt as d,jL as e,uD as f,eB as g,XL as h,UL as i,YL as j,GL as k,Xl as l,hD as m,VL as n,qL as o,Sf as p,QL as q,nB as r,uB as s,ZL as t,KL as u,JL as v,rB as w,oB as x,iB as y,aB as z};
